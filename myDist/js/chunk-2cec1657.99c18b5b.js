(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2cec1657"],{2298:function(t,e,a){},"3b2b":function(t,e,a){"use strict";var n=a("f549");a.n(n).a},"3c0c":function(t,e,a){"use strict";var n=a("9d1e");a.n(n).a},"468e":function(t,e,a){"use strict";var n=a("4aae");a.n(n).a},4989:function(t,e,a){},"4aae":function(t,e,a){},5731:function(t,e){t.exports="data:image/png;base64,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"},"5c16":function(t,e,a){"use strict";var n=a("2298");a.n(n).a},7397:function(t,e,a){"use strict";a.r(e);var n=a("5530"),i=a("57d5"),s=a("2f62"),o=(a("99af"),a("7db0"),a("a15b"),a("d81d"),a("2387")),r=(a("96cf"),a("1da1")),c=a("ad32"),l=a("7775"),u={props:{visible:{type:Boolean,default:!1},curData:{type:Object,default:null},ProductID:{type:String,default:""}},components:{CommonDialogComp:c.a},data:function(){return{title:"添加部件",ruleForm:null,isEdit:!1,rules:{Name:[{required:!0,message:"请输入部件名称",trigger:"blur"},{min:1,max:10,message:"长度在 1 到 10 个字符",trigger:"blur"},{pattern:l.f,message:"名称仅支持中文、英文(全角/半角)、+-_(全角/半角)、数字(全角/半角)",trigger:"blur"}],UseTimes:[{validator:this.checkUseTimes,trigger:"change"}]}}},methods:{onSubmit:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$refs.ruleForm.validate().catch((function(){}));case 2:e.sent&&t.$emit("submit",t.ruleForm);case 4:case"end":return e.stop()}}),e)})))()},onCancle:function(){this.$emit("update:visible",!1)},onOpen:function(){this.$nextTick(this.initEditData)},onClosed:function(){this.ruleForm=null,this.isEdit=!1},initEditData:function(){this.title=this.curData?"编辑部件":"添加部件",this.isEdit=!!this.curData;var t={ID:"",Name:"",UseTimes:{MinValue:"",MaxValue:""},ProductID:this.ProductID};if(this.isEdit){var e=this.curData,a=e.ID,i=e.Name,s=e.UseTimes;t.ID=a,t.Name=i,t.UseTimes=Object(n.a)({},s)}this.ruleForm=t},checkUseTimes:function(t,e,a){if(e){var n=e.MinValue,i=e.MaxValue;if(!n&&0!==n||!i&&0!==i)a(new Error("请填写和补充最大最小值"));else if(this.$utils.isPositiveInteger(n,!1,!0))if(this.$utils.isPositiveInteger(i))if(0!==n||0!==i)if(n<0||i<0)a(new Error("输入值不能为负，最大值不可设为-1"));else if(i<n)a(new Error("最大值不能小于最小值"));else{if(this.isEdit&&this.curData&&this.curData.UseTimes.MinValue>0&&this.curData.UseTimes.MaxValue>1){if(1===i&&1===n)return void a(new Error("1至多次及多至多次均不能改为1至1次"));if(0===n&&i>1)return void a(new Error("1至多次及多至多次均不能改为0至多次"))}a()}else a(new Error("最大最小值不能同时为0"));else a(new Error("最大值应为数字类型且必须为正整数"));else a(new Error("最小值应为数字类型且不小于0"))}else a(new Error("未获取到填写数值"))}}},m=(a("3b2b"),a("2877")),d=Object(m.a)(u,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CommonDialogComp",{staticClass:"mp-erp-comps-pruduct-module-part-save-dialog-comp-wrap",attrs:{width:"800px",top:"13vh",title:t.title,visible:t.visible},on:{"update:visible":function(e){t.visible=e},submit:t.onSubmit,cancle:t.onCancle,open:t.onOpen,closed:t.onClosed}},[t.ruleForm?a("el-form",{ref:"ruleForm",staticClass:"file-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"188px",size:"small"}},[a("el-form-item",{key:"FileName",attrs:{label:"名称：",prop:"Name"}},[a("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:"请输入部件名称",maxlength:"10","show-word-limit":""},model:{value:t.ruleForm.Name,callback:function(e){t.$set(t.ruleForm,"Name","string"==typeof e?e.trim():e)},expression:"ruleForm.Name"}})],1),a("el-form-item",{key:"GroupUseTimes",staticClass:"use-times-box",attrs:{label:"使用次数：",prop:"UseTimes"}},[a("el-input",{staticStyle:{width:"110px"},attrs:{disabled:t.isEdit&&1===t.curData.UseTimes.MinValue&&1===t.curData.UseTimes.MaxValue,maxlength:"9"},model:{value:t.ruleForm.UseTimes.MinValue,callback:function(e){t.$set(t.ruleForm.UseTimes,"MinValue",t._n("string"==typeof e?e.trim():e))},expression:"ruleForm.UseTimes.MinValue"}}),a("span",[t._v("≤ 次数 ≤")]),a("el-input",{staticStyle:{width:"110px"},attrs:{disabled:t.isEdit&&1===t.curData.UseTimes.MinValue&&1===t.curData.UseTimes.MaxValue,maxlength:"9"},model:{value:t.ruleForm.UseTimes.MaxValue,callback:function(e){t.$set(t.ruleForm.UseTimes,"MaxValue",t._n("string"==typeof e?e.trim():e))},expression:"ruleForm.UseTimes.MaxValue"}})],1),a("p",{staticClass:"remark"},[t._v("编辑时，需要注意以下几点：")]),a("p",{staticClass:"tips-box"},[a("i",{staticClass:"el-icon-warning"}),t._v(" 使用次数1至1次时：使用次数不能更改，影响很大。")]),a("p",{staticClass:"tips-box"},[a("i",{staticClass:"el-icon-warning"}),t._v(" 1至多次：不能改为1至1次，影响很大。改为0至多次，有些影响。")]),a("p",{staticClass:"tips-box"},[a("i",{staticClass:"el-icon-warning"}),t._v(" 多至多次：不能改为1至1次，影响很大。改为0至多次，有些影响。")])],1):t._e()],1)}),[],!1,null,null,null).exports,p=(a("4de4"),a("d3b7"),a("3ca3"),a("ddb0"),a("2909")),f=a("3835"),h={props:{visible:{type:Boolean,default:!1},curData:{type:Object,default:null},itemData:{type:Object,default:null}},components:{CommonDialogComp:c.a},computed:Object(n.a)({},Object(s.e)("productManage",["ProductElementTypeList"]),{selectedElementIDs:function(){return this.List.map((function(t){return t.Second})).filter((function(t){return t}))}}),data:function(){return{PartID:"",ElementData:{PositionID:"",List:[]},loading:!1,List:[]}},methods:{onSubmit:function(){var t={ProductID:this.itemData.ID,PartID:this.PartID,List:this.List};this.$emit("submit",t)},onCancle:function(){this.$emit("update:visible",!1)},onOpen:function(){this.$nextTick(this.initEditData)},onClosed:function(){this.PartID="",this.List=[]},initEditData:function(){var t=this;this.curData&&(this.PartID=this.curData.ID);var e=this.PartID||this.itemData.ID;this.ElementData.PositionID=e,this.getDataList(),this.List=this.ProductElementTypeList.filter((function(e){return!e.onlyProduct||!t.curData})).map((function(e){var a="",n=(t.curData?t.curData.TypeList:t.itemData.TypeList).find((function(t){return t.First===e.ID}));return n&&(a=n.Second),{Second:a,First:e.ID,label:e.Name,needFormula:e.needFormula}}))},getDataList:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var a,n,i,s,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,Promise.all([t.getElementList(),t.getFormulaList()]);case 3:a=e.sent,n=Object(f.a)(a,2),i=n[0],s=n[1],t.loading=!1,o=i.filter((function(t){return 1===t.Type&&!t.Group})),t.ElementData.List=[].concat(Object(p.a)(o),Object(p.a)(s));case 10:case"end":return e.stop()}}),e)})))()},getElementList:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getElementList({positionID:t.ElementData.PositionID},!0).catch((function(){}));case 2:if(!(a=e.sent)||200!==a.status||1e3!==a.data.Status){e.next=5;break}return e.abrupt("return",a.data.Data);case 5:return t.ElementData.PositionID="",e.abrupt("return",[]);case 7:case"end":return e.stop()}}),e)})))()},getFormulaList:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.curData){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,t.api.getFormulaList({ProductID:t.itemData.ID,UseModule:1},!0).catch((function(){}));case 4:if(!(a=e.sent)||200!==a.status||1e3!==a.data.Status){e.next=7;break}return e.abrupt("return",a.data.Data.map((function(t){return Object(n.a)({},t,{Name:"公式：".concat(t.Name),isFormula:!0})})));case 7:return t.ElementData.PositionID="",e.abrupt("return",[]);case 9:case"end":return e.stop()}}),e)})))()}}},v=(a("c06b"),Object(m.a)(h,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.itemData?a("CommonDialogComp",{staticClass:"mp-erp-comps-pruduct-module-product-element-map-set-dialog-comp-wrap",attrs:{width:"650px",top:"15vh",title:"设置元素",visible:t.visible,loading:t.loading},on:{"update:visible":function(e){t.visible=e},submit:t.onSubmit,cancle:t.onCancle,open:t.onOpen,closed:t.onClosed}},[t.loading?t._e():a("ul",{staticClass:"list"},t._l(t.List,(function(e){return a("li",{key:e.First,staticClass:"item"},[a("span",{staticClass:"label"},[t._v(t._s(e.label)+"：")]),a("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:e.Second,callback:function(a){t.$set(e,"Second",a)},expression:"it.Second"}},t._l(t.ElementData.List,(function(n){return a("el-option",{key:n.ID,attrs:{disabled:t.selectedElementIDs.includes(n.ID)&&e.Second!==n.ID||!e.needFormula&&n.isFormula,label:n.Name,value:n.ID}})})),1)],1)})),0)]):t._e()}),[],!1,null,null,null)).exports,g={props:{itemData:{type:Object,default:null}},components:{TipsSpanButton:o.a,PartSaveDialog:d,ProductMapSetDialog:v},computed:Object(n.a)({},Object(s.c)("common",["twoLevelsProductClassify"]),{helpOrderChecked:{get:function(){return!!this.itemData&&this.itemData.AllowValetOrder},set:function(){this.$store.dispatch("productManage/getOrderStatusChange",["ValetOrderStatus",this.itemData.ID])}},customOrderChecked:{get:function(){return!!this.itemData&&this.itemData.AllowCustomOrder},set:function(){this.$store.dispatch("productManage/getOrderStatusChange",["CustomOrderStatus",this.itemData.ID])}},ClassifyText:function(){if(!this.itemData)return"";var t=this.itemData.ClassifyList;return t&&Array.isArray(t)&&0!==t.length?t.map((function(t){return"".concat(t.FirstLevel.Name,"-").concat(t.SecondLevel.Name)})).join("，"):""}}),data:function(){return{extend:!1,visible:!1,curPartData:null,mapVisible:!1}},methods:{onExtendClick:function(){this.extend=!this.extend,this.extend?sessionStorage.setItem("lastExtendProductID",this.itemData.ID):sessionStorage.removeItem("lastExtendProductID")},onProductSaveClick:function(){this.$store.commit("productManage/setCurEditData",this.itemData),this.$router.push("/ProductDataSave/".concat(Date.now()))},onRemoveClick:function(){var t=this;this.messageBox.warnCancelBox("确定删除该产品吗","产品名称：".concat(this.itemData.Name),(function(){t.$store.dispatch("productManage/getProductRemove",t.itemData.ID)}))},setCommonPathJump:function(t,e){var a=this.itemData,n=a.Name,i="",s=a.ClassifyList.find((function(t){return 1===t.Type}));s&&(i="".concat(s.FirstLevel.Name)),i+="-".concat(n);var o=e?e.ID:this.itemData.ID;i+=e?"：".concat(e.Name):"";var r=e?"部件":"产品";if("ProductElementSet"!==t)if("ProductDisplaySort"!==t){var c=e?e.ID:null;this.$router.push("/".concat(t,"/").concat(this.itemData.ID,"/").concat(c,"/").concat(i,"/").concat(r,"/").concat(Date.now()))}else{var l=e?e.ID:null,u=e?e.MaterialDisplayName:this.itemData.MaterialDisplayName;this.$router.push("/".concat(t,"/").concat(this.itemData.ID,"/").concat(l,"/").concat(i,"/").concat(r,"/").concat(u,"/").concat(Date.now()))}else this.$router.push("/".concat(t,"/").concat(o,"/").concat(i,"/").concat(r,"/").concat(Date.now()))},onElementSaveClick:function(t){this.setCommonPathJump("ProductElementSet",t)},onProductSizeMaterialSetClick:function(t){this.setCommonPathJump("ProductSizeMaterialSet",t)},onProductCraftSetClick:function(t){this.setCommonPathJump("ProductCraftSet",t)},onProductDisplaySortSetClick:function(t){this.setCommonPathJump("ProductDisplaySort",t)},onProductFactorySetClick:function(){this.setCommonPathJump("ProductFactorySet")},onPartSaveClick:function(t){this.curPartData=t,this.visible=!0},onPartSaveSubmit:function(t){var e=this;if(this.itemData.PartList.find((function(e){return e.Name===t.Name&&e.ID!==t.ID})))this.messageBox.failSingleError("保存失败","部件名称不能与其它部件名称重复");else{this.$store.dispatch("productManage/getProductPartSave",[t,function(){e.visible=!1,e.extend=!0}])}},onPartRemoveClick:function(t){var e=this,a=t.ID,n=t.ProductID,i=t.Name;this.messageBox.warnCancelBox("确定删除该部件吗","部件名称：".concat(i),(function(){e.$store.dispatch("productManage/getProductPartRemove",[a,n])}))},onElementMapSetClick:function(t){this.curPartData=t,this.mapVisible=!0},onMapSetSubmit:function(t){var e=this;this.$store.dispatch("productManage/getProductBindElementType",[t,function(){e.mapVisible=!1}])}},mounted:function(){var t=sessionStorage.getItem("lastExtendProductID");t&&t===this.itemData.ID&&(this.extend=!0)}},D=(a("5c16"),Object(m.a)(g,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.itemData?a("section",{staticClass:"mp-erp-product-manage-table-item-comp-wrap",class:t.extend?"extend":""},[a("header",[a("div",{staticClass:"title-box"},[a("span",{staticClass:"name",attrs:{title:t.itemData.Name}},[t._v(t._s(t.itemData.Name))]),a("span",{staticClass:"show-name",attrs:{title:t.itemData.ShowName}},[t._v(t._s(t.itemData.ShowName))])]),a("div",{staticClass:"classify-box"},[a("span",{attrs:{title:t.ClassifyText}},[t._v(t._s(t.ClassifyText))])]),a("div",{staticClass:"order-ctrl"},[a("el-checkbox",{model:{value:t.helpOrderChecked,callback:function(e){t.helpOrderChecked=e},expression:"helpOrderChecked"}},[t._v("可代客下单")]),a("el-checkbox",{model:{value:t.customOrderChecked,callback:function(e){t.customOrderChecked=e},expression:"customOrderChecked"}},[t._v("可自助上传")])],1),a("div",{staticClass:"text-menu-box"},[a("TipsSpanButton",{attrs:{text:"界面元素"},nativeOn:{click:function(e){return t.onElementSaveClick(null)}}}),a("TipsSpanButton",{attrs:{text:"尺寸物料"},nativeOn:{click:function(e){return t.onProductSizeMaterialSetClick(null)}}}),a("TipsSpanButton",{attrs:{text:"工艺"},nativeOn:{click:function(e){return t.onProductCraftSetClick(null)}}}),a("TipsSpanButton",{attrs:{text:"设置元素"},nativeOn:{click:function(e){return t.onElementMapSetClick(null)}}}),a("TipsSpanButton",{staticStyle:{"margin-right":"40px"},attrs:{text:"显示顺序"},nativeOn:{click:function(e){return t.onProductDisplaySortSetClick(null)}}}),a("TipsSpanButton",{attrs:{text:"工厂"},nativeOn:{click:function(e){return t.onProductFactorySetClick(e)}}}),a("TipsSpanButton",{attrs:{text:"文件"},nativeOn:{click:function(e){return t.setCommonPathJump("ProductFileList")}}}),a("TipsSpanButton",{attrs:{text:"公式"},nativeOn:{click:function(e){return t.setCommonPathJump("ProductFormulaList")}}}),a("TipsSpanButton",{attrs:{text:"交互"},nativeOn:{click:function(e){return t.setCommonPathJump("ProductInteractionList")}}}),a("TipsSpanButton",{attrs:{text:"文件名设置"},nativeOn:{click:function(e){return t.setCommonPathJump("ProductFileNameSet")}}}),a("TipsSpanButton",{attrs:{text:"库存"},nativeOn:{click:function(e){return t.setCommonPathJump("ProductStockList")}}})],1),a("div",{staticClass:"img-menu-box"},[a("span",{on:{click:function(e){return t.onPartSaveClick(null)}}},[a("i"),t._v("添加部件 ")]),a("span",{on:{click:t.onProductSaveClick}},[a("i"),t._v("编辑 ")]),a("span",{on:{click:t.onRemoveClick}},[a("i"),t._v("删除 ")])]),a("div",{staticClass:"extend-box",class:t.itemData.PartList&&t.itemData.PartList.length>0?"":"disabled",on:{click:t.onExtendClick}},[t.extend?a("span",[t._v("隐藏")]):a("span",[t._v("展开")]),t.extend?a("i",{staticClass:"el-icon-caret-top"}):a("i",{staticClass:"el-icon-caret-bottom"})])]),a("ul",t._l(t.itemData.PartList,(function(e){return a("li",{key:e.PartID},[a("div",[a("span",{attrs:{title:e.Name}},[t._v(t._s(e.Name))])]),a("div",[a("TipsSpanButton",{attrs:{text:"界面元素"},nativeOn:{click:function(a){return t.onElementSaveClick(e)}}}),a("TipsSpanButton",{attrs:{text:"尺寸物料"},nativeOn:{click:function(a){return t.onProductSizeMaterialSetClick(e)}}}),a("TipsSpanButton",{attrs:{text:"工艺"},nativeOn:{click:function(a){return t.onProductCraftSetClick(e)}}}),a("TipsSpanButton",{attrs:{text:"设置元素"},nativeOn:{click:function(a){return t.onElementMapSetClick(e)}}}),a("TipsSpanButton",{attrs:{text:"显示顺序"},nativeOn:{click:function(a){return t.onProductDisplaySortSetClick(e)}}})],1),a("div",[a("TipsSpanButton",{attrs:{text:"编辑"},nativeOn:{click:function(a){return t.onPartSaveClick(e)}}}),a("TipsSpanButton",{attrs:{text:"删除",isRed:""},nativeOn:{click:function(a){return t.onPartRemoveClick(e)}}})],1)])})),0),a("PartSaveDialog",{attrs:{visible:t.visible,curData:t.curPartData,ProductID:t.itemData.ID},on:{"update:visible":function(e){t.visible=e},submit:t.onPartSaveSubmit}}),a("ProductMapSetDialog",{attrs:{visible:t.mapVisible,curData:t.curPartData,itemData:t.itemData},on:{"update:visible":function(e){t.mapVisible=e},submit:t.onMapSetSubmit}})],1):t._e()}),[],!1,null,null,null)).exports,b={props:{listData:{type:Array,default:function(){return[]}}},components:{ProductTableItemComp:D},computed:Object(n.a)({},Object(s.e)("productManage",["isTableDataLoading"]))},C=(a("3c0c"),Object(m.a)(b,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("article",{staticClass:"mp-erp-product-manage-table-comp-wrap"},[n("div",{staticClass:"content"},[t._m(0),t.isTableDataLoading||0!==t.listData.length?t._e():n("div",{staticClass:"empty-box"},[n("img",{attrs:{src:a("5731"),alt:""}}),n("p",{staticClass:"is-font-size-12 is-gray"},[t._v("暂无产品")])]),t._l(t.listData,(function(t){return n("ProductTableItemComp",{key:t.ProductID,attrs:{itemData:t}})}))],2)])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"list-header"},[a("span",{staticClass:"name"},[t._v("内部名称")]),a("span",{staticClass:"show-name"},[t._v("显示名称")]),a("span",{staticClass:"classify"},[t._v("所属分类")]),a("span",{staticClass:"order-ctrl"},[t._v("下单方式")]),a("span",{staticClass:"setup"},[t._v("设置")]),a("span",{staticClass:"operate"},[t._v("操作")])])}],!1,null,null,null)).exports,P=a("8aa1"),S=a("ebb2"),x={name:"ProductManageList",components:{SearchInputComp:i.a,ProductTableComp:C,Count:P.a,NewProductClassifySelectComp:S.a},computed:Object(n.a)({},Object(s.e)("productManage",["condition4ProductManageList","ProductManageList","ProductManageListNumber","isTableDataLoading"]),{},Object(s.e)("common",["OperatorKeyValueList"]),{ProductClass:{get:function(){return this.condition4ProductManageList.ProductClass},set:function(t){this.$store.commit("productManage/setCondition4ProductManageList",[["ProductClass",""],t]),this.getManageProductList()}}}),data:function(){return{}},methods:{getManageProductList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.$store.dispatch("productManage/getManageProductList",t)},setObjForListData:function(t){this.$store.commit("productManage/setCondition4ProductManageList",t)},clearCondition:function(){this.$store.commit("productManage/clearCondition4ProductManageList")},goToClassifyPage:function(){this.$router.push("/ProductClassifyManage")},handlePageChange:function(t){this.getManageProductList(t)},onProductSaveClick:function(t){this.$store.commit("productManage/setCurEditData",t),this.$router.push("/ProductDataSave/".concat(Date.now()))}},mounted:function(){this.getManageProductList()}},k=(a("8aa6"),Object(m.a)(x,(function(){var t=this,e=this,a=e.$createElement,n=e._self._c||a;return n("section",{staticClass:"mp-erp-product-manage-list-page-wrap"},[n("header",[n("div",{staticClass:"left"},[n("el-button",{staticClass:"mp-common-btn-styles",attrs:{type:"primary"},on:{click:function(t){return e.onProductSaveClick(null)}}},[e._v("添加产品")]),n("el-button",{staticClass:"mp-common-btn-styles",attrs:{type:"primary"},on:{click:e.goToClassifyPage}},[e._v("管理产品分类")]),n("NewProductClassifySelectComp",{model:{value:e.ProductClass,callback:function(t){e.ProductClass=t},expression:"ProductClass"}})],1),n("search-input-comp",{staticClass:"search-section",attrs:{typeList:[["KeyWords",""]],title:"",placeholder:"请输入产品内部名称",requestFunc:e.getManageProductList,changePropsFunc:e.setObjForListData,word:e.condition4ProductManageList.KeyWords,searchWatchKey:e.ProductManageList,resetWords:"清空所有筛选条件"},on:{reset:function(){return t.clearCondition()}}})],1),n("main",[n("ProductTableComp",{attrs:{listData:e.ProductManageList}})],1),n("footer",[n("Count",{attrs:{watchPage:e.condition4ProductManageList.Page,handlePageChange:e.handlePageChange,count:e.ProductManageListNumber,center:"",pageSize:e.condition4ProductManageList.PageSize}})],1)])}),[],!1,null,null,null));e.default=k.exports},"8aa6":function(t,e,a){"use strict";var n=a("9a90");a.n(n).a},"9a90":function(t,e,a){},"9d1e":function(t,e,a){},ad32:function(t,e,a){"use strict";var n={model:{prop:"value",event:"change"},props:{visible:{type:Boolean,default:!1},title:{type:String,default:"提示"},width:{default:"30%"},top:{type:String,default:"15vh"},showSubmit:{type:Boolean,default:!0},submitText:{type:String,default:"保存"},dangerText:{type:String,default:"重新生成"},cancelText:{type:String,default:"取消"},disabled:{type:Boolean,default:!1},showDanger:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},computed:{dialogVisible:{get:function(){return this.visible},set:function(t){this.$emit("update:visible",t)}}},data:function(){return{checkList:[]}},methods:{onCancleClick:function(){this.$emit("cancle")},onSubmitClick:function(t){this.dialogVisible&&("BUTTON"===t.target.nodeName?t.target.blur():"BUTTON"===t.target.parentNode.nodeName&&t.target.parentNode.blur(),this.$emit("submit"))},onDangerClick:function(){this.$emit("danger")},onOpen:function(){this.$emit("open")},onOpened:function(){this.$emit("opened")},onClose:function(){this.$emit("close")},onClosed:function(){this.$emit("closed")}}},i=(a("468e"),a("2877")),s=Object(i.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticClass:"mp-img-style-header mp-erp-common-dialog-comp-wrap",attrs:{title:t.title,visible:t.dialogVisible,"close-on-click-modal":!1,width:t.width,top:t.top,modal:!1,"before-close":t.onCancleClick},on:{"update:visible":function(e){t.dialogVisible=e},open:t.onOpen,opened:t.onOpened,close:t.onClose,closed:t.onClosed}},[t._t("default"),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t.$slots["foot-tip"]?a("div",[t._t("foot-tip")],2):t._e(),a("p",[t.showSubmit?a("el-button",{attrs:{type:"primary",loading:t.loading,disabled:t.disabled},on:{click:t.onSubmitClick}},[t._v(t._s(t.loading?"加载中":t.submitText))]):t._e(),t.showDanger?a("el-button",{attrs:{type:"danger"},on:{click:t.onDangerClick}},[t._v(t._s(t.dangerText))]):t._e(),a("el-button",{on:{click:t.onCancleClick}},[t._v(t._s(t.cancelText))])],1)])],2)}),[],!1,null,null,null);e.a=s.exports},c06b:function(t,e,a){"use strict";var n=a("4989");a.n(n).a},f549:function(t,e,a){}}]);