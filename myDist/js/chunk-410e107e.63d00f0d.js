(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-410e107e"],{5966:function(t,e,i){"use strict";var a=i("9508");i.n(a).a},9508:function(t,e,i){},ea3b:function(t,e,i){"use strict";i.r(e);var a=(i("b0c0"),i("5530")),s=i("2f62"),r=i("9477"),o=i("a9e4"),n={name:"ProductStockSpecificationAdd",data:function(){return{ProductID:"",PartID:"",ProductName:"",titleType:"",fixedPartName:"",rightData:{Number:"",Unit:"",Property:null},selectVisible:!1}},components:{ContionCommonComp:r.a,FormulaPanelElementSelectDialog:o.a},computed:Object(a.a)({},Object(s.e)("productManage",["StockLeftPropertyList","StockRightPropertyList"])),methods:{getPositionID:function(){if(this.$route.params){var t=this.$route.params,e=t.ProductID,i=t.PartID,a=t.name,s=t.type,r=t.fixedPartName;e&&i&&a&&s?(this.ProductID=e,this.PartID="null"!==i?i:"",this.ProductName=a,this.titleType=s,this.fixedPartName=r):this.onGoBackClick()}else this.onGoBackClick()},onSubmitClick:function(){var t=this.$refs.oLeftComp.getConditonResult();if(t)if(this.rightData.Property)if(this.rightData.Number||0===this.rightData.Number)if(this.$utils.isPositiveInteger(this.rightData.Number,!0,!0)){var e=this.ProductID,i=this.PartID,s=Object(a.a)({},t,{},this.rightData,{ProductID:e,PartID:i});this.$store.dispatch("productManage/getProductStockSave",[s,this.onGoBackClick])}else this.messageBox.failSingleError("保存失败","初始库存输入值不正确，可为0，-1及正整数");else this.messageBox.failSingleError("保存失败","请输入初始库存");else this.messageBox.failSingleError("保存失败","请选择核减数量元素")},onGoBackClick:function(){this.$goback()},onElementSelect:function(t){this.rightData.Property=t}},mounted:function(){this.getPositionID()}},l=(i("5966"),i("2877")),c=Object(l.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"mp-erp-product-list-page-product-stock-set-comp-wrap"},[i("header",[i("span",[t._v("当前"+t._s(t.titleType)+"：")]),i("span",[t._v(t._s(t.ProductName))])]),i("main",[i("ContionCommonComp",{ref:"oLeftComp",attrs:{PropertyList:t.StockLeftPropertyList,rightTitle:"产品库存"}},[i("p",[i("span",{staticClass:"label"},[t._v("核减数量：")]),i("span",{staticClass:"blue-span",on:{click:function(e){t.selectVisible=!0}}},[t._v("选择")]),t.rightData.Property?i("span",{staticClass:"selected-property"},[i("i",[t._v(t._s(t.rightData.Property.DisplayContent.replace(/\[|\]/g,"")))]),t.rightData.Property.Unit?i("i",[t._v("（单位："+t._s(t.rightData.Property.Unit)+"）")]):t._e()]):t._e()]),i("ul",[i("li",[i("span",{staticClass:"label"},[t._v("初始库存：")]),i("el-input",{attrs:{maxlength:"9",size:"small"},model:{value:t.rightData.Number,callback:function(e){t.$set(t.rightData,"Number",t._n("string"==typeof e?e.trim():e))},expression:"rightData.Number"}}),i("span",{staticClass:"intro"},[t._v("-1代表无穷大")])],1),i("li",[i("span",{staticClass:"label"},[t._v("单位：")]),i("el-input",{attrs:{maxlength:"6",size:"small"},model:{value:t.rightData.Unit,callback:function(e){t.$set(t.rightData,"Unit","string"==typeof e?e.trim():e)},expression:"rightData.Unit"}})],1)])]),i("FormulaPanelElementSelectDialog",{attrs:{DialogTitle:t.fixedPartName,fixedPartName:t.fixedPartName,visible:t.selectVisible,list:t.StockRightPropertyList,selectedElementIDs:[]},on:{"update:visible":function(e){t.selectVisible=e},submit:t.onElementSelect}})],1),i("footer",[t._m(0),i("el-button",{attrs:{type:"primary"},on:{click:t.onSubmitClick}},[t._v("保存")]),i("el-button",{on:{click:t.onGoBackClick}},[i("i",{staticClass:"el-icon-d-arrow-left"}),t._v(" 返回")])],1)])}),[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("span",{staticClass:"is-origin"},[t._v("注：保存后不能再进行编辑，只能更改库存数量")])])}],!1,null,null,null);e.default=c.exports}}]);