(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-d9b464f8"],{"047a":function(e,t,n){"use strict";var r=n("578e");n.n(r).a},"09f8":function(e,t,n){"use strict";var r={props:{title:{type:String,default:"关闭"},disabled:{type:Boolean,default:!1}}},a=(n("3f2b"),n("2877")),i=Object(a.a)(r,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("button",{staticClass:"normal-full-btn",class:e.disabled?"is-disabled":"",attrs:{disabled:e.disabled}},[e._v(e._s(e.title))])}),[],!1,null,null,null);t.a=i.exports},"24de":function(e,t,n){},"286f":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c})),n("4de4"),n("7db0"),n("4160"),n("caad"),n("d81d"),n("d3b7"),n("6062"),n("2532"),n("3ca3"),n("159b"),n("ddb0");var r=n("5530"),a=n("2909"),i=/^全部/;function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ClassName";if(!e||0===e.length)return[];var l=JSON.parse(JSON.stringify(t)),c=Object(a.a)(new Set(e.map((function(e){return e.RegionalID})))),s=Object(a.a)(new Set(e.map((function(e){return e.CityID})))),o=Object(a.a)(new Set(e.map((function(e){return e.CountyID})))),u=l.filter((function(e){return c.includes(e.ID)}));if((u=(u=u.map((function(e){return Object(r.a)({},e,{children:e.children.filter((function(e){return s.includes(e.ID)}))})}))).map((function(e){var t=e.children.map((function(e){var t,a=!0;return e.children.forEach((function(e){o.includes(e.ID)||(a=!1)})),a?a&&(t=["全部".concat(e[n],"区域")]):t=e.children.filter((function(e){return o.includes(e.ID)})),Object(r.a)({},e,{children:t})})),a=!0;(t.forEach((function(e){i.test(e.children[0])||(a=!1)})),a)&&l.find((function(t){return t.ID===e.ID})).children.forEach((function(e){!s.includes(e.ID)&&e.children.length>0&&(a=!1)}));var c=a?["全部".concat(e[n])]:t;return Object(r.a)({},e,{children:c})}))).length===t.length){var h=!0;u.forEach((function(e){i.test(e.children[0])||(h=!1)})),h&&(u="全部区域")}return u}function c(e,t){if(!e||0===e.length)return[];var n=JSON.parse(JSON.stringify(t)),l=Object(a.a)(new Set(e.map((function(e){return e.FirstLevelID})))),c=Object(a.a)(new Set(e.map((function(e){return e.SecondLevelID})))),s=Object(a.a)(new Set(e.map((function(e){return e.ProductID})))),o=n.filter((function(e){return l.includes(e.ID)}));if((o=(o=o.map((function(e){return Object(r.a)({},e,{children:e.children.filter((function(e){return c.includes(e.ID)}))})}))).map((function(e){var t=e.children.map((function(e){var t,n=!0;return e.children.forEach((function(e){s.includes(e.ID)||(n=!1)})),n?n&&(t=["全部".concat(e.ClassName,"产品")]):t=e.children.filter((function(e){return s.includes(e.ID)})),Object(r.a)({},e,{children:t})})),a=!0;(t.forEach((function(e){i.test(e.children[0])||(a=!1)})),a)&&n.find((function(t){return t.ID===e.ID})).children.forEach((function(e){c.includes(e.ID)||(a=!1)}));var l=a?["全部".concat(e.ClassName,"产品")]:t;return Object(r.a)({},e,{children:l})}))).length===t.filter((function(e){return e.children.length>0})).length){var u=!0;o.forEach((function(e){i.test(e.children[0])||(u=!1)})),u&&(o="全部产品")}return o}},"32af":function(e,t,n){},"3f2b":function(e,t,n){"use strict";var r=n("436f");n.n(r).a},"436f":function(e,t,n){},"578e":function(e,t,n){},6062:function(e,t,n){"use strict";var r=n("6d61"),a=n("6566");e.exports=r("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),a)},"64dc":function(e,t,n){"use strict";var r=(n("4160"),n("caad"),n("2532"),n("159b"),n("2909")),a={props:{title:{type:String,default:"销售区域"},treeList:{type:Array,default:function(){return[]}},defaultProps:{type:Object,default:function(){return{children:"children",label:"ClassName"}}},defaultNodeKey:{type:String,default:"ID"},defaultCheckedKeys:{type:Array,default:function(){return[]}},handleChangeFunc:{type:Function,default:function(){}},watchValue:{},shouldDisabledList:{type:Array,default:function(){return[]}},showDisabled:{type:Boolean,default:!1},checkAllTitle:{type:String,default:"所有地区"},isDisabled:{type:Boolean,default:!1},isProduct:{type:Boolean,default:!1}},computed:{defaultExpandedKeys:function(){if(0===this.treeList.length||!this.treeList)return[];var e=[];return this.treeList.forEach((function(t){t.children.forEach((function(t){e.push(t.ID)}))})),e},treeListHasDisabled:function(){var e=this,t=JSON.parse(JSON.stringify(Object(r.a)(this.treeList))),n=this.watchValue;return t.forEach((function(t){var r=0;t.children.forEach((function(a){var i=0;a.children.forEach((function(r){e.shouldDisabledList.includes(r[e.defaultNodeKey])&&(Array.isArray(n)&&n.includes(r[e.defaultNodeKey])?(r.disabled=!1,a.disabled&&(a.disabled=!1),t.disabled&&(t.disabled=!1),e.localDisabled2CheckAll=!1):(r.disabled=!0,i+=1))})),a.children.length===i&&(a.disabled=!0,r+=1)})),t.children.length===r&&(t.disabled=!0)})),t},treeData:function(){return this.showDisabled?this.treeListHasDisabled:this.treeList},checkAllIndeterminate:function(){return this.defaultCheckedKeys.length>0&&this.defaultCheckedKeys.length<this.threeLevelKeys.length},AllKeys:function(){var e=[];return this.treeData.forEach((function(t){e.push(t.ID),t.children.forEach((function(t){e.push(t.ID),t.children.forEach((function(t){e.push(t.ID)}))}))})),e},threeLevelKeys:function(){var e=[];return this.treeData.forEach((function(t){t.children.forEach((function(t){t.children.forEach((function(t){e.push(t.ID)}))}))})),e},isCheckAllDisabled:function(){var e=[];return this.treeData.forEach((function(t){t.children.forEach((function(t){t.children.forEach((function(t){e.push(t.ID)}))}))})),(this.isDisabled||e.length===this.shouldDisabledList.length)&&this.localDisabled2CheckAll},checkAllComputed:{get:function(){return this.defaultCheckedKeys.length===this.threeLevelKeys.length},set:function(e){!e&&this.canFalse?this.checkAll=!1:this.checkAllIndeterminate?(this.checkAll=!1,this.canFalse=!1):(this.checkAll=!0,this.canFalse=!0)}}},methods:{check:function(e,t){var n=t.checkedNodes,r=t.checkedKeys;this.handleChangeFunc(n,r),this.setCheckAllListAndStatus(r)},renderContent:function(e,t){var n=this,r=t.node,a=t.data;if(r.level>1)return r.label.length>5?e("el-tooltip",{class:"el-tree-node__label",attrs:{effect:"dark",content:r.label,placement:"top-start"}},[e("span",[r.label])]):e("span",{class:"el-tree-node__label"},[r.label]);var i=r.expanded?"收起":"展开",l=r.expanded?"close el-icon-caret-bottom":"el-icon-caret-bottom";return e("span",{class:"el-tree-node__label"},[e("span",{class:"title"},[r.label]),e("em",{class:"mp-el-tree-node-collapse-btn",on:{click:function(e){return n.expandLevel1(r,a,i,e)}}},[i]),e("span",{class:"icon-box",on:{click:function(e){return e.stopPropagation()}}},[e("em",{on:{click:function(e){return n.expandLevel1(r,a,i,e)}}},[e("i",{class:l})])])])},expandLevel1:function(e,t,n,r){r.stopPropagation(),e.expanded=!e.expanded},handleCheckAllChange:function(){if(this.checkAll){this.$refs.treeComp.setCheckedNodes(this.treeData),this.selectKeys=this.AllKeys;var e=this.$refs.treeComp.getCheckedNodes(),t=this.$refs.treeComp.getCheckedKeys();this.handleChangeFunc(e,t)}else this.$refs.treeComp.setCheckedKeys([]),this.selectKeys=[],this.handleChangeFunc([],[])},setCheckAllListAndStatus:function(e){this.selectKeys=e,this.selectKeys.length===this.AllKeys.length?this.checkAll=!0:!0===this.checkAll&&(this.checkAll=!1)},clearTreeData:function(){this.$refs.treeComp.setCheckedKeys([]),this.selectKeys=[]}},data:function(){return{checkAll:!1,selectKeys:[],localDisabled2CheckAll:!0,canFalse:!0}},watch:{watchValue:{handler:function(e){var t=this;this.localDisabled2CheckAll=!0,this.$nextTick((function(){if("number"==typeof e)t.$refs.treeComp.setCheckedKeys([]),t.selectKeys=[],t.checkAll=!1;else if(Array.isArray(e)){t.$refs.treeComp.setCheckedKeys(e);var n=t.$refs.treeComp.getCheckedKeys();t.setCheckAllListAndStatus(n);var r=t.$refs.treeComp.getCheckedNodes();t.handleChangeFunc(r,n)}}))},immediate:!0},defaultCheckedKeys:function(e){e&&Array.isArray(e)&&0===e.length&&this.selectKeys.length>0?(this.$refs.treeComp.setCheckedKeys([]),this.selectKeys=[],this.checkAll=!1):!this.watchValue&&e&&Array.isArray(e)&&e.length>0&&e.length!==this.selectKeys.length&&(this.$refs.treeComp.setCheckedKeys(e),this.selectKeys=e)}}},i=(n("047a"),n("2877")),l=Object(i.a)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"mp-common-comps-tree-comp-wrap",class:e.isProduct?"isProduct":""},[n("header",[e._v(" "+e._s(e.title)),e.title?n("span",[e._v("：")]):e._e()]),n("div",{staticClass:"content mp-scroll-wrap"},[n("el-checkbox",{attrs:{disabled:e.isCheckAllDisabled,indeterminate:e.checkAllIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAllComputed,callback:function(t){e.checkAllComputed=t},expression:"checkAllComputed"}},[e._v(" "+e._s(e.checkAllTitle)+" ")]),n("el-tree",{ref:"treeComp",staticClass:"mp-scroll-wrap",attrs:{data:e.treeData,"show-checkbox":"","icon-class":"","node-key":e.defaultNodeKey,"default-expanded-keys":e.defaultExpandedKeys,"default-checked-keys":e.defaultCheckedKeys,props:e.defaultProps,"auto-expand-parent":!1,"expand-on-click-node":!1,"check-on-click-node":!0,"render-content":e.renderContent},on:{check:e.check}})],1)])}),[],!1,null,null,null);t.a=l.exports},6566:function(e,t,n){"use strict";var r=n("9bf2").f,a=n("7c73"),i=n("e2cc"),l=n("0366"),c=n("19aa"),s=n("2266"),o=n("7dd0"),u=n("2626"),h=n("83ab"),d=n("f183").fastKey,f=n("69f3"),p=f.set,v=f.getterFor;e.exports={getConstructor:function(e,t,n,o){var u=e((function(e,r){c(e,u,t),p(e,{type:t,index:a(null),first:void 0,last:void 0,size:0}),h||(e.size=0),null!=r&&s(r,e[o],e,n)})),f=v(t),b=function(e,t,n){var r,a,i=f(e),l=y(e,t);return l?l.value=n:(i.last=l={index:a=d(t,!0),key:t,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=l),r&&(r.next=l),h?i.size++:e.size++,"F"!==a&&(i.index[a]=l)),e},y=function(e,t){var n,r=f(e),a=d(t);if("F"!==a)return r.index[a];for(n=r.first;n;n=n.next)if(n.key==t)return n};return i(u.prototype,{clear:function(){for(var e=f(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,h?e.size=0:this.size=0},delete:function(e){var t=this,n=f(t),r=y(t,e);if(r){var a=r.next,i=r.previous;delete n.index[r.index],r.removed=!0,i&&(i.next=a),a&&(a.previous=i),n.first==r&&(n.first=a),n.last==r&&(n.last=i),h?n.size--:t.size--}return!!r},forEach:function(e){for(var t,n=f(this),r=l(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!y(this,e)}}),i(u.prototype,n?{get:function(e){var t=y(this,e);return t&&t.value},set:function(e,t){return b(this,0===e?0:e,t)}}:{add:function(e){return b(this,e=0===e?0:e,e)}}),h&&r(u.prototype,"size",{get:function(){return f(this).size}}),u},setStrong:function(e,t,n){var r=t+" Iterator",a=v(t),i=v(r);o(e,t,(function(e,t){p(this,{type:r,target:e,state:a(e),kind:t,last:void 0})}),(function(){for(var e=i(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),u(t)}}},"67f1":function(e,t,n){"use strict";var r=n("32af");n.n(r).a},"6d61":function(e,t,n){"use strict";var r=n("23e7"),a=n("da84"),i=n("94ca"),l=n("6eeb"),c=n("f183"),s=n("2266"),o=n("19aa"),u=n("861d"),h=n("d039"),d=n("1c7e"),f=n("d44e"),p=n("7156");e.exports=function(e,t,n){var v=-1!==e.indexOf("Map"),b=-1!==e.indexOf("Weak"),y=v?"set":"add",m=a[e],g=m&&m.prototype,k=m,C={},A=function(e){var t=g[e];l(g,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(b&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return b&&!u(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(b&&!u(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(i(e,"function"!=typeof m||!(b||g.forEach&&!h((function(){(new m).entries().next()})))))k=n.getConstructor(t,e,v,y),c.REQUIRED=!0;else if(i(e,!0)){var D=new k,x=D[y](b?{}:-0,1)!=D,w=h((function(){D.has(1)})),I=d((function(e){new m(e)})),E=!b&&h((function(){for(var e=new m,t=5;t--;)e[y](t,t);return!e.has(-0)}));I||((k=t((function(t,n){o(t,k,e);var r=p(new m,t,k);return null!=n&&s(n,r[y],r,v),r}))).prototype=g,g.constructor=k),(w||E)&&(A("delete"),A("has"),v&&A("get")),(E||x)&&A(y),b&&g.clear&&delete g.clear}return C[e]=k,r({global:!0,forced:k!=m},C),f(k,e),b||n.setStrong(k,e,v),k}},"95d6":function(e,t,n){"use strict";var r=(n("4de4"),n("7db0"),n("4160"),n("d81d"),n("159b"),n("5530")),a=n("2f62"),i=n("09f8"),l=n("64dc"),c=n("edeb"),s=n("286f"),o={model:{prop:"value",event:"change"},props:{value:{type:Array,default:function(){return[]}}},components:{normalBtnFull:i.a,TreeComp:l.a,normalBtn:c.a},data:function(){return{showDialog:!1,SellAreaArray:[]}},computed:Object(r.a)({},Object(a.c)("common",["allAreaTreeList"]),{},Object(a.e)("common",["areaList"]),{defaultCheckedKeys:function(){return this.SellAreaArray.map((function(e){return e.CountyID}))},Level2AreaList:function(){return 0===this.areaList.length?[]:this.areaList.filter((function(e){return 2===e.Level}))},areaShowTextArr:function(){if(0===this.allAreaTreeList.length||!this.value)return[];var e="ClassName",t=Object(s.a)(this.value,this.allAreaTreeList,e),n=[];return"全部区域"===t?["全部区域"]:(t.forEach((function(t){if(s.c.test(t.children[0]))n.push("".concat(t[e]));else{var r="".concat(t[e],"：[");t.children.forEach((function(t,n){n>0&&(r+="、"),s.c.test(t.children[0])?r+="".concat(t[e],"全部区域 "):(r+="".concat(t[e],": "),t.children.forEach((function(t,n){r+=0===n?"".concat(t[e]):"、".concat(t[e])})))})),r+=" ]",n.push(r)}})),n)}}),methods:{handleAreaDialogOpen:function(){this.value&&(this.SellAreaArray=this.value),this.showDialog=!0},handleAreaDialogClose:function(){this.showDialog=!1,this.$refs.TreeComp.clearTreeData(),this.value&&(this.SellAreaArray=this.value)},handleAreaChangeFunc:function(e){var t=this,n=e.filter((function(e){return 2===e.Level})),r=e.filter((function(e){return 3===e.Level})).map((function(e){var r=e.ParentID,a=n.find((function(e){return e.ID===r}));a||(a=t.Level2AreaList.find((function(e){return e.ID===r})));var i=a?a.ParentID:"";return{CountyID:e.ID,CityID:r,RegionalID:i}}));this.SellAreaArray=r},handleAreaDialogSave:function(){this.showDialog&&(this.$emit("change",this.SellAreaArray),this.handleAreaDialogClose())}},watch:{areaShowTextArr:{handler:function(e){this.$store.commit("statistic/setCurSelectedAreaShowText",e)},immediate:!0}},mounted:function(){this.$store.dispatch("common/getAreaList")}},u=(n("67f1"),n("2877")),h=Object(u.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"mp-common-comps-area-checkout-dia-comp-wrap"},[n("span",{staticClass:"span-title-blue",on:{click:e.handleAreaDialogOpen}},[e._v("选择区域")]),e.areaShowTextArr&&e.areaShowTextArr.length>0?n("el-tooltip",{attrs:{placement:"top-start",enterable:!1,transition:"none"}},[n("div",{attrs:{slot:"content"},slot:"content"},e._l(e.areaShowTextArr,(function(t,r){return n("p",{key:t+"-"+r},[e._v(" "+e._s(t)+" ")])})),0),n("p",[e._v(e._s(e.areaShowTextArr.join("、")))])]):n("p",[e._v("请选择区域")]),n("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticClass:"mp-img-style-header area-dialog-wrap",attrs:{title:"选择区域",visible:e.showDialog,modal:!1,width:"750px",top:"8vh","before-close":e.handleAreaDialogClose},on:{"update:visible":function(t){e.showDialog=t}}},[n("section",[e.showDialog?n("tree-comp",{ref:"TreeComp",attrs:{title:"",treeList:e.allAreaTreeList,defaultCheckedKeys:e.defaultCheckedKeys,handleChangeFunc:e.handleAreaChangeFunc,checkAllTitle:"所有地区"}}):e._e()],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("normalBtnFull",{attrs:{title:"确定"},nativeOn:{click:function(t){return e.handleAreaDialogSave(t)}}}),n("normalBtn",{attrs:{title:"取消"},nativeOn:{click:function(t){return e.handleAreaDialogClose(t)}}})],1)])],1)}),[],!1,null,null,null);t.a=h.exports},bb2f:function(e,t,n){var r=n("d039");e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},e668:function(e,t,n){"use strict";var r=n("24de");n.n(r).a},edeb:function(e,t,n){"use strict";var r={props:{title:{type:String,default:"关闭"}}},a=(n("e668"),n("2877")),i=Object(a.a)(r,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("button",{staticClass:"normal-btn"},[e._v(e._s(e.title))])}),[],!1,null,null,null);t.a=i.exports},f183:function(e,t,n){var r=n("d012"),a=n("861d"),i=n("5135"),l=n("9bf2").f,c=n("90e3"),s=n("bb2f"),o=c("meta"),u=0,h=Object.isExtensible||function(){return!0},d=function(e){l(e,o,{value:{objectID:"O"+ ++u,weakData:{}}})},f=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,o)){if(!h(e))return"F";if(!t)return"E";d(e)}return e[o].objectID},getWeakData:function(e,t){if(!i(e,o)){if(!h(e))return!0;if(!t)return!1;d(e)}return e[o].weakData},onFreeze:function(e){return s&&f.REQUIRED&&h(e)&&!i(e,o)&&d(e),e}};r[o]=!0}}]);