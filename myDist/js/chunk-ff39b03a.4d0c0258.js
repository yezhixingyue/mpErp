(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-ff39b03a"],{"10e2":function(t,e,n){},"13e8":function(t,e,n){"use strict";var i=n("b708");n.n(i).a},"202f":function(t,e,n){"use strict";var i=n("6e42");n.n(i).a},"215f":function(t,e,n){"use strict";var i=n("a2db");n.n(i).a},2227:function(t,e,n){"use strict";var i=n("d319");n.n(i).a},"3a48":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkJBRURDM0JEQkI3QjExRUFCRkM4OTA5RkY4QTEzM0VFIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkJBRURDM0JFQkI3QjExRUFCRkM4OTA5RkY4QTEzM0VFIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QkFFREMzQkJCQjdCMTFFQUJGQzg5MDlGRjhBMTMzRUUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QkFFREMzQkNCQjdCMTFFQUJGQzg5MDlGRjhBMTMzRUUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4rxy6UAAAAy0lEQVR42mJgIAKwbf5pDsQPQTRMjJEITSxA6h4QywLxJyB2++XLfpKJkE1AagcQZ0E18QHxLpA4CwFNu6CKxYE4GoiXQvlLmYnQBAJiQKwHtRkkF8hIhCZksBvoPzcQg4kETW+AuBgjVInQ5AS07TJMANnG2cRqgmsE2rYfSNUD8VNiNIGdCtSkAKTvQxWlAfFkIJbGpwlmoyeULQLEs4A4F4jP4NMEAqAE4I7EB2lOAWowJZQUQRoNgHgVEG8H4p1ATc+JSfgAAQYARRBJE7ECLWIAAAAASUVORK5CYII="},"3b22":function(t,e,n){},"468e":function(t,e,n){"use strict";var i=n("4aae");n.n(i).a},"4aae":function(t,e,n){},"4d47":function(t,e,n){"use strict";var i=n("6385");n.n(i).a},5731:function(t,e){t.exports="data:image/png;base64,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"},6385:function(t,e,n){},"6e30":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAQCAYAAAAiYZ4HAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkY3NDlERTgxNzdEMTExRUFCREM5RjNGQzRGRkFBQ0U4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkY3NDlERTgyNzdEMTExRUFCREM5RjNGQzRGRkFBQ0U4Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Rjc0OURFN0Y3N0QxMTFFQUJEQzlGM0ZDNEZGQUFDRTgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6Rjc0OURFODA3N0QxMTFFQUJEQzlGM0ZDNEZGQUFDRTgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7W2NX3AAACRUlEQVR42mxSS2tTQRQ+Z2buKze1MSWpfWB9IAUFFy5EEAT3/gH/gktBxYVb/4GK2I0WYkFw7cqtuOrChRJqMJioTXLbYtPcx9yZ45kkS4cL98zcb873OBdvdtpwCFW4FnyFTrF+65veeBBjXicASq2fXfR/Pr8afHn/Kb0BDTkCVcEU+qYBu+kmjClqMa6tSX4EtxA2e+VyK7NBeGwX4ILXBVWSXDuy8aMRLVZCzNc8sB8s4MChPTRhTkHQLs/uKLIHKfkvcbk9tiMbYygIiHUg0rQ1M/GDMGMiyKyAupwA1tr53SVx3GUmOUP9b/FNRJuRfwpv/9iNvutzTyTYCn+w3NMyQsyR05q7CA0qX5HJMzU0jYd9U3vsoUPRVAx7gJLfvtuzHE0CSr4Vol5VEwr7Vb5fw5P7LLaXgr8VYf6U0+smdvGFD+W9WGTqtz39piDVER6YgeEOVZy0YszecT05I5JXV4K9HZY4ZtDbCItt506BORA+FkMnRGJ5XaEG1ioR6DyfKUNSucROKLjsMAKpJwSYERfAGTcNuxCcrfNgXY2z0AzIBuKUYSD4cMgJQUZRoyRvPgeYA3l4bN8H3XRMHEoiAiyOXPwKymaEmcvFKjQTPi95QwJdsrDgMBJNolgvdzE8lOCSZDk+FLRvliq6kCpAjZoUjCHckFM+GKnMRm72e3+pcie1QcrywoGpff5j6pr/rbAElRY2DjnqMU/IiHX1C1bU/ms2at1suI9maulhybXUbD90ETTF4daqSOCfAAMArfYZ68CyjZgAAAAASUVORK5CYII="},"6e42":function(t,e,n){},"97d7":function(t,e,n){"use strict";var i=n("3b22");n.n(i).a},a2db:function(t,e,n){},ad32:function(t,e,n){"use strict";var i={model:{prop:"value",event:"change"},props:{visible:{type:Boolean,default:!1},title:{type:String,default:"提示"},width:{default:"30%"},top:{type:String,default:"15vh"},showSubmit:{type:Boolean,default:!0},submitText:{type:String,default:"保存"},dangerText:{type:String,default:"重新生成"},cancelText:{type:String,default:"取消"},disabled:{type:Boolean,default:!1},showDanger:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},computed:{dialogVisible:{get:function(){return this.visible},set:function(t){this.$emit("update:visible",t)}}},data:function(){return{checkList:[]}},methods:{onCancleClick:function(){this.$emit("cancle")},onSubmitClick:function(t){this.dialogVisible&&("BUTTON"===t.target.nodeName?t.target.blur():"BUTTON"===t.target.parentNode.nodeName&&t.target.parentNode.blur(),this.$emit("submit"))},onDangerClick:function(){this.$emit("danger")},onOpen:function(){this.$emit("open")},onOpened:function(){this.$emit("opened")},onClose:function(){this.$emit("close")},onClosed:function(){this.$emit("closed")}}},a=(n("468e"),n("2877")),s=Object(a.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticClass:"mp-img-style-header mp-erp-common-dialog-comp-wrap",attrs:{title:t.title,visible:t.dialogVisible,"close-on-click-modal":!1,width:t.width,top:t.top,modal:!1,"before-close":t.onCancleClick},on:{"update:visible":function(e){t.dialogVisible=e},open:t.onOpen,opened:t.onOpened,close:t.onClose,closed:t.onClosed}},[t._t("default"),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t.showSubmit?n("el-button",{attrs:{type:"primary",loading:t.loading,disabled:t.disabled},on:{click:t.onSubmitClick}},[t._v(t._s(t.loading?"加载中":t.submitText))]):t._e(),t.showDanger?n("el-button",{attrs:{type:"danger"},on:{click:t.onDangerClick}},[t._v(t._s(t.dangerText))]):t._e(),n("el-button",{on:{click:t.onCancleClick}},[t._v(t._s(t.cancelText))])],1)],2)}),[],!1,null,null,null);e.a=s.exports},b708:function(t,e,n){},bc5c:function(t,e,n){"use strict";var i={props:{canEdit:{type:Boolean,default:!0},canRemove:{type:Boolean,default:!0}},methods:{onEditClick:function(){this.canEdit&&this.$emit("edit")},onRemoveClick:function(){this.canRemove&&this.$emit("remove")}}},a=(n("fe9a"),n("2877")),s=Object(a.a)(i,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ctrl-menus-container"},[i("span",{class:t.canEdit?"":"disabled",on:{click:t.onEditClick}},[i("img",{attrs:{src:n("3a48"),alt:""}}),i("i",[t._v("编辑")])]),i("span",{class:t.canRemove?"":"disabled",on:{click:t.onRemoveClick}},[i("img",{attrs:{src:n("6e30"),alt:""}}),i("i",[t._v("删除")])])])}),[],!1,null,null,null);e.a=s.exports},d319:function(t,e,n){},ef42:function(t,e,n){"use strict";n.r(e);var i=(n("7db0"),n("c740"),n("a434"),n("96cf"),n("1da1")),a=n("5530"),s=n("2f62"),c=n("ad32"),l=(n("99af"),n("d81d"),n("2909")),r=(n("caad"),n("2532"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"mp-erp-common-comps-new-tree-comp-child-single-item-comp-wrap"},[n("header",[n("el-checkbox",{class:{isIncreased:t.itemData.isIncreased},style:"width:"+t.leftWidth,attrs:{indeterminate:t.isIndeterminate},model:{value:t.checkAll,callback:function(e){t.checkAll=e},expression:"checkAll"}},[t._v(t._s(t.itemData.ClassName))])],1),n("main",[n("el-checkbox-group",{model:{value:t.checkList,callback:function(e){t.checkList=e},expression:"checkList"}},t._l(t.itemData.children,(function(e){return n("el-checkbox",{key:e.ClassName,class:{isIncreased:e.isIncreased},style:"width:"+t.rightItemWidth,attrs:{label:e.ID}},[t._v(t._s(e.ClassName))])})),1)],1)])}),o=(n("4de4"),n("4160"),n("a15b"),n("159b"),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"children",n=[],i=function t(i){i.forEach((function(i){i[e]?t(i[e]):n.push(i)}))};return i(t),n}),u=function(t,e){var n="新加".concat(e);return{ID:"".concat(t,"Increased"),ClassName:n,isIncreased:!0,TargetID:t}},m=function(t,e){if(!t)return[];var n=[];if(t.IsIncludeIncreased){var i=u(t.ID||0===t.ID?t.ID:"root",e);n.push(i)}var a=t.List;return a&&a.forEach((function(t){return function t(i){if(i.List){if(i.IsIncludeIncreased){var a=u(i.ID||0===i.ID?i.ID:"root",e);n.push(a)}i.List.forEach((function(e){e.List?t(e):n.push(e)}))}else n.push(i)}(t)})),!a&&t.isIncreased&&n.push(t),n},d=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=function t(e){var n=function(e){var n=e.ID,i=e.ClassName,a=e.children;if(e.isIncreased)return null;var s={ID:n,Name:i};Array.isArray(a)&&(s.IsIncludeIncreased=!1,a.find((function(t){return t.isIncreased}))&&(s.IsIncludeIncreased=!0),s.List=t(a));return s};return e.map((function(t){return n(t)})).filter((function(t){return t}))},i=n(t);return e?{IsIncludeIncreased:!0,List:i}:i},h=function(t,e,n){var i=e?JSON.parse(JSON.stringify(e)):{IsIncludeIncreased:!1,List:[],ID:n?n.ID:"",Name:n?n.ClassName:""};if(t.isIncreased)return Object(a.a)({},i,{IsIncludeIncreased:!i.IsIncludeIncreased});var s=!t||!t.IsIncludeIncreased&&(!t.List||0===t.List.length),c=i.List.findIndex((function(e){return e.ID===t.ID}));return c>-1?s?i.List.splice(c,1):i.List.splice(c,1,t):s||i.List.push(t),i},I={props:{itemData:{type:Object,default:function(){return{}}},leftWidth:{type:String,default:"6em"},value:{type:Object,default:null},rightItemWidth:{type:String,default:"8em"},title:{type:String,default:"地区"}},computed:{checkAll:{get:function(){return this.itemData.isIncreased?this.selectedMinimumItemIDSList.includes(this.itemData.ID):this.selectedMinimumItemListCount>0&&this.selectedMinimumItemListCount===this.allMinimumItemList.length},set:function(t){if(this.itemData.isIncreased)this.$emit("change",this.itemData);else if(!t&&this.value){var e=Object(a.a)({},this.value,{IsIncludeIncreased:!1,List:[]});this.$emit("change",e)}else if(t){var n=d([this.itemData])[0];this.$emit("change",n)}}},isIndeterminate:function(){return 0!==this.selectedMinimumItemListCount&&this.selectedMinimumItemListCount!==this.allMinimumItemList.length},selectedMinimumItemList:function(){return m(this.value,this.title)},selectedMinimumItemIDSList:function(){return this.selectedMinimumItemList.map((function(t){return t.ID}))},selectedMinimumItemListCount:function(){return this.selectedMinimumItemList.length},allMinimumItemList:function(){return o([this.itemData])},checkList:{get:function(){return this.selectedMinimumItemIDSList},set:function(t){var e=Object(a.a)({},this.itemData);e.children=e.children.filter((function(e){return t.includes(e.ID)}));var n=d([e])[0];this.$emit("change",n)}}}},f=(n("97d7"),n("2877")),p=Object(f.a)(I,r,[],!1,null,null,null).exports,g={props:{data:{type:Object,default:function(){return{}}},leftWidth:{type:String,default:"6em"},rightItemWidth:{type:String,default:"8em"},value:{type:Object,default:null},title:{type:String,default:"地区"}},components:{ChildSingleItemComp:p},computed:{checkAll:{get:function(){return this.data.isIncreased?this.selectedMinimumItemIDSList.includes(this.data.ID):this.selectedMinimumItemListCount>0&&this.selectedMinimumItemListCount===this.allMinimumItemList.length},set:function(t){if(this.data.isIncreased)this.$emit("change",this.data);else if(!t&&this.value){var e=Object(a.a)({},this.value,{IsIncludeIncreased:!1,List:[]});this.$emit("change",e)}else if(t){var n=d([this.data])[0];this.$emit("change",n)}}},isIndeterminate:function(){return 0!==this.selectedMinimumItemListCount&&this.selectedMinimumItemListCount!==this.allMinimumItemList.length},selectedMinimumItemList:function(){return m(this.value,this.title)},selectedMinimumItemIDSList:function(){return this.selectedMinimumItemList.map((function(t){return t.ID}))},selectedMinimumItemListCount:function(){return this.selectedMinimumItemList.length},allMinimumItemList:function(){return o([this.data])}},data:function(){return{spread:!1}},methods:{getItemValue:function(t){return this.value?t.isIncreased?this.value.IsIncludeIncreased?t:null:0===this.value.List.length?null:this.value.List.find((function(e){return e.ID===t.ID}))||null:null},onChildItemChange:function(t){var e=h(t,this.value,this.data);this.$emit("change",e)}}},v=(n("13e8"),Object(f.a)(g,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"mp-erp-common-comps-new-tree-comp-single-item-comp-wrap"},[n("header",[n("el-checkbox",{class:{isIncreased:t.data.isIncreased},attrs:{indeterminate:t.isIndeterminate},model:{value:t.checkAll,callback:function(e){t.checkAll=e},expression:"checkAll"}},[t._v(t._s(t.data.ClassName))]),t.data.isIncreased?t._e():n("span",{class:{spread:t.spread},on:{click:function(e){t.spread=!t.spread}}},[t._v(t._s(t.spread?"收起":"展开")+" "),n("i",{staticClass:"el-icon-caret-bottom"})])],1),t.data.children?n("main",{directives:[{name:"show",rawName:"v-show",value:t.spread,expression:"spread"}]},t._l(t.data.children,(function(e){return n("ChildSingleItemComp",{key:e.ID,attrs:{value:t.getItemValue(e),title:t.title,leftWidt:t.leftWidth,rightItemWidth:t.rightItemWidth,itemData:e},on:{change:t.onChildItemChange}})})),1):t._e()])}),[],!1,null,null,null)).exports,A={model:{prop:"value",event:"change"},props:{list:{type:Array,default:function(){return[]}},value:{type:Object,default:function(){return{}}},leftWidth:{type:String,default:"6em"},rightItemWidth:{type:String,default:"8em"},title:{type:String,default:"地区"},withNew:{type:Boolean,default:!0}},components:{SingleItemComp:v},computed:{showList:function(){var t=this;if(!this.withNew)return this.list;var e=u("root",this.title),n=function e(n){var i=n.children,s=n.ID;if(!i)return n;var c=i.map((function(t){return e(t)})),r=u(s,t.title);return Object(a.a)({},n,{children:[].concat(Object(l.a)(c),[r])})},i=this.list.map((function(t){return n(t)}));return[].concat(Object(l.a)(i),[e])},checkAll:{get:function(){return this.selectedMinimumItemListLengt===this.allMinimumItemListLength&&this.selectedMinimumItemListLengt>0},set:function(t){var e=t?this.getCheckAllList(this.showList):{IsIncludeIncreased:!1,List:[]};this.$emit("change",e)}},allMinimumItemList:function(){var t=this.withNew?this.showList:this.list;return o(t)},allMinimumItemIDList:function(){return this.allMinimumItemList.map((function(t){return t.ID}))},allMinimumItemListLength:function(){return this.allMinimumItemList.length},selectedMinimumItemListLengt:function(){return m(this.value,this.title).length},isIndeterminate:function(){return 0!==this.selectedMinimumItemListLengt&&this.selectedMinimumItemListLengt!==this.allMinimumItemListLength}},methods:{getItemValue:function(t){return t.isIncreased?this.value.IsIncludeIncreased?t:null:0===this.value.List.length?null:this.value.List.find((function(e){return e.ID===t.ID}))||null},onItemChange:function(t){var e=h(t,this.value);this.$emit("change",e)},getCheckAllList:function(t){return d(t,!0)}}},b=(n("215f"),Object(f.a)(A,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("article",{staticClass:"mp-erp-common-comps-new-tree-comp-wrap"},[n("header",[n("el-checkbox",{attrs:{indeterminate:t.isIndeterminate},model:{value:t.checkAll,callback:function(e){t.checkAll=e},expression:"checkAll"}},[t._v("所有"+t._s(t.title))])],1),n("main",t._l(t.showList,(function(e){return n("SingleItemComp",{key:e.ID,attrs:{data:e,title:t.title,value:t.getItemValue(e),leftWidt:t.leftWidth,rightItemWidth:t.rightItemWidth},on:{change:t.onItemChange}})})),1)])}),[],!1,null,null,null)).exports,C={props:{visible:{type:Boolean,default:!1},EditData:{type:Object,default:null}},components:{CommonDialogComp:c.a,NewAreaTreeSpreadComp:b},computed:Object(a.a)({},Object(s.c)("common",["allAreaTreeList"]),{},Object(s.e)("common",["areaList"])),data:function(){return{title:"新建模板",ruleForm:{ID:"",Name:"",Range:{IsIncludeIncreased:!1,List:[]}}}},methods:{onSubmit:function(){if(this.formDataChecker()){var t=this.ruleForm,e=t.ID,n=t.Name,i=t.Range,a=i.IsIncludeIncreased,s={ID:e,Name:n,AreaList:i.List,IsIncludeIncreasedArea:a};this.$emit("submit",s)}},onCancle:function(){this.$emit("update:visible",!1)},onOpen:function(){this.$nextTick(this.initEditData)},onClosed:function(){},initEditData:function(){this.title=this.EditData?"编辑模板":"新建模板";var t=this.EditData?this.EditData.ID:"",e=this.EditData?this.EditData.Name:"",n=!!this.EditData&&this.EditData.IsIncludeIncreasedArea,i=this.EditData?this.EditData.AreaList:[];this.ruleForm.ID=t,this.ruleForm.Name=e,this.ruleForm.Range.IsIncludeIncreased=n,this.ruleForm.Range.List=i},formDataChecker:function(){return this.ruleForm.Name?!(0===!this.ruleForm.Range.List.length&&!this.ruleForm.Range.IsIncludeIncreased&&(this.messageBox.failSingleError("保存失败","请选择适用区域"),1)):(this.messageBox.failSingleError("保存失败","请输入模板名称"),!1)}}},D=(n("2227"),Object(f.a)(C,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("CommonDialogComp",{staticClass:"mp-erp-comps-price-module-area-template-save-dialog-comp-wrap",attrs:{width:"800px",top:"8vh",title:t.title,visible:t.visible},on:{"update:visible":function(e){t.visible=e},submit:t.onSubmit,cancle:t.onCancle,open:t.onOpen,closed:t.onClosed}},[n("div",{staticClass:"header"},[n("span",{staticClass:"label"},[t._v("模板名称：")]),n("el-input",{attrs:{size:"small",maxlength:"10","show-word-limit":""},model:{value:t.ruleForm.Name,callback:function(e){t.$set(t.ruleForm,"Name","string"==typeof e?e.trim():e)},expression:"ruleForm.Name"}})],1),n("div",{staticClass:"content"},[n("p",{staticClass:"mp-common-title-wrap"},[t._v("适用区域")]),n("NewAreaTreeSpreadComp",{attrs:{list:t.allAreaTreeList},model:{value:t.ruleForm.Range,callback:function(e){t.$set(t.ruleForm,"Range",e)},expression:"ruleForm.Range"}})],1),n("div",{staticClass:"footer"},[n("p",{staticClass:"tips-box is-pink"},[n("i",{staticClass:"el-icon-warning"}),t._v("注：新加区域指后续如果有新增加的区域是否自动适用。选中则自动适用，不选中则不会自动适用。")])])])}),[],!1,null,null,null)).exports,L=n("bc5c"),M=(n("b0c0"),n("53ca")),R={props:{list:{}},computed:{showContent:function(){return"string"==typeof this.list?this.list:this.list.map((function(t){return"string"==typeof t?t:"object"===Object(M.a)(t)?"".concat(t.name,"：").concat(t.list.join("；")):""})).join("、")},tooltipList:function(){return"string"==typeof this.list?[this.list]:this.list}}},w=(n("4d47"),Object(f.a)(R,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-tooltip",{attrs:{effect:"light","popper-class":"common-property-condition-text-tips-box",placement:"bottom-start","visible-arrow":!1}},[n("div",{attrs:{slot:"content"},slot:"content"},t._l(t.tooltipList,(function(e,i){return n("div",{key:i},["string"==typeof e?n("p",[t._v(t._s(e))]):n("div",[n("p",[t._v(t._s(e.name)+"：")]),t._l(e.list,(function(e,i){return n("p",{key:i,staticClass:"mp-tree-table-tooltip-item"},[t._v(t._s(e)+"；")])}))],2)])})),0),n("div",{staticStyle:{"text-overflow":"ellipsis",overflow:"hidden"}},[t._v(" 适用区域："+t._s(t.showContent)+" ")])])}),[],!1,null,null,null)).exports,k={name:"AreaTemplate",components:{AreaTempSaveDialog:D,CtrlMenus:L.a,TableItemShowComp:w},data:function(){return{curEditData:null,visible:!1,dataList:[],loading:!0}},computed:Object(a.a)({},Object(s.c)("common",["allAreaTreeList"])),methods:{setAreaTemplateHandler:function(t){this.curEditData=t?JSON.parse(JSON.stringify(t)):null,this.visible=!0},onGobackClick:function(){this.$goback()},handleSubmit:function(t){var e=this;return Object(i.a)(regeneratorRuntime.mark((function n(){var i,s,c,l,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=t.Name,s=t.ID,!e.dataList.find((function(t){return t.Name===i&&t.ID!==s}))){n.next=5;break}return e.messageBox.failSingleError("保存失败","已存在相同的模板名称"),n.abrupt("return");case 5:return n.next=7,e.api.getApplyRangeTemplateSave(t).catch((function(){}));case 7:(c=n.sent)&&1e3===c.data.Status&&(l=t.ID?"添加成功":"编辑成功",r=function(){if(t.ID){var n=e.dataList.findIndex((function(e){return e.ID===t.ID}));n>-1&&e.dataList.splice(n,1,t)}else e.dataList.unshift(Object(a.a)({},t,{ID:c.data.Data}));e.visible=!1,e.curEditData=null},e.messageBox.successSingle(l,r,r));case 9:case"end":return n.stop()}}),n)})))()},getDataList:function(){var t=this;return Object(i.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getApplyRangeTemplateList().catch((function(){}));case 2:n=e.sent,t.loading=!1,n&&1e3===n.data.Status&&(t.dataList=n.data.Data);case 5:case"end":return e.stop()}}),e)})))()},onRemoveClick:function(t,e){var n=this;this.messageBox.warnCancelBox("确定删除该条范围模板吗","模板名称：[ ".concat(t.Name," ]"),(function(){n.getApplyRangeTemplateRemove(t,e)}))},getApplyRangeTemplateRemove:function(t,e){var n=this,a=t.ID;return Object(i.a)(regeneratorRuntime.mark((function t(){var i,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.api.getApplyRangeTemplateRemove(a).catch((function(){}));case 2:(i=t.sent)&&1e3===i.data.Status&&(s=function(){n.dataList.splice(e,1)},n.messageBox.successSingle("删除成功",s,s));case 4:case"end":return t.stop()}}),t)})))()},getAreaContent:function(t){return function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"区域";if(!t||!e||0===e.length)return"";var i=t.IsIncludeIncreased,a=t.List;if(!a||0===a.length)return i?"只包含新加大区":"无效区域";var s=t.List.map((function(t){return t.ID})),c=JSON.parse(JSON.stringify(e)),l=c.length;(c=c.filter((function(t){return s.includes(t.ID)}))).forEach((function(e){var i=t.List.find((function(t){return t.ID===e.ID}));if(i){var a=i.List.map((function(t){return t.ID})),s=e,c=e.children.length;s.children=e.children.filter((function(t){return a.includes(t.ID)})),s.IsIncludeIncreased=i.IsIncludeIncreased,s.children.forEach((function(t){var e=i.List.find((function(e){return e.ID===t.ID}));if(e){var a=e.List.map((function(t){return t.ID})),s=t,c=t.children.length;s.children=t.children.filter((function(t){return a.includes(t.ID)})),s.isCheckAll=!1,s.IsIncludeIncreased=e.IsIncludeIncreased;var l="(".concat(s.IsIncludeIncreased?"包含新加".concat(n):"不含新加".concat(n),")");if(s.content="".concat(s.ClassName).concat(l),c===s.children.length)s.isCheckAll=!0,s.content="".concat(s.content,"：全部").concat(n);else{var r=s.children.map((function(t){return t.ClassName})).join("、");s.content="".concat(s.content,"：[").concat(r,"]")}}}));var l="(".concat(s.IsIncludeIncreased?"包含新加".concat(n):"不含新加".concat(n),")");s.content="".concat(s.ClassName).concat(l),s.children.find((function(t){return!t.isCheckAll||!t.IsIncludeIncreased}))||s.children.length!==c?(s.isCheckAll=!1,s.content={name:s.content,list:s.children.map((function(t){return t.content}))}):s.isCheckAll=!0}}));var r={isCheckAll:!1,content:""},o="".concat(i?"包含新加".concat(n):"不含新加".concat(n));r.content=c.map((function(t){return t.content}));var u=c.find((function(t){return!t.isCheckAll||!t.IsIncludeIncreased}));return u||c.length!==l?(r.content=c.map((function(t){return t.content})),r.content.unshift(o)):(r.isCheckAll=!0,r.content="全部".concat(n,"（").concat(o,"）")),r.content}({List:t.AreaList,IsIncludeIncreased:t.IsIncludeIncreasedArea},this.allAreaTreeList)}},mounted:function(){this.getDataList(),this.$store.dispatch("common/getAreaList")}},E=(n("202f"),Object(f.a)(k,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"mp-price-manage-page-area-template-page-wrap"},[i("header",[t._m(0),i("div",[i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.setAreaTemplateHandler(null)}}},[t._v("新建模板")])],1)]),i("main",{staticClass:"mp-scroll-wrap"},[i("AreaTempSaveDialog",{attrs:{visible:t.visible,EditData:t.curEditData},on:{"update:visible":function(e){t.visible=e},submit:t.handleSubmit}}),i("ul",[t._l(t.dataList,(function(e,n){return i("li",{key:e.ID},[i("div",{staticClass:"content"},[t._v(t._s(e.Name))]),i("div",{staticClass:"area"},[i("TableItemShowComp",{attrs:{list:t.getAreaContent(e)}})],1),i("CtrlMenus",{on:{edit:function(n){return t.setAreaTemplateHandler(e)},remove:function(i){return t.onRemoveClick(e,n)}}})],1)})),t.loading||0!==t.dataList.length?t._e():i("li",{staticClass:"empty-box"},[i("img",{attrs:{src:n("5731"),alt:""}}),i("p",[t._v("暂无数据")])])],2)],1),i("footer",[i("el-button",{staticClass:"goback",on:{click:t.onGobackClick}},[i("i",{staticClass:"el-icon-d-arrow-left"}),t._v(" 返回")])],1)])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"mp-common-title-wrap is-black"},[n("span",[t._v("设置适用范围模板")])])}],!1,null,null,null));e.default=E.exports},fe9a:function(t,e,n){"use strict";var i=n("10e2");n.n(i).a}}]);