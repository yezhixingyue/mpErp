(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-924b27f2"],{"08e4":function(t,e,i){"use strict";var n=i("61b5");i.n(n).a},3834:function(t,e,i){},"3baf":function(t,e,i){"use strict";var n=i("d544");i.n(n).a},"42e5":function(t,e,i){"use strict";var n=i("fbe9");i.n(n).a},"468e":function(t,e,i){"use strict";var n=i("4aae");i.n(n).a},"4aae":function(t,e,i){},"59d2":function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"a",(function(){return l})),i("7db0"),i("4160"),i("d3b7"),i("25f0"),i("159b");var n=i("5530"),a=i("d4ec"),s=i("bee2"),r=i("ade3"),o=function(t,e){var i="",n="";return t&&0!==t.length?e&&e.length>0&&(t[0].forEach((function(t){var n=e.find((function(e){return e.ID===t}));n&&(i+=n.DisplayContent)})),t.forEach((function(t,i){i>0&&t.forEach((function(t,i){var a=e.find((function(e){return e.ID===t}));a&&(0===i&&n&&(n+=" "),n+=a.DisplayContent)}))}))):e&&e.length>0&&(i=e[0].DisplayContent,e.forEach((function(t,e){e>0&&(n+=t.DisplayContent)}))),{lv1Title:i,itemContent:n}},l=function(){function t(e){if(Object(a.a)(this,t),Object(r.a)(this,"ID",""),Object(r.a)(this,"Name",""),Object(r.a)(this,"SingleLenRadio",!0),Object(r.a)(this,"SingleLength",""),Object(r.a)(this,"MinLength",""),Object(r.a)(this,"MaxLength",""),Object(r.a)(this,"LengthIncrement",""),Object(r.a)(this,"IsLengthSplit",!1),Object(r.a)(this,"SingleWidthRadio",!0),Object(r.a)(this,"SingleWidth",""),Object(r.a)(this,"MinWidth",""),Object(r.a)(this,"MaxWidth",""),Object(r.a)(this,"WidthIncrement",""),Object(r.a)(this,"IsWidthSplit",!1),e&&"[object Object]"===Object.prototype.toString.call(e)){var i=JSON.parse(JSON.stringify(e)),n=i.ID,s=i.Name,o=i.IsLengthSplit,l=i.IsWidthSplit,c=i.MinLength,u=i.MinWidth,d=i.MaxLength,p=i.MaxWidth,h=i.LengthIncrement,m=i.WidthIncrement;n&&(this.ID=n),s&&(this.Name=s),o&&(this.IsLengthSplit=o),l&&(this.IsWidthSplit=l),c||0===c?(this.SingleLenRadio=!1,this.MinLength=c,this.MaxLength=d,this.LengthIncrement=h):this.SingleLength=d,u||0===u?(this.SingleWidthRadio=!1,this.MinWidth=u,this.MaxWidth=p,this.WidthIncrement=m):this.SingleWidth=p}}return Object(s.a)(t,null,[{key:"formatSubmit",value:function(t){var e=Object(n.a)({},t);return e.SingleLenRadio&&(e.MaxLength=e.SingleLength,delete e.MinLength,delete e.LengthIncrement),e.SingleWidthRadio&&(e.MaxWidth=e.SingleWidth,delete e.MinWidth,delete e.WidthIncrement),delete e.SingleLenRadio,delete e.SingleLength,delete e.SingleWidthRadio,delete e.SingleWidth,e}}]),t}()},6173:function(t,e,i){"use strict";var n=i("e5ca");i.n(n).a},"61b5":function(t,e,i){},"63bf":function(t,e,i){},6543:function(t,e,i){"use strict";var n=i("dd28");i.n(n).a},"6e84":function(t,e,i){"use strict";var n={props:{leftWidth:{type:String,default:"49%"},single:{type:Boolean,default:!1}},data:function(){return{leftW:"48%",offsetWidth:0,oLeft:null,moving:!1,distance:7,initPageX:0}},methods:{onLineDown:function(t){!this.oLeft&&this.$refs.oLeft&&(this.oLeft=this.$refs.oLeft),this.oLeft&&(this.offsetWidth=this.oLeft.offsetWidth,document.addEventListener("mousemove",this.onLineMove),document.addEventListener("mouseup",this.onLineUp),this.moving=!0,this.distance=t.offsetX,this.initPageX=t.pageX),t.preventDefault()},onLineMove:function(t){this.leftW="".concat(t.pageX-this.initPageX-this.distance+this.offsetWidth,"px")},onLineUp:function(){document.removeEventListener("mousemove",this.onLineMove),document.removeEventListener("mouseup",this.onLineUp),this.moving=!1}},created:function(){this.leftW=this.leftWidth}},a=(i("6173"),i("2877")),s=Object(a.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{ref:"oWrap",staticClass:"mp-erp-common-comps-left-and-right-width-drap-auto-change-comp-wrap"},[i("div",{ref:"oLeft",staticClass:"left mp-scroll-wrap",style:"width:"+t.leftW},[t._t("left")],2),t.single?t._e():i("span",{staticClass:"vertical-line",class:t.moving?"moving":"",on:{mousedown:t.onLineDown}},[i("i")]),i("div",{staticClass:"right mp-scroll-wrap"},[t._t("right")],2)])}),[],!1,null,null,null);e.a=s.exports},"7fde":function(t,e,i){"use strict";var n=i("3834");i.n(n).a},"8a34":function(t,e,i){"use strict";i.r(e);var n=(i("99af"),i("4de4"),i("7db0"),i("c740"),i("4160"),i("caad"),i("d81d"),i("a434"),i("b0c0"),i("ac1f"),i("2532"),i("5319"),i("159b"),i("2909")),a=i("3835"),s=(i("96cf"),i("1da1")),r=i("5530"),o=i("6e84"),l=i("7775"),c=i("59d2"),u=i("2f62"),d=(i("13d5"),i("b64b"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.itemData?i("div",{staticClass:"mp-erp-comps-pruduct-module-material-select-dialog-comp-content-item-wrap"},[i("div",{staticClass:"header"},[i("el-checkbox",{attrs:{indeterminate:t.isIndeterminateAll},model:{value:t.checkItemAll,callback:function(e){t.checkItemAll=e},expression:"checkItemAll"}},[t._v(t._s(t.itemData.Name))]),t.showContent?i("div",{staticClass:"extend-box",on:{click:function(e){t.extend=!t.extend}}},[t.extend?i("span",[t._v("收起")]):i("span",[t._v("展开")]),t.extend?i("i",{staticClass:"el-icon-arrow-up"}):i("i",{staticClass:"el-icon-arrow-down"})]):t._e()],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showContent&&t.extend,expression:"showContent && extend"}],staticClass:"content"},t._l(t.itemData.List,(function(e){return i("el-checkbox",{key:"item-check"+e.ID,attrs:{title:e.itemContent,value:t.checkedIDList.includes(e.ID)},on:{change:function(i){return t.change(e)}}},[t._v(" "+t._s(e.itemContent)+" ")])})),1)]):t._e()}),p={model:{prop:"value",event:"change"},props:{itemData:{type:Object,default:null},value:{type:Array,default:function(){return[]}}},data:function(){return{extend:!0}},computed:{showContent:function(){return!!this.itemData&&(this.itemData.List.length>1||!(1!==this.itemData.List.length||!this.itemData.List[0].itemContent))},itemDataIds:function(){return this.itemData?this.itemData.List.map((function(t){return t.ID})):[]},checkedIDList:function(){var t=this;return 0===this.itemDataIds.length||0===this.value.length?[]:this.value.filter((function(e){return t.itemDataIds.includes(e.ID)})).map((function(t){return t.ID}))},checkItemAll:{get:function(){return this.itemDataIds.length>0&&this.checkedIDList.length===this.itemDataIds.length},set:function(t){var e=t?this.itemData.List:[];this.$emit("change",[this.checkedIDList,e])}},isIndeterminateAll:function(){return this.checkedIDList.length>0&&this.checkedIDList.length<this.itemDataIds.length}},methods:{change:function(t){var e=this,i=!this.checkedIDList.includes(t.ID),a=this.itemData.List.filter((function(t){return e.checkedIDList.includes(t.ID)})),s=i?[].concat(Object(n.a)(a),[t]):a.filter((function(e){return e.ID!==t.ID}));this.$emit("change",[a.map((function(t){return t.ID})),s])}}},h=(i("bf5c"),i("2877")),m=Object(h.a)(p,d,[],!1,null,null,null).exports,f={model:{prop:"value",event:"change"},props:{visible:{type:Boolean,default:!1},typeList:{type:Array,default:function(){return[]}},dataList:{type:Array,default:function(){return[]}},MaterialLocalList:{type:Array,default:function(){return[]}},checkedList:{type:Array,default:function(){return[]}},value:{type:Object,default:null}},components:{SelectContentItem:m},data:function(){return{activeType:"",list:[],isEdit:!1}},computed:{curTypeDataList:function(){var t=this;if(!this.activeType||!this.dataList||0===this.dataList.length)return[];var e=this.dataList.filter((function(e){return e.Type&&e.Type.ID===t.activeType})),i={};return e.forEach((function(t){var e=t.Type,n=e.UnionShowList,a=e.ElementList,s=Object(c.b)(n,a),o=s.lv1Title,l=s.itemContent;i[o]||(i[o]=[]),i[o].push(Object(r.a)({},t,{itemContent:l}))})),Object.keys(i).map((function(t){return{Name:t,List:i[t]}}))},curTypeItemList:function(){return this.curTypeDataList&&0!==this.curTypeDataList.length?this.curTypeDataList.map((function(t){return t.List})).reduce((function(t,e){return[].concat(Object(n.a)(t),Object(n.a)(e))})):[]},curTypeListIds:function(){return this.curTypeItemList&&0!==this.curTypeItemList.length?this.curTypeItemList.map((function(t){return t.ID})):[]},curCheckedList:function(){var t=this;return this.activeType&&0!==this.curTypeDataList.length&&0!==this.list.length?this.list.filter((function(e){return t.curTypeListIds.includes(e.ID)&&e.Type&&e.Type.ID===t.activeType})):[]},checkAll:{get:function(){return this.curTypeDataList.length>0&&this.curCheckedList.length===this.curTypeItemList.length},set:function(t){var e,i=this;this.list=this.list.filter((function(t){return t.Type&&t.Type.ID!==i.activeType})),t&&(e=this.list).push.apply(e,Object(n.a)(this.curTypeItemList))}},isIndeterminateAll:function(){return this.curCheckedList.length>0&&this.curCheckedList.length<this.curTypeItemList.length},itemCheckedList:{get:function(){return this.curCheckedList},set:function(t){var e,i=Object(a.a)(t,2),s=i[0],r=i[1];this.list=this.list.filter((function(t){return!s.includes(t.ID)})),(e=this.list).push.apply(e,Object(n.a)(r))}},canSelectTypeIDList:function(){if(!this.isEdit){var t=this.MaterialLocalList.map((function(t){return t.ID}));return this.typeList.filter((function(e){return!t.includes(e.ID)})).map((function(t){return t.ID}))}return this.value?[this.value.ID]:[]}},methods:{onSubmit:function(){this.curCheckedList&&0!==this.curCheckedList.length?this.$emit("change",[this.curCheckedList,this.activeType,this.isEdit]):this.messageBox.failSingle("未选中物料")},onCancle:function(){this.$emit("update:visible",!1)},onOpen:function(){this.$nextTick(this.initEditData)},onClosed:function(){this.list=[],this.isEdit=!1,this.activeType=""},handleClose:function(){this.onCancle()},initEditData:function(){var t=this;this.typeList&&Array.isArray(this.typeList)?this.typeList.length>0&&(this.value?(this.isEdit=!0,this.activeType=this.value.ID,this.list=this.value.List):(this.isEdit=!1,this.$nextTick((function(){if(t.canSelectTypeIDList&&t.canSelectTypeIDList.length>0){var e=Object(a.a)(t.canSelectTypeIDList,1)[0];t.activeType=e}})))):this.onCancle()},onLabelClick:function(t){var e=t.ID;this.canSelectTypeIDList.includes(e)&&(this.activeType=e)}}},v=(i("f156"),Object(h.a)(f,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-drawer",{staticClass:"mp-erp-comps-pruduct-module-material-select-dialog-comp-wrap",attrs:{visible:t.visible,"show-close":!1,"before-close":t.handleClose},on:{"update:visible":function(e){t.visible=e},open:t.onOpen,closed:t.onClosed}},[i("span",{staticClass:"explain-title",attrs:{slot:"title"},on:{click:t.handleClose},slot:"title"},[i("i",{staticClass:"el-icon-arrow-right"}),t._v(" 物料选择 "),i("em",[t._v("（ 添加时只允许添加尚未被添加过的分类；编辑时只能编辑当前分类，不能调整为其它分类；一次保存只能保存一个分类 ）")])]),i("section",{staticClass:"drawer-content"},[i("aside",[i("el-scrollbar",{attrs:{"wrap-class":"scrollbar-wrapper"}},[i("div",t._l(t.typeList,(function(e){return i("span",{key:"aside"+e.ID,class:{active:t.activeType===e.ID,disabled:!t.canSelectTypeIDList.includes(e.ID)},attrs:{title:e.Name},on:{click:function(i){return t.onLabelClick(e)}}},[t._v(" "+t._s(e.Name)+" ")])})),0)])],1),i("div",{staticClass:"content"},[t.curTypeDataList.length>0?i("p",{staticClass:"check-all"},[i("el-checkbox",{attrs:{indeterminate:t.isIndeterminateAll},model:{value:t.checkAll,callback:function(e){t.checkAll=e},expression:"checkAll"}},[t._v("全选")])],1):t._e(),t._l(t.curTypeDataList,(function(e,n){return i("SelectContentItem",{key:e.Name+n,attrs:{itemData:e},model:{value:t.itemCheckedList,callback:function(e){t.itemCheckedList=e},expression:"itemCheckedList"}})})),t.activeType&&0===t.curTypeDataList.length?i("p",{staticClass:"empty"},[i("i"),i("span",[t._v("所选分类暂无可用物料")])]):t._e(),t.activeType?t._e():i("p",{staticClass:"empty"},[i("i"),i("span",[t._v("请选择左侧物料类型")])])],2)]),i("footer",[i("el-button",{attrs:{type:"primary",disabled:!t.curCheckedList||0===t.curCheckedList.length},on:{click:t.onSubmit}},[t._v("保存")]),i("el-button",{on:{click:t.onCancle}},[t._v("取消")])],1)])}),[],!1,null,null,null)).exports,g=i("ede4"),b={props:{itemData:{type:Object,default:null}},data:function(){return{extend:!0}},computed:{showContent:function(){return!!this.itemData&&(this.itemData.List.length>1||!(1!==this.itemData.List.length||!this.itemData.List[0].itemContent))},checkItemAll:{get:function(){return!this.itemData.List.find((function(t){return!t.HiddenToCustomer}))&&this.itemData.List.length>0},set:function(t){var e=t?this.itemData.List:[];this.$emit("change",e)}},isIndeterminateAll:function(){var t=this.itemData.List.find((function(t){return!t.HiddenToCustomer})),e=this.itemData.List.find((function(t){return t.HiddenToCustomer}));return!(!t||!e)}},methods:{change:function(t){var e=t.ID;this.$emit("change",e)}}},C=(i("7fde"),Object(h.a)(b,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.itemData?i("div",{staticClass:"mp-erp-comps-pruduct-module-material-hidden-drawer-comp-content-item-wrap"},[i("div",{staticClass:"header"},[i("el-checkbox",{attrs:{indeterminate:t.isIndeterminateAll},model:{value:t.checkItemAll,callback:function(e){t.checkItemAll=e},expression:"checkItemAll"}},[t._v(t._s(t.itemData.Name))]),t.showContent?i("div",{staticClass:"extend-box",on:{click:function(e){t.extend=!t.extend}}},[t.extend?i("span",[t._v("收起")]):i("span",[t._v("展开")]),t.extend?i("i",{staticClass:"el-icon-arrow-up"}):i("i",{staticClass:"el-icon-arrow-down"})]):t._e()],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showContent&&t.extend,expression:"showContent && extend"}],staticClass:"content"},t._l(t.itemData.List,(function(e){return i("el-checkbox",{key:"item-hidden"+e.ID,attrs:{value:e.HiddenToCustomer,title:e.itemContent},on:{change:function(i){return t.change(e)}}},[t._v(" "+t._s(e.itemContent)+" ")])})),1)]):t._e()}),[],!1,null,null,null)).exports,S={model:{prop:"value",event:"change"},props:{visible:{type:Boolean,default:!1},value:{type:Array,default:function(){return[]}}},components:{SetHiddenContentItem:C},data:function(){return{list:[]}},methods:{onSubmit:function(){var t=[];this.list.forEach((function(e){e.ShowList.forEach((function(e){e.List.forEach((function(e){e.HiddenToCustomer&&t.push(e.ID)}))}))})),this.$emit("change",t)},onCancle:function(){this.$emit("update:visible",!1)},onOpen:function(){this.$nextTick(this.initEditData)},onClosed:function(){this.list=[]},handleClose:function(){this.onCancle()},initEditData:function(){this.list=JSON.parse(JSON.stringify(this.value))},change:function(t,e,i){var n=this.list[e].ShowList[i];if(n&&n.List){if("string"==typeof t){var a=n.List.find((function(e){return e.ID===t}));a&&(a.HiddenToCustomer=!a.HiddenToCustomer)}Array.isArray(t)&&(n.List=n.List.map((function(e){return Object(r.a)({},e,{HiddenToCustomer:t.length>0})})))}}}},L=(i("08e4"),Object(h.a)(S,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-drawer",{staticClass:"mp-erp-comps-pruduct-module-material-hidden-drawer-comp-wrap",attrs:{visible:t.visible,"show-close":!1,"before-close":t.handleClose},on:{"update:visible":function(e){t.visible=e},open:t.onOpen,closed:t.onClosed}},[i("span",{staticClass:"explain-title",attrs:{slot:"title"},on:{click:t.handleClose},slot:"title"},[i("i",{staticClass:"el-icon-arrow-right"}),t._v(" 设置隐藏 ")]),i("section",{staticClass:"drawer-content"},[i("ul",t._l(t.list,(function(e,n){return i("li",{key:e.ID},[i("p",{staticClass:"mp-common-title-wrap"},[t._v(t._s(e.Name))]),i("div",t._l(e.ShowList,(function(e,a){return i("SetHiddenContentItem",{key:e.Name+a,attrs:{itemData:e},on:{change:function(e){return t.change(e,n,a)}}})})),1)])})),0)]),i("footer",[i("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("保存")]),i("el-button",{on:{click:t.onCancle}},[t._v("取消")])],1)])}),[],!1,null,null,null)).exports,D={props:{curProduct:{type:Object,default:null},curPart:{type:Object,default:null},MaterialList:{type:Array,default:function(){return[]}}},components:{MaterialSelectDialog:v,MaterialSortDialog:g.a,MaterialHiddenDrawer:L},data:function(){return{title:"",isTitleEditing:!1,MaterialSaveVisible:!1,curEditMaterialData:null,MaterialSortVisible:!1,MaterialHiddentVisible:!1}},computed:Object(r.a)({},Object(u.e)("basicSet",["MaterialTypeList"]),{},Object(u.e)("common",["MaterialAllList"]),{MaterialDisplayName:function(){return this.curProduct?this.curPart?this.curPart.MaterialDisplayName:this.curProduct.MaterialDisplayName:""},MaterialSelectDialogSetData:{get:function(){return this.curEditMaterialData},set:function(t){var e=Object(a.a)(t,3),i=e[0],n=e[1],s=e[2];this.$emit("MaterialSaveSubmit",[n,i,s])}},MaterialLocalList:function(){if(!this.MaterialList||!Array.isArray(this.MaterialList)||0===this.MaterialList.length)return[];var t=[];return this.MaterialList.forEach((function(e){var i=e.Type,n=i.ID,a=i.Name,s=i.UnionShowList,o=i.ElementList,l=Object(c.b)(s,o),u=l.lv1Title,d=l.itemContent,p=t.find((function(t){return t.ID===n})),h=Object(r.a)({},e,{FirstName:u,itemContent:d});p?p.List.push(h):t.push({ID:n,Name:a,List:[h]})})),t=t.map((function(t){var e=[];return t.List.forEach((function(t){var i=e.find((function(e){return t.FirstName===e.Name}));i?i.List.push(t):e.push({Name:t.FirstName,List:[t]})})),Object(r.a)({},t,{ShowList:e})}))},MaterialIsHiddenList:function(){return this.MaterialLocalList.map((function(t){return Object(r.a)({},t,{ShowList:t.ShowList.map((function(t){return Object(r.a)({},t,{List:t.List.filter((function(t){return t.HiddenToCustomer}))})})).filter((function(t){return t.List.length>0}))})})).filter((function(t){return t.ShowList.length>0}))},MaterialSortListData:{get:function(){return this.MaterialLocalList&&Array.isArray(this.MaterialLocalList)&&0!==this.MaterialLocalList.length?this.MaterialLocalList.map((function(t){return{ID:t.ID,Name:t.Name}})):[]},set:function(t){t&&0!==t.length&&this.$emit("MaterialSortSubmit",t)}},MaterialHiddentListData:{get:function(){return this.MaterialLocalList},set:function(t){t.length!==this.MaterialList.length?this.$emit("MaterialSetHiddenSubmit",t):this.messageBox.failSingle("不能全选，应至少保留一种物料类型")}}}),methods:{initData:function(){this.$store.dispatch("basicSet/getMaterialTypeList"),this.$store.dispatch("common/getMaterialAllList")},onTitleEditClick:function(){this.title=this.MaterialDisplayName,this.isTitleEditing=!0},onTitleSaveClick:function(){var t=this;return Object(s.a)(regeneratorRuntime.mark((function e(){var i,n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.title!==t.MaterialDisplayName){e.next=3;break}return t.messageBox.failSingle("物料提示名称未发生变化"),e.abrupt("return");case 3:if(t.title){e.next=6;break}return t.messageBox.failSingle("请输入物料提示名称"),e.abrupt("return");case 6:if(l.f.test(t.title)){e.next=9;break}return t.messageBox.failSingle("名称仅支持中文、英文(全角/半角)、+-_(全角/半角)、数字(全角/半角)"),e.abrupt("return");case 9:i=function(){t.isTitleEditing=!1},n=t.curProduct.ID,a=t.curPart?t.curPart.ID:"",t.$store.dispatch("productManage/getMaterialDisplayNameChange",[n,a,t.title,i]);case 13:case"end":return e.stop()}}),e)})))()},onMaterialSaveClick:function(t){this.MaterialTypeList&&0!==this.MaterialTypeList.length?(this.curEditMaterialData=t,this.MaterialSaveVisible=!0):this.messageBox.failSingle("尚无物料相关设置，请先到物料管理里面进行设置")},onMaterialRemoveClick:function(t){var e=this;this.messageBox.warnCancelBox("确定删除该类物料吗?","物料种类：[ ".concat(t.Name," ]"),(function(){e.$emit("MaterialTypeRemove",t)}))}},mounted:function(){this.initData()}},I=(i("bb2e"),Object(h.a)(D,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"mp-erp-product-page-material-size-comp-left-conten-wrap"},[i("header",[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.onMaterialSaveClick(null)}}},[t._v("+添加物料")]),i("span",{staticClass:"title"},[t._v("物料提示名称：")]),t.isTitleEditing?[i("el-input",{attrs:{size:"mini",maxlength:"10","show-word-limit":""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onTitleSaveClick(e)}},model:{value:t.title,callback:function(e){t.title="string"==typeof e?e.trim():e},expression:"title"}}),i("span",{staticClass:"blue-span menu",on:{click:t.onTitleSaveClick}},[t._v("保存")]),i("span",{staticClass:"red-span menu",on:{click:function(e){t.isTitleEditing=!1}}},[t._v("取消")]),i("span",{staticClass:"tip"},[t._v("（可回车保存）")])]:[i("span",{staticClass:"value"},[t._v(t._s(this.MaterialDisplayName))]),i("span",{staticClass:"blue-span menu",on:{click:t.onTitleEditClick}},[t._v("编辑名称")])]],2),i("main",[i("MaterialSelectDialog",{attrs:{visible:t.MaterialSaveVisible,MaterialLocalList:t.MaterialLocalList,dataList:t.MaterialAllList,typeList:t.MaterialTypeList},on:{"update:visible":function(e){t.MaterialSaveVisible=e}},model:{value:t.MaterialSelectDialogSetData,callback:function(e){t.MaterialSelectDialogSetData=e},expression:"MaterialSelectDialogSetData"}}),i("ul",{staticClass:"material-list"},t._l(t.MaterialLocalList,(function(e){return i("li",{key:e.ID},[i("p",[t._v(t._s(e.Name))]),i("div",{staticClass:"sub-list"},t._l(e.ShowList,(function(e){return i("span",{key:e.Name},[t._v(t._s(e.Name)+"（"+t._s(e.List.length)+"种） ")])})),0),i("div",{staticClass:"menu"},[i("span",{on:{click:function(i){return t.onMaterialSaveClick(e)}}},[i("i",{staticClass:"edit"}),t._v(" 编辑")]),i("span",{on:{click:function(i){return t.onMaterialRemoveClick(e)}}},[i("i"),t._v(" 删除")])])])})),0),i("p",{staticClass:"sort"},[t.MaterialLocalList.length>1?i("span",{staticClass:"blue-span",on:{click:function(e){t.MaterialSortVisible=!0}}},[t._v("一级组合排序")]):t._e()]),i("MaterialSortDialog",{attrs:{visible:t.MaterialSortVisible},on:{"update:visible":function(e){t.MaterialSortVisible=e}},model:{value:t.MaterialSortListData,callback:function(e){t.MaterialSortListData=e},expression:"MaterialSortListData"}}),t.MaterialList.length>0?i("div",{staticClass:"material-hidden-list"},[i("p",[i("span",{staticClass:"mp-common-title-wrap"},[t._v("客户界面隐藏")]),i("span",{staticClass:"blue-span",on:{click:function(e){t.MaterialHiddentVisible=!0}}},[t._v("设置隐藏")])])]):t._e(),i("MaterialHiddenDrawer",{attrs:{visible:t.MaterialHiddentVisible},on:{"update:visible":function(e){t.MaterialHiddentVisible=e}},model:{value:t.MaterialHiddentListData,callback:function(e){t.MaterialHiddentListData=e},expression:"MaterialHiddentListData"}}),i("ul",{staticClass:"material-list"},t._l(t.MaterialIsHiddenList,(function(e){return i("li",{key:e.ID},[i("p",[t._v(t._s(e.Name))]),i("div",{staticClass:"sub-list"},t._l(e.ShowList,(function(e){return i("span",{key:e.Name},[t._v(t._s(e.Name)+"（"+t._s(e.List.length)+"种） ")])})),0)])})),0)],1)])}),[],!1,null,null,null)).exports,y=i("ad32"),k={model:{prop:"value",event:"change"},props:{visible:{type:Boolean,default:!1},value:{type:Object,default:null},PositionID:{type:String,default:""}},components:{CommonDialogComp:y.a},data:function(){return{ElementGroup:[],loading:!1,ruleForm:null}},computed:{canUseGroupData:function(){return 0===this.ElementGroup.length?[]:this.ElementGroup.filter((function(t){var e=t.ElementList,i=t.UseTimes,n=i.MinValue,a=i.MaxValue;return 1===n&&1===a&&!e.find((function(t){var e=t.Type,i=t.OptionAttribute;return!(3!==e&&(2!==e||!i||0!==i.OptionList.length&&i.IsRadio))}))}))}},methods:{onSubmit:function(){var t=this;if(this.ruleForm.GroupInfo.ID)if(this.value&&this.value.GroupInfo&&this.ruleForm.GroupInfo.ID===this.value.GroupInfo.ID&&this.ruleForm.AllowCustomize===this.value.AllowCustomize&&this.ruleForm.AllowCustomerCustomize===this.value.AllowCustomerCustomize&&this.ruleForm.IsCheckedCustomize===this.value.IsCheckedCustomize&&this.ruleForm.IsCheckedCustomerCustomize===this.value.IsCheckedCustomerCustomize)this.messageBox.failSingle("未发生更改，可选择关闭");else if(this.value&&this.value.GroupInfo&&this.ruleForm.GroupInfo.ID!==this.value.GroupInfo.ID){this.messageBox.warnCancelBox("当前已设置尺寸组","如果更改尺寸组，则所有固定尺寸将被清空，确定更改吗？",(function(){var e=t.canUseGroupData.find((function(e){return e.ID===t.ruleForm.GroupInfo.ID}))||t.ruleForm.GroupInfo,i=Object(r.a)({},t.ruleForm,{GroupInfo:e,SizeList:[]});t.$emit("change",i)}))}else{var e=this.canUseGroupData.find((function(e){return e.ID===t.ruleForm.GroupInfo.ID}))||this.ruleForm.GroupInfo,i=Object(r.a)({},this.ruleForm,{GroupInfo:e});this.$emit("change",i)}else this.messageBox.failSingle("请选择元素组")},onCancle:function(){this.$emit("update:visible",!1)},onOpen:function(){this.$nextTick(this.initEditData)},onClosed:function(){this.ElementGroup=[],this.ruleForm=null},initEditData:function(){if(this.value&&this.value.GroupInfo){var t=this.value,e=t.AllowCustomize,i=t.AllowCustomerCustomize,n=t.IsCheckedCustomize,a=t.IsCheckedCustomerCustomize,s=t.GroupInfo,r=t.SizeList;this.ruleForm={AllowCustomize:e,AllowCustomerCustomize:i,IsCheckedCustomize:n,IsCheckedCustomerCustomize:a,GroupInfo:{ID:s.ID},SizeList:r}}else this.ruleForm={AllowCustomize:!1,AllowCustomerCustomize:!1,IsCheckedCustomize:!1,IsCheckedCustomerCustomize:!1,GroupInfo:{ID:""},SizeList:[]};this.getElementGroupData()},getElementGroupData:function(){var t=this;return Object(s.a)(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.PositionID){e.next=2;break}return e.abrupt("return");case 2:return t.loading=!0,e.next=5,t.api.getElementGroupList(t.PositionID).catch((function(){}));case 5:i=e.sent,t.loading=!1,i&&i.data&&1e3===i.data.Status&&(t.ElementGroup=i.data.Data);case 8:case"end":return e.stop()}}),e)})))()}}},M=(i("dbdd"),Object(h.a)(k,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("CommonDialogComp",{staticClass:"mp-erp-comps-pruduct-module-size-group-set-dialog-comp-wrap",attrs:{width:"650px",top:"18vh",title:"设置尺寸组",cancelText:"关闭",visible:t.visible,disabled:0===t.ElementGroup.length||0===t.canUseGroupData.length},on:{"update:visible":function(e){t.visible=e},submit:t.onSubmit,cancle:t.onCancle,open:t.onOpen,closed:t.onClosed}},[0!==t.ElementGroup.length||t.loading?0!==t.canUseGroupData.length||t.loading?t.ruleForm&&!t.loading?[i("el-radio-group",{model:{value:t.ruleForm.GroupInfo.ID,callback:function(e){t.$set(t.ruleForm.GroupInfo,"ID",e)},expression:"ruleForm.GroupInfo.ID"}},t._l(t.canUseGroupData,(function(e){return i("el-radio",{key:e.ID,attrs:{label:e.ID}},[t._v(t._s(e.Name))])})),1),i("div",{staticClass:"footer"},[i("el-checkbox",{model:{value:t.ruleForm.AllowCustomize,callback:function(e){t.$set(t.ruleForm,"AllowCustomize",e)},expression:"ruleForm.AllowCustomize"}},[t._v("允许自定义尺寸")]),i("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:t.ruleForm.AllowCustomize,expression:"ruleForm.AllowCustomize"}],model:{value:t.ruleForm.AllowCustomerCustomize,callback:function(e){t.$set(t.ruleForm,"AllowCustomerCustomize",e)},expression:"ruleForm.AllowCustomerCustomize"}},[t._v("允许客户自定义")]),i("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:t.ruleForm.AllowCustomize,expression:"ruleForm.AllowCustomize"}],model:{value:t.ruleForm.IsCheckedCustomize,callback:function(e){t.$set(t.ruleForm,"IsCheckedCustomize",e)},expression:"ruleForm.IsCheckedCustomize"}},[t._v("默认选中自定义")]),i("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:t.ruleForm.AllowCustomize&&t.ruleForm.AllowCustomerCustomize,expression:"ruleForm.AllowCustomize && ruleForm.AllowCustomerCustomize"}],model:{value:t.ruleForm.IsCheckedCustomerCustomize,callback:function(e){t.$set(t.ruleForm,"IsCheckedCustomerCustomize",e)},expression:"ruleForm.IsCheckedCustomerCustomize"}},[t._v("客户默认选中自定义")])],1)]:t._e():i("p",{staticClass:"is-origin"},[i("i",{staticClass:"el-icon-warning"}),i("span",{staticStyle:{"font-size":"13px","letter-spacing":"1px"}},[t._v("当前产品或部件尚没有合适的元素组可设置（1. 元素组使用次数须为1-1，2. 不能包含开关元素， 3. 不能包含选项数量为0的选择项元素）")])]):i("p",{staticClass:"empty-element-group is-pink"},[i("i",{staticClass:"el-icon-warning"}),i("span",[t._v("当前产品或部件尚未设置元素组，请先设置元素组才可添加!")])])],2)}),[],!1,null,null,null)).exports,w=i("2bd3"),_={props:{visible:{type:Boolean,default:!1},SizeGroup:{type:Object,default:null}},components:{CommonDialogComp:y.a,SizeAddPanelComp:w.a},data:function(){return{ElementList:[],SizeList:[],template:null,showComp:!1}},methods:{onCancle:function(){this.$emit("update:visible",!1)},onOpen:function(){this.$nextTick(this.initEditData)},onClosed:function(){this.template=null,this.showComp=!1},initEditData:function(){var t=this;this.SizeGroup&&this.SizeGroup.GroupInfo&&(this.ElementList=this.SizeGroup.GroupInfo.ElementList,this.SizeList=JSON.parse(JSON.stringify(this.SizeGroup.SizeList)),this.template={ID:"",Name:"",Index:0,HiddenToCustomer:!1,List:[]},this.ElementList.forEach((function(e){var i={First:e.ID,Second:""};t.template.List.push(i)})),this.showComp=!0)},onSubmit:function(){var t=this.$refs.oPanel.onSubmit();t&&this.$emit("submit",t)}}},x=(i("42e5"),Object(h.a)(_,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("CommonDialogComp",{staticClass:"mp-erp-comps-pruduct-module-general-size-set-dialog-comp-wrap",attrs:{width:"950px",top:"10vh",title:"设置固定尺寸",cancelText:"关闭",visible:t.visible},on:{"update:visible":function(e){t.visible=e},submit:t.onSubmit,cancle:t.onCancle,open:t.onOpen,closed:t.onClosed}},[t.SizeGroup&&t.showComp?i("SizeAddPanelComp",{ref:"oPanel",attrs:{List:t.SizeList,Elements:t.ElementList,sizeTemp:t.template}}):t._e()],1)}),[],!1,null,null,null)).exports,z={props:{curProduct:{type:Object,default:null},curPart:{type:Object,default:null},SizeGroup:{type:Object,default:null}},components:{SizeGroupSetDialog:M,GeneralSizeSetDialog:x},data:function(){return{SizeGroupVisible:!1,GeneralSizeVisible:!1}},computed:{curPositionID:function(){return this.curProduct?this.curPart?this.curPart.ID:this.curProduct.ID:""},localSizeGroup:{get:function(){return this.SizeGroup},set:function(t){this.$emit("SizeGroupSubmit",t)}}},methods:{onGeneralSizeSaveClick:function(){this.SizeGroup?this.GeneralSizeVisible=!0:this.messageBox.failSingle("请先设置尺寸组")},setSizeGroupClick:function(){this.SizeGroupVisible=!0},onGeneralSizeSaveSubmit:function(t){this.$emit("GeneralSizeSubmit",t)},getContentList:function(t,e){var i=this,a=t.map((function(t){var e=t.First,n=t.Second,a=i.SizeGroup.GroupInfo.ElementList;if(!a)return n;var s="",r=a.find((function(t){return t.ID===e}));if(r){s="".concat(r.Name,"：");var o=n;if(2===r.Type){var l=r.OptionAttribute.OptionList.find((function(t){return t.ID===n}));l&&(o=l.Name)}s+=o,r.Unit&&(s+=r.Unit)}else s=n;return s})),s=e?"客户隐藏":"客户显示";return a=[].concat(Object(n.a)(a),[s])},onItemRemove:function(t){var e=this,i=t.Name,n=t.ID;this.messageBox.warnCancelBox("确定删除该固定尺寸吗","尺寸名称：[ ".concat(i," ]"),(function(){e.$emit("GeneralSizeRemove",n)}))}}},G=(i("3baf"),Object(h.a)(z,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"mp-erp-product-page-material-size-comp-right-conten-wrap"},[i("header",[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.onGeneralSizeSaveClick}},[t._v("设置固定尺寸")]),i("span",{staticClass:"label"},[t._v("尺寸组：")]),i("span",{staticClass:"name"},[t._v(t._s(t.SizeGroup&&t.SizeGroup.GroupInfo?t.SizeGroup.GroupInfo.Name:"未设置"))]),i("span",{staticClass:"blue-span",on:{click:t.setSizeGroupClick}},[t._v("设置尺寸组")])],1),i("main",[i("SizeGroupSetDialog",{attrs:{visible:t.SizeGroupVisible,PositionID:t.curPositionID},on:{"update:visible":function(e){t.SizeGroupVisible=e}},model:{value:t.localSizeGroup,callback:function(e){t.localSizeGroup=e},expression:"localSizeGroup"}}),i("GeneralSizeSetDialog",{attrs:{visible:t.GeneralSizeVisible,SizeGroup:t.SizeGroup},on:{"update:visible":function(e){t.GeneralSizeVisible=e},submit:t.onGeneralSizeSaveSubmit}}),t.SizeGroup&&t.SizeGroup.SizeList?i("ul",t._l(t.SizeGroup.SizeList,(function(e){return i("li",{key:e.ID},[i("span",{staticClass:"name"},[t._v(t._s(e.Name))]),i("div",{staticClass:"content"},t._l(t.getContentList(e.List,e.HiddenToCustomer),(function(e,n){return i("span",{key:e+n},[t._v(t._s(e))])})),0),i("span",{staticClass:"del-btn",on:{click:function(i){return t.onItemRemove(e)}}},[i("i"),t._v(" 删除")])])})),0):t._e()],1)])}),[],!1,null,null,null)).exports,O={name:"ProductSizeMaterialSetPage",components:{LRWidthDragAutoChangeComp:o.a,ContentLeft:I,ContentRight:G},data:function(){return{ProductID:"",PartID:"",ProductName:"",titleType:"",MaterialList:[],SizeGroup:null}},computed:Object(r.a)({},Object(u.e)("productManage",["ProductManageList","ProductModuleKeyIDList"]),{curProduct:function(){var t=this;return this.ProductID?this.ProductManageList.find((function(e){return e.ID===t.ProductID})):null},curPart:function(){var t=this;return this.PartID&&this.curProduct?this.curProduct.PartList.find((function(e){return e.ID===t.PartID})):null}}),methods:{getInitDataFromPath:function(){if(this.$route.params){var t=this.$route.params,e=t.ProductID,i=t.PartID,n=t.name,a=t.type;e&&i&&n&&a?(this.ProductID=e,this.PartID="null"!==i?i:"",this.ProductName=n,this.titleType=a,this.getMaterialSizeData()):this.onGoBackClick()}else this.onGoBackClick()},onGoBackClick:function(){this.$router.replace("/ProductManageList")},getMaterialSizeData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["Material","SizeGroup","GeneralSize"];return Object(s.a)(regeneratorRuntime.mark((function i(){var n,a,s,r,o,l,c,u;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=t.PartID?t.PartID:t.ProductID,a=t.PartID?t.api.getPartModuleData:t.api.getProductModuleData,s=t.$utils.getIDFromListByNames(e,t.ProductModuleKeyIDList),r={ID:n,List:s},i.next=6,a(r).catch((function(){}));case 6:(o=i.sent)&&o.data&&1e3===o.data.Status&&(l=o.data.Data,c=l.MaterialList,u=l.SizeGroup,e.includes("Material")&&c&&(t.MaterialList=c),e.includes("SizeGroup")&&u&&(t.SizeGroup=u));case 8:case"end":return i.stop()}}),i)})))()},onMaterialSaveSubmit:function(t){var e=this,i=Object(a.a)(t,3),r=i[0],o=i[1],l=i[2];return Object(s.a)(regeneratorRuntime.mark((function t(){var i,a,s,c,u,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.ProductID,a=e.PartID,s=o.map((function(t){return t.ID})),c={ProductID:i,PartID:a,TypeID:r,List:s},t.next=5,e.api.getProductMaterialSave(c).catch((function(){}));case 5:(u=t.sent)&&u.data&&1e3===u.data.Status&&(d=function(){if(l){var t,i=e.MaterialList.findIndex((function(t){return t.Type.ID===r}));e.MaterialList=e.MaterialList.filter((function(t){return t.Type.ID!==r})),(t=e.MaterialList).splice.apply(t,[i,0].concat(Object(n.a)(o)))}else{var a;(a=e.MaterialList).push.apply(a,Object(n.a)(o))}e.$refs.oLeft.MaterialSaveVisible=!1},e.messageBox.successSingle("保存成功",d,d));case 7:case"end":return t.stop()}}),t)})))()},onMaterialSortSubmit:function(t){var e=this;return Object(s.a)(regeneratorRuntime.mark((function i(){var n,a,s,r,o,l;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=e.ProductID,a=e.PartID,s=t.map((function(t){return t.ID})),r={ProductID:n,PartID:a,TypeList:s},i.next=5,e.api.getProductMaterialOrder(r).catch((function(){}));case 5:(o=i.sent)&&o.data&&1e3===o.data.Status&&(l=function(){var t=[],i=JSON.parse(JSON.stringify(e.MaterialList));s.forEach((function(e){i.forEach((function(n,a){n&&n.Type.ID===e&&(t.push(n),i.splice(a,1,null))}))})),e.MaterialList=t,e.$refs.oLeft.MaterialSortVisible=!1},e.messageBox.successSingle("保存排序成功",l,l));case 7:case"end":return i.stop()}}),i)})))()},onMaterialSetHiddenSubmit:function(t){var e=this;return Object(s.a)(regeneratorRuntime.mark((function i(){var n,a,s,o,l;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=e.ProductID,a=e.PartID,s={ProductID:n,PartID:a,List:t},i.next=4,e.api.getProductMaterialHiddenSet(s).catch((function(){}));case 4:(o=i.sent)&&o.data&&1e3===o.data.Status&&(l=function(){e.MaterialList=e.MaterialList.map((function(e){return Object(r.a)({},e,{HiddenToCustomer:t.includes(e.ID)})})),e.$refs.oLeft.MaterialHiddentVisible=!1},e.messageBox.successSingle("设置客户隐藏成功",l,l));case 6:case"end":return i.stop()}}),i)})))()},onMaterialTypeRemoveClick:function(t){var e=this;return Object(s.a)(regeneratorRuntime.mark((function i(){var n,a,s,r,o,l;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(t){i.next=3;break}return i.abrupt("return");case 3:return n=t.ID,a=e.ProductID,s=e.PartID,r={productID:a,partID:s,typeID:n},i.next=8,e.api.getProductMaterialRemove(r).catch((function(){}));case 8:(o=i.sent)&&o.data&&1e3===o.data.Status&&(l=function(){e.MaterialList=e.MaterialList.filter((function(t){return t.Type.ID!==n}))},e.messageBox.successSingle("删除类型成功",l,l));case 10:case"end":return i.stop()}}),i)})))()},onSizeGroupSubmit:function(t){var e=this;return Object(s.a)(regeneratorRuntime.mark((function i(){var n,a,s,o,l;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=e.ProductID,a=e.PartID,s=Object(r.a)({ProductID:n,PartID:a},t),i.next=4,e.api.getProductGroupSizeSet(s).catch((function(){}));case 4:(o=i.sent)&&o.data&&1e3===o.data.Status&&(l=function(){e.SizeGroup=JSON.parse(JSON.stringify(s)),e.$refs.oRight.SizeGroupVisible=!1},e.messageBox.successSingle("设置尺寸组成功",l,l));case 6:case"end":return i.stop()}}),i)})))()},onGeneralSizeSubmit:function(t){var e=this;return Object(s.a)(regeneratorRuntime.mark((function i(){var n,a,s,r,o;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=e.ProductID,a=e.PartID,s={ProductID:n,PartID:a,SizeList:t},i.next=4,e.api.getGeneralSizeSave(s).catch((function(){}));case 4:(r=i.sent)&&r.data&&1e3===r.data.Status&&(o=function(){e.getMaterialSizeData(["SizeGroup","GeneralSize"]),e.$refs.oRight.GeneralSizeVisible=!1},e.messageBox.successSingle("设置固定尺寸成功",o,o));case 6:case"end":return i.stop()}}),i)})))()},onGeneralSizeRemove:function(t){var e=this;return Object(s.a)(regeneratorRuntime.mark((function i(){var n,a;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e.api.getGeneralSizeRemove(t).catch((function(){}));case 2:(n=i.sent)&&n.data&&1e3===n.data.Status&&(a=function(){e.SizeGroup.SizeList=e.SizeGroup.SizeList.filter((function(e){return e.ID!==t}))},e.messageBox.successSingle("删除成功",a,a));case 4:case"end":return i.stop()}}),i)})))()}},mounted:function(){this.getInitDataFromPath()}},T=(i("6543"),Object(h.a)(O,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"mp-erp-product-list-page-size-material-set-comp-wrap"},[i("header",[i("span",[t._v("当前"+t._s(t.titleType)+"：")]),i("span",[t._v(t._s(t.ProductName))])]),i("main",[t.curProduct?i("LRWidthDragAutoChangeComp",{attrs:{leftWidth:"45%"},scopedSlots:t._u([{key:"left",fn:function(){return[i("ContentLeft",{ref:"oLeft",attrs:{curProduct:t.curProduct,curPart:t.curPart,MaterialList:t.MaterialList},on:{MaterialSaveSubmit:t.onMaterialSaveSubmit,MaterialSortSubmit:t.onMaterialSortSubmit,MaterialSetHiddenSubmit:t.onMaterialSetHiddenSubmit,MaterialTypeRemove:t.onMaterialTypeRemoveClick}})]},proxy:!0},{key:"right",fn:function(){return[i("ContentRight",{ref:"oRight",attrs:{curProduct:t.curProduct,curPart:t.curPart,SizeGroup:t.SizeGroup},on:{SizeGroupSubmit:t.onSizeGroupSubmit,GeneralSizeSubmit:t.onGeneralSizeSubmit,GeneralSizeRemove:t.onGeneralSizeRemove}})]},proxy:!0}],null,!1,2734791659)}):t._e()],1),i("footer",[i("el-button",{on:{click:t.onGoBackClick}},[t._v("返回")])],1)])}),[],!1,null,null,null));e.default=T.exports},"92af":function(t,e,i){},"97cf":function(t,e,i){},ad32:function(t,e,i){"use strict";var n={model:{prop:"value",event:"change"},props:{visible:{type:Boolean,default:!1},title:{type:String,default:"提示"},width:{default:"30%"},top:{type:String,default:"15vh"},showSubmit:{type:Boolean,default:!0},submitText:{type:String,default:"保存"},dangerText:{type:String,default:"重新生成"},cancelText:{type:String,default:"取消"},disabled:{type:Boolean,default:!1},showDanger:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},computed:{dialogVisible:{get:function(){return this.visible},set:function(t){this.$emit("update:visible",t)}}},data:function(){return{checkList:[]}},methods:{onCancleClick:function(){this.$emit("cancle")},onSubmitClick:function(t){this.dialogVisible&&("BUTTON"===t.target.nodeName?t.target.blur():"BUTTON"===t.target.parentNode.nodeName&&t.target.parentNode.blur(),this.$emit("submit"))},onDangerClick:function(){this.$emit("danger")},onOpen:function(){this.$emit("open")},onOpened:function(){this.$emit("opened")},onClose:function(){this.$emit("close")},onClosed:function(){this.$emit("closed")}}},a=(i("468e"),i("2877")),s=Object(a.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticClass:"mp-img-style-header mp-erp-common-dialog-comp-wrap",attrs:{title:t.title,visible:t.dialogVisible,"close-on-click-modal":!1,width:t.width,top:t.top,modal:!1,"before-close":t.onCancleClick},on:{"update:visible":function(e){t.dialogVisible=e},open:t.onOpen,opened:t.onOpened,close:t.onClose,closed:t.onClosed}},[t._t("default"),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t.$slots["foot-tip"]?i("div",[t._t("foot-tip")],2):t._e(),i("p",[t.showSubmit?i("el-button",{attrs:{type:"primary",loading:t.loading,disabled:t.disabled},on:{click:t.onSubmitClick}},[t._v(t._s(t.loading?"加载中":t.submitText))]):t._e(),t.showDanger?i("el-button",{attrs:{type:"danger"},on:{click:t.onDangerClick}},[t._v(t._s(t.dangerText))]):t._e(),i("el-button",{on:{click:t.onCancleClick}},[t._v(t._s(t.cancelText))])],1)])],2)}),[],!1,null,null,null);e.a=s.exports},bb2e:function(t,e,i){"use strict";var n=i("63bf");i.n(n).a},bf5c:function(t,e,i){"use strict";var n=i("97cf");i.n(n).a},c05c:function(t,e,i){},d544:function(t,e,i){},db44:function(t,e,i){"use strict";var n=i("92af");i.n(n).a},dbdd:function(t,e,i){"use strict";var n=i("c05c");i.n(n).a},dd28:function(t,e,i){},e5ca:function(t,e,i){},ec34:function(t,e,i){},ede4:function(t,e,i){"use strict";var n=i("2909"),a=i("ad32"),s=i("b76a"),r=i.n(s),o={model:{prop:"value",event:"change"},props:{visible:{type:Boolean,default:!1},value:{type:Array,default:function(){return[]}},title:{type:String,default:"一级组合排序"}},components:{CommonDialogComp:a.a,draggable:r.a},data:function(){return{sortList:[]}},methods:{onSubmit:function(){this.$emit("change",this.sortList)},onCancle:function(){this.$emit("update:visible",!1)},onOpen:function(){this.$nextTick(this.initEditData)},onClosed:function(){this.sortList=[]},initEditData:function(){this.sortList=Object(n.a)(this.value)}}},l=(i("db44"),i("2877")),c=Object(l.a)(o,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("CommonDialogComp",{staticClass:"mp-erp-comps-pruduct-module-material-sort-dialog-comp-wrap",attrs:{width:"650px",top:"12vh",title:t.title,visible:t.visible},on:{"update:visible":function(e){t.visible=e},submit:t.onSubmit,cancle:t.onCancle,open:t.onOpen,closed:t.onClosed}},[i("p",{staticClass:"tips-box"},[i("i",{staticClass:"el-icon-warning"}),t._v(" 注：拖动排序")]),i("draggable",t._b({model:{value:t.sortList,callback:function(e){t.sortList=e},expression:"sortList"}},"draggable",{tag:"ul"},!1),t._l(t.sortList,(function(e){return i("li",{key:e.ID},[t._v(t._s(e.Name))])})),0)],1)}),[],!1,null,null,null);e.a=c.exports},f156:function(t,e,i){"use strict";var n=i("ec34");i.n(n).a},fbe9:function(t,e,i){}}]);