(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7b14c2c2"],{"05fc":function(t,e,i){"use strict";var r=i("764d");i.n(r).a},"29af":function(t,e,i){t.exports=i.p+"img/pop-tip.4f26bdf3.png"},"51f0":function(t,e,i){"use strict";var r=i("5a66");i.n(r).a},"5a66":function(t,e,i){},"764d":function(t,e,i){},"81da":function(t,e,i){t.exports=i.p+"img/page-tip.19adc012.png"},"88ab":function(t,e,i){},"99f9":function(t,e,i){},cbfa:function(t,e,i){"use strict";i.r(e);var r=(i("b0c0"),i("d3b7"),i("3ca3"),i("ddb0"),i("3835")),a=(i("96cf"),i("1da1")),s=i("5530"),n=i("2f62"),o=i("3eca"),l=i("9477"),c=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("p",[t._v("提示形式示例：")]),r("ul",[r("li",[r("span",[t._v("对话框：")]),r("img",{attrs:{src:i("29af"),alt:""}})]),r("li",[r("span",[t._v("页面提示：")]),r("img",{attrs:{src:i("81da"),alt:""}})])])])}],p={props:{initData:{type:Object,default:null}},computed:Object(s.a)({},Object(n.e)("productManage",["RiskWarningTypeList","RiskWarningRangeList"])),data:function(){return{FailTips:"",DisplayMode:"",AreaList:[],ID:"",ControlID:""}},methods:{getSubmitInfo:function(){return this.getCheckResult()?{List:[{FailTips:this.FailTips,DisplayMode:this.DisplayMode,AreaList:this.AreaList,ID:this.ID,ControlID:this.ControlID}]}:null},getCheckResult:function(){return this.FailTips?this.DisplayMode?!(!this.AreaList||0===this.AreaList.length)||(this.messageBox.failSingleError("保存失败","请选择提示范围"),!1):(this.messageBox.failSingleError("保存失败","请选择提示形式"),!1):(this.messageBox.failSingleError("保存失败","请输入提示内容"),!1)}},mounted:function(){if(this.initData&&Array.isArray(this.initData.List)&&1===this.initData.List.length){var t=Object(r.a)(this.initData.List,1)[0],e=t.AreaList,i=t.DisplayMode,a=t.FailTips,s=t.ID,n=t.ControlID;this.AreaList=e,this.DisplayMode=i,this.FailTips=a,this.ID=s,this.ControlID=n}}},u=(i("05fc"),i("2877")),f=Object(u.a)(p,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mp-erp-product-manage-comps-interaction-right-panels-risk-panel-container"},[i("p",[i("span",[t._v("提示内容：")]),i("el-input",{attrs:{size:"small",maxlength:"60","show-word-limit":""},model:{value:t.FailTips,callback:function(e){t.FailTips="string"==typeof e?e.trim():e},expression:"FailTips"}})],1),i("p",[i("span",[t._v("提示形式：")]),i("el-radio-group",{model:{value:t.DisplayMode,callback:function(e){t.DisplayMode=e},expression:"DisplayMode"}},t._l(t.RiskWarningTypeList,(function(e){return i("el-radio",{key:e.ID,attrs:{label:e.ID}},[t._v(t._s(e.Name))])})),1)],1),i("p",[i("span",[t._v("提示范围：")]),i("el-checkbox-group",{model:{value:t.AreaList,callback:function(e){t.AreaList=e},expression:"AreaList"}},t._l(t.RiskWarningRangeList,(function(e){return i("el-checkbox",{key:e.ID,attrs:{label:e.ID}},[t._v(t._s(e.Name))])})),1)],1),t._m(0)])}),c,!1,null,null,null).exports,h=(i("4de4"),i("caad"),i("d81d"),i("fb6a"),i("a434"),i("25f0"),i("2532"),i("a9e4")),m={props:{drawerVisible:{type:Boolean,default:!1},leftPropertyList:{type:Array,default:function(){return[]}},rightPropertyList:{type:Array,default:function(){return[]}},initData:{type:Object,default:null}},components:{FormulaPanelElementSelectDialog:h.a},computed:{drawer:{get:function(){return this.drawerVisible},set:function(t){this.$emit("update:drawerVisible",t)}},lSelectedIDs:function(){return(this.leftIndex||0===this.leftIndex)&&this.localList[this.leftIndex]&&this.localList[this.leftIndex].Property?[this.localList[this.leftIndex].Property.StoredContent]:[]},rSelectedIDs:function(){return(this.rightIndex||0===this.rightIndex)&&this.localList[this.rightIndex]&&this.localList[this.rightIndex].Property?[this.localList[this.rightIndex].Property.StoredContent]:[]}},data:function(){return{localList:[],listItem:{ID:"",ControlID:"",Property:null,Operator:"",CompareProperty:null,FailTips:"",key:"",DefaultValue:""},leftVisible:!1,rightVisible:!1,leftIndex:"",rightIndex:""}},methods:{onItemAddClick:function(){var t=Math.random().toString(16).slice(-8);this.localList.push(Object(s.a)({},this.listItem,{key:t}))},onItemRemoveClick:function(t){this.localList.splice(t,1)},onLeftClick:function(t){this.leftIndex=t,this.leftVisible=!0},onRightClick:function(t){this.rightIndex=t,this.rightVisible=!0},onLeftSelected:function(t){if(t&&(this.leftIndex||0===this.leftIndex)){this.localList[this.leftIndex].Property=t,this.localList[this.leftIndex].CompareProperty=null;var e=t.OperatorList&&t.OperatorList.length>0?t.OperatorList[0]:"";(e||0===e)&&(this.localList[this.leftIndex].Operator=e)}},onRightSelected:function(t){(this.rightIndex||0===this.rightIndex)&&(this.localList[this.rightIndex].CompareProperty=t)},getOperatorOptions:function(t){if(!t)return[];var e=t.Property;if(!e)return[];var i=e.OperatorList;return Array.isArray(i)&&0!==i.length?o.a.filter((function(t){return i.includes(t.ID)})):[]},getSubmitInfo:function(){return this.getCheckResult()?{List:this.localList.map((function(t){return Object(s.a)({},t,{DefaultValue:t.CompareProperty?null:t.DefaultValue})}))}:null},getCheckResult:function(){if(0===this.localList.length)return this.messageBox.failSingleError("保存失败","对比结果为空，请添加右侧对比条目"),!1;for(var t=0;t<this.localList.length;t+=1){var e=this.localList[t];if(!e.FailTips||!e.Property)return this.messageBox.failSingleError("保存失败","第".concat(t+1,"行信息不完整，请检查数值、对比数值及错误提示")),!1;if(!e.CompareProperty){if(!e.DefaultValue&&0!==e.DefaultValue)return this.messageBox.failSingleError("保存失败","第".concat(t+1,"行未填写对比数值，请输入数字值")),!1;if(!this.$utils.getValueIsOrNotNumber(e.DefaultValue))return this.messageBox.failSingleError("保存失败","第".concat(t+1,"行对比数值输入类型不正确，请输入数字值")),!1}}return!0}},mounted:function(){var t=this;if(this.initData&&Array.isArray(this.initData.List)){var e=this.initData.List.map((function(e){var i=o.d.getPerfectPropertyByImperfectProperty(e.CompareProperty,t.rightPropertyList)||null,r=o.d.getPerfectPropertyByImperfectProperty(e.Property,t.leftPropertyList)||null;return Object(s.a)({},e,{Property:r,CompareProperty:i})}));this.localList=e}}},d=(i("cf05"),Object(u.a)(m,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"mp-erp-product-module-interaction-compare-panel-container"},[r("ul",t._l(t.localList,(function(e,a){return r("li",{key:e.key||e.ID},[r("div",[r("span",{staticClass:"blue-span",on:{click:function(e){return t.onLeftClick(a)}}},[t._v("选择数值")]),r("span",{staticClass:"selected-title",attrs:{title:e.Property?e.Property.TipsContent||e.Property.DisplayContent.replace(/\[|\]/g,""):""}},[t._v(" "+t._s(e.Property?e.Property.DisplayContent.replace(/\[|\]/g,""):"")+" ")]),r("el-select",{attrs:{disabled:!e.Property,"no-data-text":"请先左侧选择数值",size:"small","popper-class":"compare-operator"},model:{value:e.Operator,callback:function(i){t.$set(e,"Operator",i)},expression:"it.Operator"}},t._l(t.getOperatorOptions(e),(function(t){return r("el-option",{key:t.ID,attrs:{label:t.Name,value:t.ID}})})),1),r("span",{staticClass:"blue-span is-font-size-12",class:{disabled:!e.Property},on:{click:function(e){return t.onRightClick(a)}}},[t._v("选择对比数值")]),e.CompareProperty&&e.CompareProperty.DisplayContent?r("span",{staticClass:"selected-title",attrs:{title:e.CompareProperty?e.CompareProperty.DisplayContent.replace(/\[|\]/g,""):""}},[t._v(" "+t._s(e.CompareProperty?e.CompareProperty.DisplayContent.replace(/\[|\]/g,""):"")+" ")]):r("el-input",{staticClass:"selected-input",attrs:{size:"small",maxlength:"9"},model:{value:e.DefaultValue,callback:function(i){t.$set(e,"DefaultValue",t._n("string"==typeof i?i.trim():i))},expression:"it.DefaultValue"}})],1),r("div",[r("span",{staticClass:"label"},[t._v("错误提示：")]),r("el-input",{attrs:{size:"small",maxlength:"30","show-word-limit":""},model:{value:e.FailTips,callback:function(i){t.$set(e,"FailTips","string"==typeof i?i.trim():i)},expression:"it.FailTips"}}),r("span",{staticClass:"del",on:{click:function(e){return t.onItemRemoveClick(a)}}},[r("img",{attrs:{src:i("6e30"),alt:""}}),r("i",[t._v("删除")])])],1)])})),0),r("FormulaPanelElementSelectDialog",{key:"l",attrs:{visible:t.leftVisible,list:t.leftPropertyList,selectedElementIDs:t.lSelectedIDs},on:{"update:visible":function(e){t.leftVisible=e},submit:t.onLeftSelected}}),r("FormulaPanelElementSelectDialog",{attrs:{showConstant:"",freeText:"常数",visible:t.rightVisible,list:t.rightPropertyList,selectedElementIDs:t.rSelectedIDs},on:{"update:visible":function(e){t.rightVisible=e},submit:t.onRightSelected}}),r("el-drawer",{attrs:{visible:t.drawer,size:"470px","show-close":!1},on:{"update:visible":function(e){t.drawer=e}}},[r("template",{slot:"title"},[r("span",{staticClass:"drawer-title",on:{click:function(e){t.drawer=!1}}},[r("i",{staticClass:"el-icon-arrow-right"}),t._v(" 说明")])]),r("div",{staticClass:"drawer-content"},[r("div",[t._v("设置时请注意逻辑悖论，例如：")]),r("p",[t._v("如果 A > B 则必须满足 A <= B；")]),r("p",[t._v("如果 A <= B 则必须满足 A > B；")]),r("p",{staticStyle:{margin:"15px 0"}},[t._v("那么将一直提示错误，无法下单。再如：")]),r("p",[t._v("如果 A > B 则必须满足 C > D；")]),r("p",[t._v("如果 A <= B 则必须满足 C <= D；")]),r("p",[t._v("如果 C > D 则必须满足 A < B；")]),r("p",[t._v("如果 C <= D 则必须满足 A > B；")]),r("p",[t._v("那么这个产品将无法下单，循环提示错误。")])])],2)],1)}),[],!1,null,null,null)).exports,y=(i("99af"),i("7db0"),i("4160"),i("a15b"),i("ac1f"),i("5319"),i("159b"),i("c8e9")),g=i("3166"),b={props:{ComparePropertyList:{type:Array,default:function(){return[]}},visibleDialog:{type:Boolean,default:!1},initData:{type:Object,default:null}},components:{FormulaPanelElementSelectDialog:h.a,CheckboxDialogComp:y.a,MaterialSelectDialog:g.a},computed:{visible:{get:function(){return this.visibleDialog},set:function(t){this.$emit("update:visibleDialog",t)}},selectedElementIDs:function(){return this.localList.map((function(t){return t.StoredContent}))}},data:function(){return{localList:[],propVisibel:!1,materialVisible:!1}},methods:{getOperatorOptions:function(t){return Array.isArray(t)&&0!==t.length?o.a.filter((function(e){return t.includes(e.ID)})):[]},onElementSelect:function(t){var e=this.transformOnePropItem(t);e&&this.localList.push(e)},transformOnePropItem:function(t){if(!t)return null;var e=this.getOperatorOptions(t.OperatorList),i=t.DefaultValue,r=t.checkList,a=t.PanelID,n=t.ControlID,o=t.Operator;return i=i||0===i?i:"",r=Array.isArray(r)?r:[],a=a||[],n=n||[],o=o||0===o?o:e[0].ID,Object(s.a)({},t,{OperatorOptions:e,ShowName:t.DisplayContent.replace(/\[|\]/g,""),Operator:o,DefaultValue:i,ResultType:this.judgeIsElementOrNot(t),checkList:r,PanelID:a,ControlID:n,TipsContent:this.getTipsContent(t),propVisibel:!1,materialVisible:!1})},getTipsContent:function(t){if(!t)return"";var e=t.FixedType,i=t.Element;if(10===e&&i&&2===i.Type){var r=i.HiddenToCustomer,a=i.DefaultValue,s=i.OptionAttribute,n="";if(s&&Array.isArray(s.OptionList))n=s.OptionList.map((function(t,e){return"选项".concat(e+1,"：").concat(t.Name,"（值：").concat(t.Value,"）")})).join("、");if(r&&(a||0===a)){var o="隐藏默认值：".concat(a);n=n?"".concat(n,"；").concat(o):o}return n}return t.TipsContent?t.TipsContent:""},onRemoveClick:function(t){this.localList.splice(t,1)},judgeIsElementOrNot:function(t){if(!t)return"";var e=t.ValueType,i=t.Element,r=t.Group,a=t.FixedType,s=t.Type,n=t.MaterialType;if(!a&&0!==a&&i&&!r)return"element";if(!a&&0!==a&&i&&r)return"group";if(1===e)return"radio";if(2===e||3===e||4===e)return"multi-select";if(5===e)return"craft";if(6===e)return 5!==s||n?"multi-select":"material";if(7===e){if(r&&!i)return"group";if(i)return"element"}return 0===e?"element":""},onSelectDialogClick:function(t,e){this.localList.forEach((function(t){var e=t;e.materialVisible=!1,e.propVisibel=!1})),"material"===e?this.localList[t].materialVisible=!0:this.localList[t].propVisibel=!0},localMaterialListObj:function(t){return Object(o.e)(t)},localMaterialOptionList:function(t){return Object(o.f)(this.localMaterialListObj(t))},localMaterialSelectedList:function(t,e){return Object(o.g)(t,this.localMaterialOptionList(e))},getText:function(t,e){return t&&0!==t.length?t.map((function(t){var i=e.find((function(e){return e.First===(t.First||t)}));return i?i.Second:""})).filter((function(t){return t})).join("、"):"尚未选择"},getPropertyResultPropType:function(t){return["element","group"].includes(t)?"DefaultValue":["radio","multi-select","material"].includes(t)?"checkList":""},getSubmitInfo:function(){var t=this;return this.getCheckResult()?{List:this.localList.map((function(e){var i=e.Operator,r={ID:e.PanelID,ControlID:e.ControlID,Operator:i,Property:e},a=t.getPropertyResultPropType(e.ResultType);return a&&("checkList"===a?r.OptionList=e[a].map((function(t){return t.First?t.First:t})):r[a]=e[a]),r}))}:null},getCheckResult:function(){for(var t=0;t<this.localList.length;t+=1){var e=this.localList[t],i=this.getPropertyResultPropType(e.ResultType);if(i){if("DefaultValue"===i&&""!==e.DefaultValue){var r=!(!e.Element||1!==e.Element.Type||e.Element.NumbericAttribute.AllowDecimal);if(!this.$utils.getValueIsOrNotNumber(e.DefaultValue,r))return this.messageBox.failSingleError("保存失败","第".concat(t+1,"行输入值应为数字类型元素").concat(r?"（且不允许小数）":"")),!1;if(e.AvailableValueList)if(!o.d.AvailableValueListChecker(e.DefaultValue,e.AvailableValueList))return this.messageBox.failSingleError("保存失败","第".concat(t+1,"行值不正确，请检查其可取值范围")),!1}if("checkList"===i&&(!e.checkList||0===e.checkList.length)&&Array.isArray(e.OptionList)&&e.OptionList.length>0)return this.messageBox.failSingleError("保存失败","第".concat(t+1,"行元素没有勾选列表选项")),!1}}return!0}},mounted:function(){var t=this;if(this.initData&&Array.isArray(this.initData.List)){var e=this.initData.List.map((function(e){var i=e.Property,r=e.OptionList,a=e.Operator,n=e.ID,l=e.DefaultValue,c=e.ControlID;if(i){var p=o.d.getPerfectPropertyByImperfectProperty(i,t.ComparePropertyList)||{},u=Object(s.a)({},p,{checkList:r,Operator:a,PanelID:n,DefaultValue:l,ControlID:c});return t.transformOnePropItem(u)}return null})).filter((function(t){return t}));this.localList=e}}},L=(i("51f0"),Object(u.a)(b,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"mp-erp-product-module-interaction-interaction-panel-container"},[t._l(t.localList,(function(e,a){return r("li",{key:e.StoredContent},[r("div",{staticClass:"del",on:{click:function(e){return t.onRemoveClick(a)}}},[r("img",{attrs:{src:i("6e30"),alt:""}}),r("span",[t._v("删除")])]),r("div",{staticClass:"operator"},[e.OperatorOptions.length>1?r("el-select",{attrs:{placeholder:"请选择",size:"mini"},model:{value:e.Operator,callback:function(i){t.$set(e,"Operator",i)},expression:"it.Operator"}},t._l(e.OperatorOptions,(function(t){return r("el-option",{key:t.ID,attrs:{label:t.Name,value:t.ID}})})),1):t._e(),1===e.OperatorOptions.length?r("span",[t._v(t._s(e.OperatorOptions[0].Name))]):t._e()],1),r("span",{staticClass:"name",attrs:{title:e.TipsContent||e.ShowName}},[t._v(t._s(e.ShowName))]),r("div",{staticClass:"result"},["element"===e.ResultType||"group"===e.ResultType?r("div",{staticClass:"element"},["element"===e.ResultType?r("label",[t._v("以此值运算：")]):r("label",[t._v("所有元素以此值运算：")]),t._v(" "),r("el-input",{attrs:{size:"mini"},model:{value:e.DefaultValue,callback:function(i){t.$set(e,"DefaultValue","string"==typeof i?i.trim():i)},expression:"it.DefaultValue"}}),e.Unit?r("span",[t._v(t._s(e.Unit))]):t._e()],1):t._e(),"radio"===e.ResultType||"multi-select"===e.ResultType?r("div",{staticClass:"select"},[e.OptionList.length<4?r("el-checkbox-group",{model:{value:e.checkList,callback:function(i){t.$set(e,"checkList",i)},expression:"it.checkList"}},t._l(e.OptionList,(function(e){return r("el-checkbox",{key:e.First,attrs:{label:e.First,title:e.Second}},[t._v(t._s(e.Second))])})),1):r("div",{staticClass:"multiple"},[r("span",{staticClass:"blue-span",on:{click:function(e){return t.onSelectDialogClick(a)}}},[t._v("选择")]),r("span",{attrs:{title:t.getText(e.checkList,e.OptionList)}},[t._v(t._s(t.getText(e.checkList,e.OptionList)))]),r("CheckboxDialogComp",{attrs:{visible:e.propVisibel,list:e.OptionList,width:"800px",title:"选择选项",defaultProps:{label:"Second",value:"First"}},on:{"update:visible":function(i){return t.$set(e,"propVisibel",i)}},model:{value:e.checkList,callback:function(i){t.$set(e,"checkList",i)},expression:"it.checkList"}})],1)],1):t._e(),"material"===e.ResultType?r("div",{staticClass:"material"},[r("span",{staticClass:"blue-span",on:{click:function(e){return t.onSelectDialogClick(a,"material")}}},[t._v("设置")]),r("div",{staticClass:"show-text",attrs:{title:t.localMaterialSelectedList(e.checkList,e.OptionList)}},[t._v(t._s(t.localMaterialSelectedList(e.checkList,e.OptionList)))]),r("MaterialSelectDialog",{attrs:{submitText:"确定",visible:e.materialVisible,optionList:t.localMaterialOptionList(e.OptionList)},on:{"update:visible":function(i){return t.$set(e,"materialVisible",i)}},model:{value:e.checkList,callback:function(i){t.$set(e,"checkList",i)},expression:"it.checkList"}})],1):t._e()])])})),r("li",[r("FormulaPanelElementSelectDialog",{attrs:{visible:t.visible,list:t.ComparePropertyList,selectedElementIDs:t.selectedElementIDs},on:{"update:visible":function(e){t.visible=e},submit:t.onElementSelect}})],1)],2)}),[],!1,null,null,null)).exports,v={name:"ProductInteractionSet",data:function(){return{ProductID:"",PartID:"",ProductName:"",titleType:"",setType:"",drawer:!1,visible:!1,loading:!0,subTypeConditionPropertyList:[],subTypeRightPropertyList:[]}},components:{ContionCommonComp:l.a,RiskPanel:f,ComparePanel:d,InteractionPanel:L},computed:Object(s.a)({},Object(n.e)("productManage",["ProductManageList","ProductModuleKeyIDList","curInteractionData","ControlTypeList","subTargetData","subComparePropList","InteractionLeftPropertyList","InteractionRightPropertyList","CompareLeftPropertyList","CompareRightPropertyList"]),{rightTitle:function(){return"risk"===this.setType?"则进行风险提示：":"compare"===this.setType||"subCompare"===this.setType?"则必须满足":"则"},ComparePropertyList:function(){return"risk"===this.setType||"compare"===this.setType||"subCompare"===this.setType?this.LeftPropertyList:null},LeftPropertyList:function(){return"subCompare"===this.setType||"subInteraction"===this.setType?this.subTypeConditionPropertyList:"interaction"===this.setType?this.InteractionLeftPropertyList:this.CompareLeftPropertyList},RightSetupPropertyList:function(){return"subCompare"===this.setType||"subInteraction"===this.setType?this.subTypeRightPropertyList:"interaction"===this.setType?this.InteractionRightPropertyList:this.CompareRightPropertyList}}),methods:{getPositionID:function(){var t=this.$route.params,e=t.ProductID,i=t.PartID,r=t.name,a=t.type,s=t.setType;this.ProductID=e,this.PartID="null"!==i?i:"",this.ProductName=r,this.titleType=a,this.setType=s},onGoBackClick:function(){this.$goback()},getSubPropList:function(){var t=this;return Object(a.a)(regeneratorRuntime.mark((function e(){var i,a,n,l,c,p,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("subCompare"===t.setType||"subInteraction"===t.setType){e.next=3;break}return t.loading=!1,e.abrupt("return");case 3:return i=o.d.getPropIDsObj(t.subTargetData),"subInteraction"===t.setType&&(a=25,n=38),"subCompare"===t.setType&&(a=26,n=40),t.loading=!0,e.next=9,Promise.all([o.d.getPropertyList(Object(s.a)({},i,{useModule:a})),o.d.getPropertyList(Object(s.a)({},i,{useModule:n}))]);case 9:l=e.sent,c=Object(r.a)(l,2),p=c[0],u=c[1],p&&u?(t.subTypeConditionPropertyList=p,t.subTypeRightPropertyList=u,t.loading=!1):t.$goback();case 14:case"end":return e.stop()}}),e)})))()},onSubmitClick:function(){var t,e=this.$refs.oLeftComp.getConditonResult();if(e&&("risk"===this.setType&&(t=this.$refs.oRisk.getSubmitInfo()),"interaction"!==this.setType&&"subInteraction"!==this.setType||(t=this.$refs.oInteraction.getSubmitInfo()),"compare"!==this.setType&&"subCompare"!==this.setType||(t=this.$refs.oComparePanel.getSubmitInfo()),t)){var i=this.$utils.getIDFromListByNames(this.setType,this.ControlTypeList);if(i||0===i){var r=o.d.getPropIDsObj(this.subTargetData),a=Object(s.a)({},e,{},t,{ProductID:this.ProductID,ControlType:i},r);this.handleSubmit(a)}}},handleSubmit:function(t){var e=this;return Object(a.a)(regeneratorRuntime.mark((function i(){var r,a;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e.api.getProductControlSave(t).catch((function(){}));case 2:(r=i.sent)&&1e3===r.data.Status&&(a=function(){e.onGoBackClick(),e.$store.commit("productManage/setProductInteractionDataListChange",[t,r.data.Data])},e.messageBox.successSingle("保存成功",a,a));case 4:case"end":return i.stop()}}),i)})))()},onCompareAddClick:function(){this.$refs.oComparePanel.onItemAddClick()}},mounted:function(){this.getPositionID(),this.getSubPropList()}},C=(i("f2ce"),Object(u.a)(v,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"mp-erp-product-list-page-product-interaction-set-page-wrap"},[i("header",[i("span",[t._v("当前"+t._s(t.titleType)+"：")]),i("span",[t._v(t._s(t.ProductName))])]),i("main",{class:{loading:t.loading}},[t.loading?t._e():i("ContionCommonComp",{ref:"oLeftComp",attrs:{ComparePropertyList:t.ComparePropertyList,PropertyList:t.LeftPropertyList,leftWidth:"40%",curEditData:t.curInteractionData,rightTitle:t.rightTitle}},[i("template",{slot:"title"},["interaction"===t.setType||"subInteraction"===t.setType?i("span",{staticClass:"blue-span",on:{click:function(e){t.visible=!0}}},[t._v("+ 添加结果")]):t._e(),"compare"===t.setType||"subCompare"===t.setType?[i("span",{staticClass:"blue-span",on:{click:t.onCompareAddClick}},[t._v("+ 添加")]),i("span",{staticClass:"intro",on:{click:function(e){t.drawer=!0}}},[i("i",[t._v("?")]),t._v(" 说明")])]:t._e()],2),"interaction"!==t.setType&&"subInteraction"!==t.setType||t.loading?t._e():i("InteractionPanel",{ref:"oInteraction",attrs:{initData:t.curInteractionData,ComparePropertyList:t.RightSetupPropertyList,visibleDialog:t.visible},on:{"update:visibleDialog":function(e){t.visible=e},"update:visible-dialog":function(e){t.visible=e}}}),"compare"!==t.setType&&"subCompare"!==t.setType||t.loading?t._e():i("ComparePanel",{ref:"oComparePanel",attrs:{initData:t.curInteractionData,drawerVisible:t.drawer,leftPropertyList:t.RightSetupPropertyList,rightPropertyList:t.RightSetupPropertyList},on:{"update:drawerVisible":function(e){t.drawer=e},"update:drawer-visible":function(e){t.drawer=e}}}),"risk"===t.setType?i("RiskPanel",{ref:"oRisk",attrs:{initData:t.curInteractionData}}):t._e()],2)],1),i("footer",[i("el-button",{attrs:{type:"primary"},on:{click:t.onSubmitClick}},[t._v("保存")]),i("el-button",{on:{click:t.onGoBackClick}},[i("i",{staticClass:"el-icon-d-arrow-left"}),t._v(" 返回")])],1)])}),[],!1,null,null,null));e.default=C.exports},cf05:function(t,e,i){"use strict";var r=i("88ab");i.n(r).a},f2ce:function(t,e,i){"use strict";var r=i("99f9");i.n(r).a}}]);