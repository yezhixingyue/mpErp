(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-3c240d7c"],{"2cd7":function(t,e,i){},"468e":function(t,e,i){"use strict";var n=i("4aae");i.n(n).a},"4aae":function(t,e,i){},"59d2":function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"a",(function(){return s})),i("7db0"),i("4160"),i("d3b7"),i("25f0"),i("159b");var n=i("5530"),a=i("d4ec"),l=i("bee2"),r=i("ade3"),o=function(t,e){var i="",n="";return t&&0!==t.length?e&&e.length>0&&(t[0].forEach((function(t){var n=e.find((function(e){return e.ID===t}));n&&(i+=n.DisplayContent)})),t.forEach((function(t,i){i>0&&t.forEach((function(t,i){var a=e.find((function(e){return e.ID===t}));a&&(0===i&&n&&(n+=" "),n+=a.DisplayContent)}))}))):e&&e.length>0&&(i=e[0].DisplayContent,e.forEach((function(t,e){e>0&&(n+=t.DisplayContent)}))),{lv1Title:i,itemContent:n}},s=function(){function t(e){if(Object(a.a)(this,t),Object(r.a)(this,"ID",""),Object(r.a)(this,"Name",""),Object(r.a)(this,"SingleLenRadio",!0),Object(r.a)(this,"SingleLength",""),Object(r.a)(this,"MinLength",""),Object(r.a)(this,"MaxLength",""),Object(r.a)(this,"LengthIncrement",""),Object(r.a)(this,"IsLengthSplit",!1),Object(r.a)(this,"SingleWidthRadio",!0),Object(r.a)(this,"SingleWidth",""),Object(r.a)(this,"MinWidth",""),Object(r.a)(this,"MaxWidth",""),Object(r.a)(this,"WidthIncrement",""),Object(r.a)(this,"IsWidthSplit",!1),e&&"[object Object]"===Object.prototype.toString.call(e)){var i=JSON.parse(JSON.stringify(e)),n=i.ID,l=i.Name,o=i.IsLengthSplit,s=i.IsWidthSplit,c=i.MinLength,u=i.MinWidth,h=i.MaxLength,d=i.MaxWidth,m=i.LengthIncrement,p=i.WidthIncrement;n&&(this.ID=n),l&&(this.Name=l),o&&(this.IsLengthSplit=o),s&&(this.IsWidthSplit=s),c||0===c?(this.SingleLenRadio=!1,this.MinLength=c,this.MaxLength=h,this.LengthIncrement=m):this.SingleLength=h,u||0===u?(this.SingleWidthRadio=!1,this.MinWidth=u,this.MaxWidth=d,this.WidthIncrement=p):this.SingleWidth=d}}return Object(l.a)(t,null,[{key:"formatSubmit",value:function(t){var e=Object(n.a)({},t);return e.SingleLenRadio&&(e.MaxLength=e.SingleLength,delete e.MinLength,delete e.LengthIncrement),e.SingleWidthRadio&&(e.MaxWidth=e.SingleWidth,delete e.MinWidth,delete e.WidthIncrement),delete e.SingleLenRadio,delete e.SingleLength,delete e.SingleWidthRadio,delete e.SingleWidth,e}}]),t}()},"77b5":function(t,e,i){"use strict";var n=i("873c");i.n(n).a},"83d1":function(t,e,i){"use strict";i.r(e);var n=(i("96cf"),i("1da1")),a=i("5530"),l=i("ad32"),r=i("59d2"),o={props:{visible:{type:Boolean,default:!1},curData:{type:Object,default:null}},components:{CommonDialogComp:l.a},data:function(){return{title:"添加物料尺寸",ruleForm:null,rules:{Name:[{required:!0,message:"请输入尺寸名称",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}],Length:[{validator:this.checkLength,trigger:"change"}],Width:[{validator:this.checkWidth,trigger:"change"}]}}},methods:{onSubmit:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$refs.ruleForm.validate().catch((function(){}));case 2:e.sent&&(i=r.a.formatSubmit(t.ruleForm),t.$emit("submit",i));case 4:case"end":return e.stop()}}),e)})))()},onCancle:function(){this.$emit("update:visible",!1)},onOpen:function(){this.$nextTick(this.initEditData)},onClosed:function(){this.ruleForm=null},initEditData:function(){this.ruleForm=new r.a(this.curData),this.title=this.curData?"编辑物料尺寸":"添加物料尺寸"},getCheckRes:function(t,e,i,n,a){var l=this.$utils.isPositiveInteger;return t?!!l(e,!0)||"必须为正整数类型数字值，请填写或检查输入，不能为0，单尺寸可为-1":l(i)&&l(n,!0)&&l(a)?n<=i&&-1!==n?"最大值必须大于最小值":!(a>n-i&&-1!==n)||"增量大小不能大于最大最小值最大范围区间差值":"请填写或补充正整数类型数字值，如已输入请检查输入值类型是否正确，不能为0，仅最大值可为-1（无穷大）"},checkLength:function(t,e,i){var n=this.ruleForm,a=n.SingleLenRadio,l=n.SingleLength,r=n.MinLength,o=n.MaxLength,s=n.LengthIncrement,c=this.getCheckRes(a,l,r,o,s);"string"==typeof c?i(new Error(c)):i()},checkWidth:function(t,e,i){var n=this.ruleForm,a=n.SingleWidthRadio,l=n.SingleWidth,r=n.MinWidth,o=n.MaxWidth,s=n.WidthIncrement,c=this.getCheckRes(a,l,r,o,s);"string"==typeof c?i(new Error(c)):i()}}},s=(i("a2b1"),i("2877")),c=Object(s.a)(o,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("CommonDialogComp",{staticClass:"mp-erp-comps-material-size-save-dialog-comp-wrap",attrs:{width:"750px",top:"15vh",title:t.title,visible:t.visible},on:{"update:visible":function(e){t.visible=e},submit:t.onSubmit,cancle:t.onCancle,open:t.onOpen,closed:t.onClosed}},[t.ruleForm?i("el-form",{ref:"ruleForm",staticClass:"ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"118px",size:"small"}},[i("el-form-item",{key:"MaterialSizeName",attrs:{label:"尺寸名称：",prop:"Name"}},[i("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:"请输入尺寸名称",maxlength:"20","show-word-limit":""},model:{value:t.ruleForm.Name,callback:function(e){t.$set(t.ruleForm,"Name","string"==typeof e?e.trim():e)},expression:"ruleForm.Name"}})],1),i("el-form-item",{key:"MaterialSizeLength",staticClass:"size-content",attrs:{label:"长度：",prop:"Length"}},[i("el-radio-group",{model:{value:t.ruleForm.SingleLenRadio,callback:function(e){t.$set(t.ruleForm,"SingleLenRadio",e)},expression:"ruleForm.SingleLenRadio"}},[i("el-radio",{attrs:{label:!0}},[t._v("单个尺寸")]),i("el-radio",{attrs:{label:!1}},[t._v("多个尺寸")])],1),t.ruleForm.SingleLenRadio?i("p",{key:"isSingleLenRadio"},[i("el-input",{staticStyle:{width:"110px"},attrs:{maxlength:"9"},model:{value:t.ruleForm.SingleLength,callback:function(e){t.$set(t.ruleForm,"SingleLength",t._n("string"==typeof e?e.trim():e))},expression:"ruleForm.SingleLength"}}),i("span",{staticClass:"text"},[t._v("mm")])],1):i("p",{key:"isNotSingleLenRadio"},[i("el-input",{staticStyle:{width:"110px"},attrs:{maxlength:"9"},model:{value:t.ruleForm.MinLength,callback:function(e){t.$set(t.ruleForm,"MinLength",t._n("string"==typeof e?e.trim():e))},expression:"ruleForm.MinLength"}}),i("span",{staticClass:"text"},[t._v("≤ 长度 ≤")]),i("el-input",{staticStyle:{width:"110px","margin-right":"12px"},attrs:{maxlength:"9"},model:{value:t.ruleForm.MaxLength,callback:function(e){t.$set(t.ruleForm,"MaxLength",t._n("string"==typeof e?e.trim():e))},expression:"ruleForm.MaxLength"}}),i("span",{staticClass:"text"},[t._v("增量：")]),i("el-input",{staticStyle:{width:"110px"},attrs:{maxlength:"9"},model:{value:t.ruleForm.LengthIncrement,callback:function(e){t.$set(t.ruleForm,"LengthIncrement",t._n("string"==typeof e?e.trim():e))},expression:"ruleForm.LengthIncrement"}}),i("span",{staticClass:"text"},[t._v("mm")])],1),i("el-checkbox",{model:{value:t.ruleForm.IsLengthSplit,callback:function(e){t.$set(t.ruleForm,"IsLengthSplit",e)},expression:"ruleForm.IsLengthSplit"}},[t._v("长度可加工")])],1),i("el-form-item",{key:"MaterialSizeWidth",staticClass:"size-content",attrs:{label:"宽度：",prop:"Width"}},[i("el-radio-group",{model:{value:t.ruleForm.SingleWidthRadio,callback:function(e){t.$set(t.ruleForm,"SingleWidthRadio",e)},expression:"ruleForm.SingleWidthRadio"}},[i("el-radio",{attrs:{label:!0}},[t._v("单个尺寸")]),i("el-radio",{attrs:{label:!1}},[t._v("多个尺寸")])],1),t.ruleForm.SingleWidthRadio?i("p",{key:"isSingleWidthRadio"},[i("el-input",{staticStyle:{width:"110px"},attrs:{maxlength:"9"},model:{value:t.ruleForm.SingleWidth,callback:function(e){t.$set(t.ruleForm,"SingleWidth",t._n("string"==typeof e?e.trim():e))},expression:"ruleForm.SingleWidth"}}),i("span",{staticClass:"text"},[t._v("mm")])],1):i("p",{key:"isNotSingleWidthRadio"},[i("el-input",{staticStyle:{width:"110px"},attrs:{maxlength:"9"},model:{value:t.ruleForm.MinWidth,callback:function(e){t.$set(t.ruleForm,"MinWidth",t._n("string"==typeof e?e.trim():e))},expression:"ruleForm.MinWidth"}}),i("span",{staticClass:"text"},[t._v("≤ 宽度 ≤")]),i("el-input",{staticStyle:{width:"110px","margin-right":"12px"},attrs:{maxlength:"9"},model:{value:t.ruleForm.MaxWidth,callback:function(e){t.$set(t.ruleForm,"MaxWidth",t._n("string"==typeof e?e.trim():e))},expression:"ruleForm.MaxWidth"}}),i("span",{staticClass:"text"},[t._v("增量：")]),i("el-input",{staticStyle:{width:"110px"},attrs:{maxlength:"9"},model:{value:t.ruleForm.WidthIncrement,callback:function(e){t.$set(t.ruleForm,"WidthIncrement",t._n("string"==typeof e?e.trim():e))},expression:"ruleForm.WidthIncrement"}}),i("span",{staticClass:"text"},[t._v("mm")])],1),i("el-checkbox",{model:{value:t.ruleForm.IsWidthSplit,callback:function(e){t.$set(t.ruleForm,"IsWidthSplit",e)},expression:"ruleForm.IsWidthSplit"}},[t._v("宽度可加工")])],1),i("el-form-item",[i("p",{staticClass:"tips-box"},[i("i",{staticClass:"el-icon-warning"}),t._v(" 注：尺寸可加工指的是该物料是否可以改变固有尺寸，例如纸张开白料")])])],1):t._e()],1)}),[],!1,null,null,null).exports,u=(i("99af"),i("d81d"),i("2af0")),h={props:{dataList:{default:function(){return[]},type:Array},loading:{type:Boolean,default:!1}},computed:{localTableData:function(){var t=this;return this.dataList&&Array.isArray(this.dataList)&&0!==this.dataList.length?this.dataList.map((function(e){return Object(a.a)({},e,{LenText:t.getSizeText(e,"len"),WidthText:t.getSizeText(e,"width")})})):[]}},mixins:[u.a],methods:{setHeight:function(){var t=this.getHeight(".mp-erp-material-size-manage-page-wrap > header",53);this.h=t},onEditClick:function(t){this.$emit("edit",t)},onRemoveClick:function(t){this.$emit("remove",t)},getSizeText:function(t,e){var i="len"===e?t.MinLength:t.MinWidth,n="len"===e?t.MaxLength:t.MaxWidth,a="len"===e?t.LengthIncrement:t.WidthIncrement,l="len"===e?t.IsLengthSplit:t.IsWidthSplit;n=-1===n?"无限":"".concat(n,"mm");var r=l?"可加工":"不可加工",o=i||0===i?"".concat(i,"<=值<=").concat(n," 增量：").concat(a):"".concat(n);return"".concat(o,"（").concat(r,"）")}}},d=(i("e419"),Object(s.a)(h,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-table",{key:"mp-erp-material-size-page-material-size-table-comp-wrap",staticClass:"mp-erp-material-size-page-material-size-table-comp-wrap",staticStyle:{width:"100%"},attrs:{"max-height":t.h,height:t.h,stripe:"",border:"",data:t.localTableData,fit:""}},[i("el-table-column",{attrs:{prop:"Name",label:"尺寸名称",width:"260"}}),i("el-table-column",{attrs:{prop:"LenText",label:"长度","min-width":"240","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{prop:"WidthText",label:"宽度","min-width":"240","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{label:"操作","min-width":"380","class-name":"menu-column"},scopedSlots:t._u([{key:"default",fn:function(e){return i("div",{staticClass:"menu-list"},[i("span",{on:{click:function(i){return t.onEditClick(e.row)}}},[i("i"),t._v("编辑")]),i("span",{on:{click:function(i){return t.onRemoveClick(e.row)}}},[i("i"),t._v("删除")])])}}])}),i("div",{attrs:{slot:"empty"},slot:"empty"},[i("span",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}]},[t._v("暂无数据")])])],1)}),[],!1,null,null,null)).exports,m=i("8aa1"),p=i("2f62"),g={name:"MaterialSizePage",components:{MaterialSizeSaveDialog:c,MaterialSizeTableComp:d,CountComp:m.a},data:function(){return{visible:!1,saveData:null,tableLoading:!1}},computed:Object(a.a)({},Object(p.e)("basicSet",["MaterialSizeList","MaterialSizeListDataNumber","MaterialSizePage"])),methods:{onMaterialSizeSaveClick:function(t){this.saveData=t||null,this.visible=!0},onSaveSubmit:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function i(){var n,a,l,r;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e.$store.dispatch("basicSet/getMaterialSizeSave",t);case 2:(n=i.sent)&&(a=!(!t.ID&&0!==t.ID),l=a?"编辑成功":"添加成功",r=function(){e.handleSaveSuccess({isEdit:a,data:t,ID:n})},e.messageBox.successSingle(l,r,r));case 4:case"end":return i.stop()}}),i)})))()},handleSaveSuccess:function(t){var e=t.isEdit,i=t.data,n=t.ID;this.$store.commit("basicSet/setMaterialSizeSaveSuccess",{isEdit:e,data:i,ID:n}),this.visible=!1},getTableDataList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Object(n.a)(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t.tableLoading=!0,i.next=3,t.$store.dispatch("basicSet/getMaterialSizeList",e);case 3:t.tableLoading=!1;case 4:case"end":return i.stop()}}),i)})))()},onRemoveClick:function(t){var e=this;t&&this.messageBox.warnCancelBox("确定删除该物料尺寸吗","尺寸名称：[ ".concat(t.Name," ]"),(function(){e.$store.dispatch("basicSet/getMaterialSizeRemove",t.ID)}))}},mounted:function(){this.getTableDataList()}},f=(i("77b5"),Object(s.a)(g,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"mp-erp-material-size-manage-page-wrap"},[i("header",[i("el-button",{staticClass:"blue-full-color-btn-styles is-blue-button",attrs:{type:"primary"},on:{click:function(e){return t.onMaterialSizeSaveClick(null)}}},[t._v("添加尺寸")])],1),i("main",[i("MaterialSizeSaveDialog",{attrs:{visible:t.visible,curData:t.saveData},on:{"update:visible":function(e){t.visible=e},submit:t.onSaveSubmit}}),i("MaterialSizeTableComp",{attrs:{dataList:t.MaterialSizeList,loading:t.tableLoading},on:{edit:t.onMaterialSizeSaveClick,remove:t.onRemoveClick}})],1),i("footer",[i("count-comp",{attrs:{count:t.MaterialSizeListDataNumber,watchPage:t.MaterialSizePage,handlePageChange:t.getTableDataList,center:""}})],1)])}),[],!1,null,null,null));e.default=f.exports},"873c":function(t,e,i){},a2b1:function(t,e,i){"use strict";var n=i("e83c");i.n(n).a},ad32:function(t,e,i){"use strict";var n={model:{prop:"value",event:"change"},props:{visible:{type:Boolean,default:!1},title:{type:String,default:"提示"},width:{default:"30%"},top:{type:String,default:"15vh"},showSubmit:{type:Boolean,default:!0},submitText:{type:String,default:"保存"},dangerText:{type:String,default:"重新生成"},cancelText:{type:String,default:"取消"},disabled:{type:Boolean,default:!1},showDanger:{type:Boolean,default:!1}},computed:{dialogVisible:{get:function(){return this.visible},set:function(t){this.$emit("update:visible",t)}}},data:function(){return{checkList:[]}},methods:{onCancleClick:function(){this.$emit("cancle")},onSubmitClick:function(){this.dialogVisible&&this.$emit("submit")},onDangerClick:function(){this.$emit("danger")},onOpen:function(){this.$emit("open")},onOpened:function(){this.$emit("opened")},onClose:function(){this.$emit("close")},onClosed:function(){this.$emit("closed")}}},a=(i("468e"),i("2877")),l=Object(a.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticClass:"mp-img-style-header mp-erp-common-dialog-comp-wrap",attrs:{title:t.title,visible:t.dialogVisible,"close-on-click-modal":!1,width:t.width,top:t.top,modal:!1,"before-close":t.onCancleClick},on:{"update:visible":function(e){t.dialogVisible=e},open:t.onOpen,opened:t.onOpened,close:t.onClose,closed:t.onClosed}},[t._t("default"),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t.showSubmit?i("el-button",{attrs:{type:"primary",disabled:t.disabled},on:{click:t.onSubmitClick}},[t._v(t._s(t.submitText))]):t._e(),t.showDanger?i("el-button",{attrs:{type:"danger"},on:{click:t.onDangerClick}},[t._v(t._s(t.dangerText))]):t._e(),i("el-button",{on:{click:t.onCancleClick}},[t._v(t._s(t.cancelText))])],1)],2)}),[],!1,null,null,null);e.a=l.exports},e419:function(t,e,i){"use strict";var n=i("2cd7");i.n(n).a},e83c:function(t,e,i){}}]);