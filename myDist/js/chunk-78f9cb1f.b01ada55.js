(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-78f9cb1f"],{"05f6":function(t,e,i){"use strict";var r=(i("7db0"),i("caad"),i("d81d"),i("2532"),i("96cf"),i("1da1")),n=i("5530"),o=(i("4de4"),i("c740"),i("4160"),i("a434"),i("d3b7"),i("6062"),i("3ca3"),i("159b"),i("ddb0"),i("3835")),l=i("2909"),a=i("ad32"),s=i("1563"),u=i("2387"),c={components:{CommonDialogComp:a.a,TipsSpanButton:u.a},props:{visible:{type:Boolean,default:!1},list:{type:Array,default:function(){return[]}}},methods:{onSubmit:function(t){this.$emit("submit",t),this.onCancle()},onCancle:function(){this.$emit("update:visible",!1)}}},m=(i("1029"),i("2877")),p=Object(m.a)(c,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("CommonDialogComp",{staticClass:"mp-erp-comps-element-template-element-select-comp-wrap",attrs:{width:"600px",top:"20vh",title:"选择模板",visible:t.visible,showSubmit:!1,cancelText:"关闭"},on:{"update:visible":function(e){t.visible=e},cancle:t.onCancle}},[t._l(t.list,(function(e){return i("TipsSpanButton",{key:e.ID,attrs:{text:e.Name},nativeOn:{click:function(i){return t.onSubmit(e)}}})})),t.list&&0===t.list.length?i("p",{staticStyle:{"font-size":"12px",color:"#888E99"}},[t._v("暂无模板数据，可到元素模板页面中添加常用元素模板")]):t._e()],2)}),[],!1,null,null,null).exports,d={props:{visible:{type:Boolean,default:!1},curData:{type:Object,default:null},isCommon:{type:Boolean,default:!1},commonList:{type:Array,default:function(){return[]}},PositionID:{type:String,default:""}},components:{CommonDialogComp:a.a,ElementTempSelector:p},data:function(){return{title:"添加界面元素",ruleForm:null,rules:{Name:[{required:!0,message:"请输入元素名称",trigger:"blur"},{min:1,max:6,message:"长度在 1 到 6 个字符",trigger:"blur"}],Type:[{validator:this.checkFormType,trigger:"change"}],NumbericAttribute:{AllowDecimal:[{validator:this.DecimalPointChange,trigger:"change"}],InputContent:[{validator:this.checkNumberValueList,trigger:"blur"}],NumberDefaultValue:[{validator:this.checkNumberDefaultValue,trigger:"blur"}],NumberValueUnit:[{validator:this.checkNumberValueUnit,trigger:"blur"}],NumberIsRequired:[{validator:this.checkNumberIsRequired,trigger:"change"}],NumberShowWidth:[{validator:this.checkNumberShowWidth,trigger:"change"}],NumberDefine:[{validator:this.checkNumberDefine,trigger:"change"}],NumberValueLimit:[{validator:this.checkNumberValueLimit,trigger:"change"}]},OptionAttribute:{OptionShowWidth:[{validator:this.checkOptionShowWidth,trigger:"change"}],OptionValueDefine:[{validator:this.checkOptionValueDefine,trigger:"change"}],OptionIsRequired:[{validator:this.checkOptionIsRequired,trigger:"blur"}],OptionList:[{validator:this.checkOptionList,trigger:"change"}],UseTimes:[{validator:this.checkOptionUseTimes,trigger:"blur"}]},SwitchAttribute:{Words:[{required:!0,message:"请输入显示文字",trigger:"blur"},{min:2,max:10,message:"长度在 2 到 10 个字符",trigger:"blur"}],OpenValue:[{required:!0,message:"请设置开值数值",trigger:"blur"},{validator:this.checkOpenValue,trigger:"blur"}],CloseValue:[{required:!0,message:"请设置关值数值",trigger:"blur"},{validator:this.checkCloseValue,trigger:"blur"}]}},elementSelectorVisible:!1,SelectModeEnum:s.a,TypeEnum:s.b,TempData:null,testCheck:!0}},computed:{numberDefine:{get:function(){return this.ruleForm.NumbericAttribute.DefineList},set:function(t){t.includes("staff")?this.ruleForm.NumbericAttribute.DefineList=t:this.ruleForm.NumbericAttribute.DefineList=[]}},optionDefine:{get:function(){return this.ruleForm.OptionAttribute.DefineList},set:function(t){t.includes("staff")?this.ruleForm.OptionAttribute.DefineList=t:this.ruleForm.OptionAttribute.DefineList=[]}},curFormType:function(){return this.ruleForm&&this.ruleForm.Type},formatNumberValueList:function(){return this.ruleForm.NumbericAttribute.InputContent&&"string"==typeof this.ruleForm.NumbericAttribute.InputContent?this.$utils.getNumberValueList(this.ruleForm.NumbericAttribute.InputContent):[]}},methods:{checkFormType:function(t,e,i){e?!e||this.ruleForm.HiddenToCustomer?("Option"===this.ruleForm.Type&&(this.$refs.ruleForm.validateField("OptionAttribute.OptionValueDefine"),this.$refs.ruleForm.validateField("OptionAttribute.OptionList")),"Numberic"===this.ruleForm.Type&&this.ruleForm.NumbericAttribute.IsRequired&&!this.ruleForm.DefaultValue||"Option"===this.ruleForm.Type&&this.ruleForm.OptionAttribute.IsRequired&&!this.ruleForm.DefaultValue?i(new Error("元素必填时，隐藏运算值不可为空")):"Switch"!==this.ruleForm.Type||this.ruleForm.DefaultValue?i():i(new Error("开关类型隐藏时，隐藏运算值不可为空"))):i():i(new Error("请选择类型"))},comonWidthCheck:function(t,e){if(!1===this.ruleForm[t].IsWidthAdaption){var i=this.ruleForm[t].DisplayWidth;if(!i)return void e(new Error("请设置固定宽度值（整数， 50 - 150）"));if(i<50||i>150||!this.$utils.getValueIsOrNotNumber(i,!0))return void e(new Error("必须为50 - 150之间（包含）的整数类型"))}e()},checkNumberValueList:function(t,e,i){var r=this;if(this.ruleForm.NumbericAttribute.InputContent){var n=this.formatNumberValueList;if(n.find((function(t){return!r.$utils.getValueIsOrNotNumber(t,!r.ruleForm.NumbericAttribute.AllowDecimal)})))return void i(new Error("常规数值中存在不合法的项目，请检查（应为数字类型，不允许小数时必须为整数类型）"));if(n.length>Object(l.a)(new Set(n)).length)return void i(new Error("存在重复项，请检查"))}this.$refs.ruleForm.validateField("NumbericAttribute.NumberValueLimit"),this.$refs.ruleForm.validateField("NumbericAttribute.NumberDefaultValue"),i()},checkNumberDefaultValue:function(t,e,i){if(this.ruleForm.NumbericAttribute.CheckedValue)if(this.$utils.getValueIsOrNotNumber(this.ruleForm.NumbericAttribute.CheckedValue,!this.ruleForm.NumbericAttribute.AllowDecimal))this.formatNumberValueList.length>0&&!this.formatNumberValueList.includes(this.ruleForm.NumbericAttribute.CheckedValue)?i(new Error("默认选择数值应在常规数值范围内")):i();else{var r=this.ruleForm.NumbericAttribute.AllowDecimal?"请输入数字类型（允许小数）":"请输入整数数字类型";i(new Error(r))}else i()},DecimalPointChange:function(t,e,i){this.$refs.ruleForm.validateField("NumbericAttribute.InputContent"),this.$refs.ruleForm.validateField("NumbericAttribute.NumberDefaultValue"),i()},checkNumberValueUnit:function(t,e,i){this.ruleForm.NumbericAttribute.Unit&&this.ruleForm.NumbericAttribute.Unit.length>6?i(new Error("最多可输入6个字符")):i()},checkNumberIsRequired:function(t,e,i){this.ruleForm.NumbericAttribute.IsRequired||!this.ruleForm.NumbericAttribute.CheckedValue||0!==this.ruleForm.NumbericAttribute.DefineList.length?i():i(new Error("当前设置不允许自定义且默认选择不为空，此时，客户无法输入空值；请选中必填项，或者清空默认选择，或者允许自定义"))},checkNumberShowWidth:function(t,e,i){this.comonWidthCheck("NumbericAttribute",i)},checkNumberDefine:function(t,e,i){this.$refs.ruleForm.validateField("NumbericAttribute.NumberIsRequired"),i()},checkNumberValueLimit:function(t,e,i){var r=this;if(this.ruleForm.NumbericAttribute.SectionList.length>0){var n=this.ruleForm.NumbericAttribute.SectionList.findIndex((function(t){return!t.MinValue||!t.MaxValue||!t.IsGeneralValue&&!t.Increment}));if(n>=0)return void i(new Error("请填写信息"));if((n=this.ruleForm.NumbericAttribute.SectionList.findIndex((function(t){return t.MinValue&&t.MinValue<0})))>=0)return void i(new Error("最小值不能小于0"));if((n=this.ruleForm.NumbericAttribute.SectionList.findIndex((function(t){return!r.$utils.getValueIsOrNotNumber(t.MinValue,!r.ruleForm.NumbericAttribute.AllowDecimal)||!r.$utils.getValueIsOrNotNumber(t.MaxValue,!r.ruleForm.NumbericAttribute.AllowDecimal)||!t.IsGeneralValue&&!r.$utils.getValueIsOrNotNumber(t.Increment,!r.ruleForm.NumbericAttribute.AllowDecimal)})))>=0)return void i(new Error("输入值必须为数字类型，在不允许小数时应为整数类型"));if((n=this.ruleForm.NumbericAttribute.SectionList.findIndex((function(t){return+t.MaxValue<=+t.MinValue&&"-1"!==t.MaxValue})))>=0)return void i(new Error("分段范围值中后面值不能小于等于前面值"));if((n=this.ruleForm.NumbericAttribute.SectionList.findIndex((function(t){return!t.IsGeneralValue&&t.Increment<=0})))>=0)return void i(new Error("增量必须大于0"));if((n=this.ruleForm.NumbericAttribute.SectionList.findIndex((function(t){return!t.IsGeneralValue&&t.Increment>+t.MaxValue-+t.MinValue&&"-1"!==t.MaxValue})))>=0)return void i(new Error("请检查增量，增量值不能大于所在行最大值减去最小值的差值"));if((n=this.ruleForm.NumbericAttribute.SectionList.findIndex((function(t){return!!t.IsGeneralValue&&(0===r.formatNumberValueList.length||!r.formatNumberValueList.find((function(e){return+e>+t.MinValue&&("-1"===t.MaxValue||+e<=+t.MaxValue)})))})))>=0)return void i(new Error("在该设置范围内，没有符合的常规数值"))}i()},checkOptionShowWidth:function(t,e,i){this.comonWidthCheck("OptionAttribute",i)},checkOptionValueDefine:function(t,e,i){if(this.$refs.ruleForm.validateField("OptionAttribute.OptionIsRequired"),0!==this.ruleForm.OptionAttribute.OptionList.length||this.ruleForm.OptionAttribute.DefineList.includes("staff"))if(0!==this.ruleForm.OptionAttribute.OptionList.filter((function(t){return!t.HiddenToCustomer})).length||this.ruleForm.OptionAttribute.DefineList.includes("customer")||this.ruleForm.HiddenToCustomer){if(this.ruleForm.OptionAttribute.DefineList.includes("staff")){if(!this.ruleForm.OptionAttribute.CustomizeValue)return void i(new Error("请输入自定义数值"));if(!this.$utils.getValueIsOrNotNumber(this.ruleForm.OptionAttribute.CustomizeValue))return void i(new Error("自定义数值应为数字类型"))}i()}else i(new Error("客户无可选选项且不允许客户自定义时，请选中【客户界面隐藏】或修改选项客户隐藏或客户自定义配置"));else i(new Error("选项值数量为0时，必须允许自定义"))},checkOptionIsRequired:function(t,e,i){this.ruleForm.OptionAttribute.IsRequired||!this.ruleForm.OptionAttribute.defaultSingleOption||0!==this.ruleForm.OptionAttribute.DefineList.length||"single"!==this.ruleForm.OptionAttribute.ChooseType?i():i(new Error("单选不允许自定义的选择项在有默认选项时，无法选择空值，请去掉默认选项，或者选中必填项，或者允许自定义"))},checkOptionList:function(t,e,i){var r=this,n=this.ruleForm.OptionAttribute.OptionList.find((function(t){return!t.HiddenToCustomer}));if(!n&&!this.ruleForm.HiddenToCustomer&&this.ruleForm.OptionAttribute.OptionList.length>0)i(new Error("客户界面至少显示一个选择项，如果不希望客户选择，请勾选“客户界面隐藏”勾选项"));else if((n=this.ruleForm.OptionAttribute.OptionList.find((function(t){return!t.Name})))||(n=this.ruleForm.OptionAttribute.OptionList.find((function(t){return!t.Value}))),n)i(new Error("请填写内容"));else if(n=this.ruleForm.OptionAttribute.OptionList.find((function(t){return!r.$utils.getValueIsOrNotNumber(t.Value)})))i(new Error("数值应为数字类型，请检查输入"));else{if("multiple"===this.ruleForm.OptionAttribute.ChooseType&&this.ruleForm.OptionAttribute.UseTimes.MaxValue)if(this.ruleForm.OptionAttribute.OptionList.filter((function(t){return t.IsChecked})).length>this.ruleForm.OptionAttribute.UseTimes.MaxValue)return void i(new Error("勾选默认选项数量不能大于最大项数限制数量"));var o=this.ruleForm.OptionAttribute.OptionList.map((function(t){return t.Name})),a=o.length;if(a>1)if(a>Object(l.a)(new Set(o)).length)return void i(new Error("选项显示内容重复，请检查"));i()}},checkOptionUseTimes:function(t,e,i){if(e){var r=e.MinValue,n=e.MaxValue;if((r||0===r)&&(n||0===n)){var o=this.ruleForm.OptionAttribute.OptionList.length;return r<0||n<=0?void i(new Error("项数限制数量最小值不能小于0，最大值必须大于0")):r>o||n>o?void i(new Error("项数限制数量不能超过当前选项值总数量：".concat(o))):n<r?void i(new Error("最大项数限制数量不能小于最小值")):(this.$refs.ruleForm.validateField("OptionAttribute.OptionList"),void i())}r||0===r||n||0===n?i(new Error("请补充信息")):i()}else i(new Error("未获取到值信息"))},checkNumberType:function(t){return!!this.$utils.getValueIsOrNotNumber(t)},checkOpenValue:function(t,e,i){this.checkNumberType(e)?e!==this.ruleForm.SwitchAttribute.CloseValue?(this.$refs.ruleForm.validateField("SwitchAttribute.CloseValue"),i()):i(new Error("开值和关值不能重复")):i(new Error("请输入数字类型"))},checkCloseValue:function(t,e,i){this.checkNumberType(e)?e!==this.ruleForm.SwitchAttribute.OpenValue?i():i(new Error("开值和关值不能重复")):i(new Error("请输入数字类型"))},onSubmit:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$refs.ruleForm.validate().catch((function(){}));case 2:e.sent&&(i=s.c.formatSubmitData(t.ruleForm),t.$emit("submit",i));case 4:case"end":return e.stop()}}),e)})))()},onCancle:function(){this.$emit("update:visible",!1)},initEditData:function(t){this.ruleForm=new s.c(t||this.curData,this.PositionID),this.curData?this.title="编辑界面元素":this.title="添加界面元素"},onOpen:function(){this.TempData=null,this.$nextTick(this.initEditData)},onClosed:function(){this.$refs.ruleForm&&this.$refs.ruleForm.resetFields()},onElementSelectClick:function(t){this.TempData=Object(n.a)({},t,{ID:this.curData?this.curData.ID:""}),this.initEditData(this.TempData)},handleToBottomScroll:function(t){var e=document.querySelector(t);this.$utils.animateScroll(e.scrollTop,e.scrollHeight,(function(t){e.scrollTop=t}))},onLimitAddClick:function(){var t=this,e={ID:"",MinValue:"",MaxValue:"",Increment:"",IsGeneralValue:!1,key:this.$utils.getRandomRangeId(8)};this.ruleForm.NumbericAttribute.SectionList.push(e),this.$nextTick((function(){return t.handleToBottomScroll(".mp-erp-comps-element-template-element-dialog-comp-wrap .el-dialog__body")}))},onLimitDelClick:function(t){this.ruleForm.NumbericAttribute.SectionList=this.ruleForm.NumbericAttribute.SectionList.filter((function(e){return e.key!==t})),this.$refs.ruleForm.validateField("NumbericAttribute.NumberValueLimit")},onOptionItemAddClick:function(){var t=this,e=this.$utils.getRandomRangeId(8),i={ID:"",Name:"",Value:"",HiddenToCustomer:!1,IsChecked:!1,Index:this.ruleForm.OptionAttribute.OptionList.length,key:e};this.ruleForm.OptionAttribute.OptionList.push(i),this.$refs.ruleForm.validateField("OptionAttribute.OptionList"),this.$refs.ruleForm.validateField("OptionAttribute.OptionValueDefine"),this.$nextTick((function(){return t.handleToBottomScroll(".mp-erp-comps-element-template-element-dialog-comp-wrap .el-dialog__body .option-list-box")}))},onOptionItemRemove:function(t){var e=this;this.ruleForm.OptionAttribute.OptionList=this.ruleForm.OptionAttribute.OptionList.filter((function(e){return e.key!==t})),this.$nextTick((function(){e.$refs.ruleForm.validateField("OptionAttribute.OptionList")}))},onOptionMove:function(t,e){var i=this.ruleForm.OptionAttribute.OptionList.splice(e,1),r=Object(o.a)(i,1)[0],n="up"===t?e-1:e+1;this.ruleForm.OptionAttribute.OptionList.splice(n,0,r),this.ruleForm.OptionAttribute.OptionList.forEach((function(t,e){t.Index=e}))},onDefaultOptionClick:function(t){var e=this;this.ruleForm.OptionAttribute.OptionList[t].key===this.ruleForm.OptionAttribute.defaultSingleOption&&setTimeout((function(){e.ruleForm.OptionAttribute.defaultSingleOption=""}))},onTemplateSelect:function(){this.elementSelectorVisible=!0}},watch:{curFormType:function(t){t&&this.$refs.ruleForm&&this.$refs.ruleForm.clearValidate()}}},b=(i("d92c"),Object(m.a)(d,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("CommonDialogComp",{staticClass:"mp-erp-comps-element-template-element-dialog-comp-wrap",attrs:{width:"850px",top:"4vh",title:t.title,visible:t.visible},on:{"update:visible":function(e){t.visible=e},submit:t.onSubmit,cancle:t.onCancle,open:t.onOpen,closed:t.onClosed}},[t.ruleForm?i("el-form",{ref:"ruleForm",staticClass:"element-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"100px",size:"mini"}},[i("el-form-item",{attrs:{label:"名称：",prop:"Name"}},[i("div",{staticClass:"element-name-box"},[i("div",[i("el-input",{attrs:{placeholder:"请输入元素名称",maxlength:"6","show-word-limit":""},model:{value:t.ruleForm.Name,callback:function(e){t.$set(t.ruleForm,"Name","string"==typeof e?e.trim():e)},expression:"ruleForm.Name"}}),t.isCommon?t._e():[i("span",{staticClass:"blue-span",on:{click:t.onTemplateSelect}},[t._v("选择模板")]),t.TempData&&t.TempData.Name?i("span",{staticClass:"is-gray"},[t._v("已选："+t._s(t.TempData.Name))]):t._e()]],2),i("div",{staticClass:"checked-box"},[i("el-checkbox",{staticClass:"checked-item",model:{value:t.ruleForm.IsNameHidden,callback:function(e){t.$set(t.ruleForm,"IsNameHidden",e)},expression:"ruleForm.IsNameHidden"}},[t._v("界面隐藏名称")])],1)])]),i("el-form-item",{attrs:{label:"类型：",prop:"Type"}},[i("el-radio-group",{model:{value:t.ruleForm.Type,callback:function(e){t.$set(t.ruleForm,"Type",e)},expression:"ruleForm.Type"}},t._l(t.TypeEnum,(function(e){return i("el-radio",{key:e.Name+e.label,attrs:{label:e.Name}},[t._v(t._s(e.label))])})),1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.ruleForm.Type,expression:"ruleForm.Type"}],staticClass:"checked-box hidden-content-box"},[i("el-checkbox",{staticClass:"checked-item",model:{value:t.ruleForm.HiddenToCustomer,callback:function(e){t.$set(t.ruleForm,"HiddenToCustomer",e)},expression:"ruleForm.HiddenToCustomer"}},[t._v("客户界面隐藏")]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.ruleForm.HiddenToCustomer,expression:"ruleForm.HiddenToCustomer"}]},[i("span",[t._v("隐藏时运算值：")]),i("el-input",{attrs:{maxlength:"9"},model:{value:t.ruleForm.DefaultValue,callback:function(e){t.$set(t.ruleForm,"DefaultValue","string"==typeof e?e.trim():e)},expression:"ruleForm.DefaultValue"}})],1)],1)],1),"Numberic"===t.ruleForm.Type?[i("el-form-item",{key:"NumbericAttributeAllowDecimal",attrs:{label:"常值类型：",prop:"NumbericAttribute.AllowDecimal"}},[i("el-checkbox",{staticClass:"checked-item",model:{value:t.ruleForm.NumbericAttribute.AllowDecimal,callback:function(e){t.$set(t.ruleForm.NumbericAttribute,"AllowDecimal",e)},expression:"ruleForm.NumbericAttribute.AllowDecimal"}},[t._v("允许小数")])],1),i("el-form-item",{key:"InputContent",attrs:{label:"常规数值：",prop:"NumbericAttribute.InputContent"}},[i("el-input",{staticStyle:{width:"600px"},model:{value:t.ruleForm.NumbericAttribute.InputContent,callback:function(e){t.$set(t.ruleForm.NumbericAttribute,"InputContent",e)},expression:"ruleForm.NumbericAttribute.InputContent"}})],1),i("el-form-item",{staticClass:"tip-wrap",attrs:{label:""}},[i("p",{staticClass:"tips-box"},[i("i",{staticClass:"el-icon-warning"}),t._v(" 可为空，用空格、逗号分开，分隔符不限全角半角")])]),i("el-form-item",{key:"NumberDefaultValue",attrs:{label:"默认选择：",prop:"NumbericAttribute.NumberDefaultValue"}},[i("el-input",{staticStyle:{width:"120px"},attrs:{maxlength:"9"},model:{value:t.ruleForm.NumbericAttribute.CheckedValue,callback:function(e){t.$set(t.ruleForm.NumbericAttribute,"CheckedValue","string"==typeof e?e.trim():e)},expression:"ruleForm.NumbericAttribute.CheckedValue"}}),i("span",{staticStyle:{"font-size":"12px",color:"#a2a2a2","margin-left":"12px"}},[t._v("可为空")])],1),i("el-form-item",{key:"NumberValueUnit",attrs:{label:"单位：",prop:"NumbericAttribute.NumberValueUnit"}},[i("el-input",{staticStyle:{width:"120px"},model:{value:t.ruleForm.NumbericAttribute.Unit,callback:function(e){t.$set(t.ruleForm.NumbericAttribute,"Unit","string"==typeof e?e.trim():e)},expression:"ruleForm.NumbericAttribute.Unit"}})],1),i("el-form-item",{key:"NumberIsRequired",attrs:{label:"是否必填：",prop:"NumbericAttribute.NumberIsRequired"}},[i("el-checkbox",{staticClass:"checked-item",model:{value:t.ruleForm.NumbericAttribute.IsRequired,callback:function(e){t.$set(t.ruleForm.NumbericAttribute,"IsRequired",e)},expression:"ruleForm.NumbericAttribute.IsRequired"}},[t._v("必填项")])],1),i("el-form-item",{key:"NumberShowWidth",attrs:{label:"显示宽度：",prop:"NumbericAttribute.NumberShowWidth"}},[i("el-radio-group",{model:{value:t.ruleForm.NumbericAttribute.IsWidthAdaption,callback:function(e){t.$set(t.ruleForm.NumbericAttribute,"IsWidthAdaption",e)},expression:"ruleForm.NumbericAttribute.IsWidthAdaption"}},[i("el-radio",{attrs:{label:!0}},[t._v("自动宽度")]),i("el-radio",{attrs:{label:!1}},[i("span",[t._v("固定宽度")]),i("el-input",{staticStyle:{width:"90px","margin-left":"10px"},attrs:{disabled:!0===t.ruleForm.NumbericAttribute.IsWidthAdaption,maxlength:"9"},model:{value:t.ruleForm.NumbericAttribute.DisplayWidth,callback:function(e){t.$set(t.ruleForm.NumbericAttribute,"DisplayWidth",t._n("string"==typeof e?e.trim():e))},expression:"ruleForm.NumbericAttribute.DisplayWidth"}}),i("span",{staticStyle:{"font-size":"12px",color:"#a2a2a2","margin-left":"6px"}},[t._v("px")])],1)],1)],1),i("el-form-item",{key:"NumberDefine",attrs:{label:"自定义值：",prop:"NumbericAttribute.NumberDefine"}},[i("el-checkbox-group",{model:{value:t.numberDefine,callback:function(e){t.numberDefine=e},expression:"numberDefine"}},[i("el-checkbox",{attrs:{label:"staff"}},[t._v("允许自定义")]),t.numberDefine.includes("staff")?i("el-checkbox",{attrs:{label:"customer"}},[t._v("客户允许自定义")]):t._e()],1)],1),t.numberDefine.includes("staff")?i("el-form-item",{key:"NumberValueLimit",attrs:{label:"分段控制：",prop:"NumbericAttribute.NumberValueLimit"}},[i("p",{staticStyle:{"font-size":"12px"}},[i("span",{staticStyle:{color:"#a2a2a2","margin-right":"6px"}},[t._v("（ -1代表无穷大 ）")]),i("span",{staticClass:"blue-span",on:{click:t.onLimitAddClick}},[i("i",{staticClass:"el-icon-plus"}),t._v(" 添加一行")])]),i("ul",{staticClass:"limit-list-box"},t._l(t.ruleForm.NumbericAttribute.SectionList,(function(e){return i("li",{key:e.key},[i("div",[i("el-input",{staticStyle:{width:"110px"},attrs:{maxlength:"9"},model:{value:e.MinValue,callback:function(i){t.$set(e,"MinValue","string"==typeof i?i.trim():i)},expression:"it.MinValue"}}),i("span",{staticClass:"text",staticStyle:{margin:"0 8px"}},[t._v("＜值≤")]),i("el-input",{staticStyle:{width:"110px"},attrs:{maxlength:"9"},model:{value:e.MaxValue,callback:function(i){t.$set(e,"MaxValue","string"==typeof i?i.trim():i)},expression:"it.MaxValue"}})],1),i("div",{staticStyle:{padding:"0 32px"}},[i("span",{staticClass:"text",staticStyle:{"margin-right":"6px"}},[t._v("增量")]),i("el-input",{staticStyle:{width:"110px","margin-right":"12px"},attrs:{maxlength:"9",disabled:e.IsGeneralValue},model:{value:e.Increment,callback:function(i){t.$set(e,"Increment","string"==typeof i?i.trim():i)},expression:"it.Increment"}}),i("el-checkbox",{staticClass:"checked-item",model:{value:e.IsGeneralValue,callback:function(i){t.$set(e,"IsGeneralValue",i)},expression:"it.IsGeneralValue"}},[t._v("符合常规数值")])],1),i("span",{staticClass:"text del-btn",on:{click:function(i){return t.onLimitDelClick(e.key)}}},[i("i"),t._v(" 删除")])])})),0)]):t._e()]:t._e(),"Option"===t.ruleForm.Type?[i("el-form-item",{key:"OptionList",staticClass:"option-list-wrap",attrs:{label:"",prop:"OptionAttribute.OptionList"}},[i("p",[i("el-button",{on:{click:t.onOptionItemAddClick}},[i("i",{staticClass:"el-icon-plus"}),t._v(" 添加一行")])],1),i("div",{staticClass:"list-header"},[i("span",[t._v("默认")]),i("span",[t._v("显示")]),i("span",[t._v("数值")]),i("span",[t._v("客户隐藏")]),i("span",[t._v("操作")])]),i("ul",{staticClass:"option-list-box"},[i("transition-group",t._l(t.ruleForm.OptionAttribute.OptionList,(function(e,r){return i("li",{key:e.key,staticClass:"item"},["single"===t.ruleForm.OptionAttribute.ChooseType?i("el-radio",{attrs:{label:e.key},nativeOn:{click:function(e){return e.stopPropagation(),t.onDefaultOptionClick(r)}},model:{value:t.ruleForm.OptionAttribute.defaultSingleOption,callback:function(e){t.$set(t.ruleForm.OptionAttribute,"defaultSingleOption",e)},expression:"ruleForm.OptionAttribute.defaultSingleOption"}}):t._e(),"multiple"===t.ruleForm.OptionAttribute.ChooseType?i("el-checkbox",{staticClass:"multiple-box",model:{value:e.IsChecked,callback:function(i){t.$set(e,"IsChecked",i)},expression:"it.IsChecked"}}):t._e(),i("el-input",{staticStyle:{width:"187px"},model:{value:e.Name,callback:function(i){t.$set(e,"Name","string"==typeof i?i.trim():i)},expression:"it.Name"}}),i("el-input",{staticStyle:{width:"110px"},model:{value:e.Value,callback:function(i){t.$set(e,"Value","string"==typeof i?i.trim():i)},expression:"it.Value"}}),i("el-checkbox",{model:{value:e.HiddenToCustomer,callback:function(i){t.$set(e,"HiddenToCustomer",i)},expression:"it.HiddenToCustomer"}}),i("div",{staticClass:"ctrl"},[i("span",{staticClass:"del-btn",on:{click:function(i){return t.onOptionItemRemove(e.key)}}},[i("i"),t._v(" 删除")]),i("div",[i("span",{directives:[{name:"show",rawName:"v-show",value:r<t.ruleForm.OptionAttribute.OptionList.length-1,expression:"i < ruleForm.OptionAttribute.OptionList.length - 1"}],on:{click:function(e){return t.onOptionMove("down",r)}}},[i("i",{staticClass:"el-icon-bottom"}),t._v(" 下移")])]),i("div",[i("span",{directives:[{name:"show",rawName:"v-show",value:r>0,expression:"i > 0"}],on:{click:function(e){return t.onOptionMove("up",r)}}},[i("i",{staticClass:"el-icon-top"}),t._v(" 上移")])])])],1)})),0)],1)]),i("el-form-item",{key:"OptionShowWidth",attrs:{label:"显示宽度：",prop:"OptionAttribute.OptionShowWidth"}},[i("el-radio-group",{model:{value:t.ruleForm.OptionAttribute.IsWidthAdaption,callback:function(e){t.$set(t.ruleForm.OptionAttribute,"IsWidthAdaption",e)},expression:"ruleForm.OptionAttribute.IsWidthAdaption"}},[i("el-radio",{attrs:{label:!0}},[t._v("自动宽度")]),i("el-radio",{attrs:{label:!1}},[i("span",[t._v("固定宽度")]),i("el-input",{staticStyle:{width:"90px","margin-left":"10px"},attrs:{maxlength:"9",disabled:!0===t.ruleForm.OptionAttribute.IsWidthAdaption},model:{value:t.ruleForm.OptionAttribute.DisplayWidth,callback:function(e){t.$set(t.ruleForm.OptionAttribute,"DisplayWidth",t._n("string"==typeof e?e.trim():e))},expression:"ruleForm.OptionAttribute.DisplayWidth"}}),i("span",{staticStyle:{"font-size":"12px",color:"#a2a2a2","margin-left":"6px"}},[t._v("px")])],1)],1)],1),i("el-form-item",{key:"OptionValueDefine",staticClass:"option-define-box",attrs:{label:"自定义值：",prop:"OptionAttribute.OptionValueDefine"}},[i("el-checkbox-group",{attrs:{disabled:"multiple"===t.ruleForm.OptionAttribute.ChooseType},model:{value:t.optionDefine,callback:function(e){t.optionDefine=e},expression:"optionDefine"}},[i("el-checkbox",{attrs:{label:"staff"}},[t._v("允许自定义")]),i("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:t.optionDefine.includes("staff"),expression:"optionDefine.includes('staff')"}],attrs:{label:"customer"}},[t._v("客户允许自定义")])],1),t.optionDefine.includes("staff")?[i("span",{staticStyle:{color:"#585858"}},[t._v("自定义数值：")]),i("el-input",{staticStyle:{width:"90px"},attrs:{maxlength:"9"},model:{value:t.ruleForm.OptionAttribute.CustomizeValue,callback:function(e){t.$set(t.ruleForm.OptionAttribute,"CustomizeValue","string"==typeof e?e.trim():e)},expression:"ruleForm.OptionAttribute.CustomizeValue"}})]:t._e()],2),i("el-form-item",{key:"optionChooseType",attrs:{label:"选择方式：",prop:"optionChooseType"}},[i("el-radio-group",{model:{value:t.ruleForm.OptionAttribute.ChooseType,callback:function(e){t.$set(t.ruleForm.OptionAttribute,"ChooseType",e)},expression:"ruleForm.OptionAttribute.ChooseType"}},[i("el-radio",{attrs:{label:"single"}},[t._v("单选")]),i("el-radio",{attrs:{label:"multiple",disabled:t.optionDefine.includes("staff")}},[t._v("多选")])],1)],1),"single"===t.ruleForm.OptionAttribute.ChooseType?i("el-form-item",{key:"OptionSelectMode",attrs:{label:"表现形式：",prop:"OptionSelectMode"}},[i("el-radio-group",{model:{value:t.ruleForm.OptionAttribute.SelectMode,callback:function(e){t.$set(t.ruleForm.OptionAttribute,"SelectMode",e)},expression:"ruleForm.OptionAttribute.SelectMode"}},t._l(t.SelectModeEnum,(function(e){return i("el-radio",{key:e.Name+"-"+e.ID,attrs:{label:e.ID}},[t._v(t._s(e.Name))])})),1)],1):t._e(),"single"===t.ruleForm.OptionAttribute.ChooseType?i("el-form-item",{key:"OptionIsRequired",attrs:{label:"是否必填：",prop:"OptionAttribute.OptionIsRequired"}},[i("el-checkbox",{staticClass:"checked-item",model:{value:t.ruleForm.OptionAttribute.IsRequired,callback:function(e){t.$set(t.ruleForm.OptionAttribute,"IsRequired",e)},expression:"ruleForm.OptionAttribute.IsRequired"}},[t._v("必填项")])],1):t._e(),"single"!==t.ruleForm.OptionAttribute.ChooseType?i("el-form-item",{key:"optionUseTimes",staticClass:"use-times-box",attrs:{label:"项数限制：",prop:"OptionAttribute.UseTimes"}},[i("el-input",{staticStyle:{width:"110px"},attrs:{maxlength:"9"},model:{value:t.ruleForm.OptionAttribute.UseTimes.MinValue,callback:function(e){t.$set(t.ruleForm.OptionAttribute.UseTimes,"MinValue",t._n("string"==typeof e?e.trim():e))},expression:"ruleForm.OptionAttribute.UseTimes.MinValue"}}),i("span",[t._v("≤ 项数 ≤")]),i("el-input",{staticStyle:{width:"110px"},attrs:{maxlength:"9"},model:{value:t.ruleForm.OptionAttribute.UseTimes.MaxValue,callback:function(e){t.$set(t.ruleForm.OptionAttribute.UseTimes,"MaxValue",t._n("string"==typeof e?e.trim():e))},expression:"ruleForm.OptionAttribute.UseTimes.MaxValue"}}),i("span",[t._v("项")]),i("p",{staticClass:"tips-box",staticStyle:{width:"240px"}},[i("i",{staticClass:"el-icon-warning"}),t._v(" 不限制则不填写")])],1):t._e()]:t._e(),"Switch"===t.ruleForm.Type?[i("el-form-item",{key:"SwitchAttributeWords",attrs:{label:"显示文字：",prop:"SwitchAttribute.Words"}},[i("el-input",{staticStyle:{width:"400px"},model:{value:t.ruleForm.SwitchAttribute.Words,callback:function(e){t.$set(t.ruleForm.SwitchAttribute,"Words","string"==typeof e?e.trim():e)},expression:"ruleForm.SwitchAttribute.Words"}})],1),i("el-form-item",{key:"OpenValue",attrs:{label:"开值：",prop:"SwitchAttribute.OpenValue"}},[i("el-input",{staticStyle:{width:"120px"},attrs:{maxlength:"9"},model:{value:t.ruleForm.SwitchAttribute.OpenValue,callback:function(e){t.$set(t.ruleForm.SwitchAttribute,"OpenValue","string"==typeof e?e.trim():e)},expression:"ruleForm.SwitchAttribute.OpenValue"}})],1),i("el-form-item",{key:"CloseValue",attrs:{label:"关值：",prop:"SwitchAttribute.CloseValue"}},[i("el-input",{staticStyle:{width:"120px"},attrs:{maxlength:"9"},model:{value:t.ruleForm.SwitchAttribute.CloseValue,callback:function(e){t.$set(t.ruleForm.SwitchAttribute,"CloseValue","string"==typeof e?e.trim():e)},expression:"ruleForm.SwitchAttribute.CloseValue"}})],1),i("el-form-item",{key:"SwitchInitValue",staticClass:"switch-init-value-box",attrs:{label:"初始值：",prop:"SwitchInitValue"}},[i("el-switch",{attrs:{"active-text":"初始开值"},model:{value:t.ruleForm.SwitchAttribute.DefaultOpen,callback:function(e){t.$set(t.ruleForm.SwitchAttribute,"DefaultOpen",e)},expression:"ruleForm.SwitchAttribute.DefaultOpen"}}),i("p",{staticClass:"tips-box",staticStyle:{width:"240px"}},[i("i",{staticClass:"el-icon-warning"}),t._v(" 不选中则初始关值")])],1),i("div",{staticClass:"example-box"},[i("p",[i("span",[t._v("示例：")])]),i("p",[i("span",[t._v("名称：")]),i("el-switch",{attrs:{"active-text":"显示文字"},model:{value:t.testCheck,callback:function(e){t.testCheck=e},expression:"testCheck"}})],1)])]:t._e()],2):t._e(),i("ElementTempSelector",{attrs:{visible:t.elementSelectorVisible,list:t.commonList},on:{"update:visible":function(e){t.elementSelectorVisible=e},submit:t.onElementSelectClick}})],1)}),[],!1,null,null,null)).exports,f=(i("99af"),i("a15b"),{props:{dataList:{default:function(){return[]},type:Array},loading:{type:Boolean,default:!1}},computed:{localTableData:function(){var t=this;return this.dataList&&Array.isArray(this.dataList)&&0!==this.dataList.length?this.dataList.map((function(e){return Object(n.a)({},e,{},t.getLocalInfoNames(e))})):[]}},methods:{onEditClick:function(t){this.$emit("edit",t)},onRemoveClick:function(t){this.$emit("remove",t)},getSelectMode:function(t){var e=s.a.find((function(e){return e.ID===t}));return e?"表现形式：".concat(e.Name):""},getDescribeStringify:function(t){var e=t.HiddenToCustomer,i=t.DefaultValue,r=e&&(i||0===i)?"客户界面隐藏取值：".concat(i):"";if(1===t.Type){var n=t.NumbericAttribute,o=n.AllowDecimal,l=n.Unit,a=n.CheckedValue,s=n.IsRequired,u=n.Allow,c=n.AllowCustomer,m=n.SectionList,p=u?"自定义：允许（客户除外）":"自定义：不允许";return c&&(p="自定义：允许（包含客户）"),[r,o?"小数：允许":"",l?"单位：".concat(l):"",a||0===a?"默认值：".concat(a):"",s?"是否必填：必填":"",p,m&&m.length>0?"分段控制条数：".concat(m.length,"条"):"分段控制：未限制"].filter((function(t){return t})).join("；")}if(2===t.Type){var d,b,f=t.OptionAttribute,h=f.OptionList,v=f.IsRadio,g=f.Allow,O=f.AllowCustomer,x=f.CustomizeValue,C=f.SelectMode,y=f.IsRequired,A=f.UseTimes,k=h.length>0?"选项数量：".concat(h.length):"";h.length>0&&(d=h.filter((function(t){return t.IsChecked})).length,b=h.filter((function(t){return!t.HiddenToCustomer})).length,d=d>0?"默认选中数量：".concat(d):"",b=b>0?"客户显示数量：".concat(b):"");var S=v?"选择方式：单选":"选择方式：多选",D=v?"自定义：不允许":"";return D&&g&&(D="自定义：允许（客户除外",O&&(D="自定义：允许（包含客户"),D+=x?",自定义值:".concat(x,"）"):"）"),[r,k,d,b,S,v&&y?"是否必选：必选":"",D,v?this.getSelectMode(C):"",!v&&A&&A.MaxValue?"项数限制：[".concat(A.MinValue,", ").concat(A.MaxValue,"]"):""].filter((function(t){return t})).join("；")}if(3===t.Type){var F=t.SwitchAttribute,N=F.Words,w=F.OpenValue,I=F.CloseValue,V=F.DefaultOpen;return[r,N?"显示文字：".concat(N):"",w||0===w?"开值：".concat(w):"",I||0===I?"关值：".concat(I):"",V?"默认：开":"默认：关"].filter((function(t){return t})).join("；")}return""},getLocalInfoNames:function(t){var e=s.b.find((function(e){return e.ID===t.Type})),i=t.Group&&t.Group.Name?t.Group.Name:"";if(e){var r="".concat(e.Name,"Attribute");if(t[r]){var n=t[r].IsRequired?"（必填）":"",o=t[r].IsWidthAdaption?"自动宽度":t[r].DisplayWidth?"".concat(t[r].DisplayWidth,"px"):"",l=t.IsNameHidden?"隐藏":"显示",a=t.HiddenToCustomer?"隐藏":"显示",u=this.getDescribeStringify(t);return{TypeStringify:"".concat(e.label).concat(n),widthStringify:o,NameHiddenStringify:l,CustomerHiddenStringify:a,describeStringify:u,GroupNameText:i}}return{TypeStringify:"".concat(e.label),GroupNameText:i}}return{GroupNameText:i}}}}),h=(i("291c"),Object(m.a)(f,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-table",{staticClass:"mp-erp-element-template-page-element-table-comp-wrap",staticStyle:{"max-width":"1600px"},attrs:{data:t.localTableData,stripe:"",border:"",fit:""}},[i("el-table-column",{attrs:{prop:"Name",label:"名称",width:"185"}}),i("el-table-column",{attrs:{prop:"GroupNameText",label:"所属元素组",width:"170"}}),t._v(" "),i("el-table-column",{attrs:{prop:"TypeStringify",label:"类型",width:"150"}}),i("el-table-column",{attrs:{prop:"widthStringify",label:"显示宽度",width:"100"}}),i("el-table-column",{attrs:{prop:"NameHiddenStringify",label:"界面隐藏名称",width:"120"}}),i("el-table-column",{attrs:{prop:"CustomerHiddenStringify",label:"客户界面",width:"110"}}),i("el-table-column",{attrs:{prop:"describeStringify",label:"描述","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{label:"操作",width:"220"},scopedSlots:t._u([{key:"default",fn:function(e){return i("div",{staticClass:"menu-list"},[i("span",{on:{click:function(i){return t.onEditClick(e.row)}}},[i("i"),t._v("编辑")]),i("span",{on:{click:function(i){return t.onRemoveClick(e.row)}}},[i("i"),t._v("删除")])])}}])}),i("div",{attrs:{slot:"empty"},slot:"empty"},[t.loading?i("span",[t._v("加载中...")]):i("span",[t._v("暂无数据")])])],1)}),[],!1,null,null,null)).exports,v=(i("25f0"),{props:{dataList:{default:function(){return[]},type:Array},loading:{type:Boolean,default:!1}},computed:{localTableData:function(){var t=this;return this.dataList&&Array.isArray(this.dataList)&&0!==this.dataList.length?this.dataList.map((function(e){return Object(n.a)({},e,{},t.getLocalInfoNames(e))})):[]}},methods:{onEditClick:function(t){this.$emit("edit",t)},onRemoveClick:function(t){this.$emit("remove",t)},onSortClick:function(t){t.ElementList&&Array.isArray(t.ElementList)&&(t.ElementList.length>1?this.$emit("sort",t):t.ElementList.length<=1&&this.messageBox.failSingleError("操作失败","当前元素组中元素数量不足2个，不支持排序"))},getLocalInfoNames:function(t){var e=t.IsNameHidden,i=t.HiddenToCustomer,r=t.UseTimes,n=t.IsHorizontalDisplay,o=t.ElementList,a=e?"隐藏":"显示",s=i?"隐藏":"显示",u="";if(r&&"[object Object]"===Object.prototype.toString.call(r)){var c=r.MinValue,m=r.MaxValue;!c&&0!==c||!m&&0!==m||(u="".concat(c,"≤ 次数 ≤").concat(m))}return{NameHiddenStringify:a,CustomerHiddenStringify:s,UseTimesText:u,ArrangeText:n?"横排":"竖排",ElementSetText:Object(l.a)(o).sort((function(t,e){return t.Index-e.Index})).map((function(t){return t.Name})).join("、")}}}}),g=(i("d8ac"),Object(m.a)(v,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-table",{staticClass:"mp-erp-element-template-page-element-group-table-comp-wrap",staticStyle:{"max-width":"1600px"},attrs:{data:t.localTableData,stripe:"",border:"",fit:""}},[i("el-table-column",{attrs:{prop:"Name",label:"名称",width:"185"}}),i("el-table-column",{attrs:{prop:"NameHiddenStringify",label:"界面隐藏名称",width:"130"}}),i("el-table-column",{attrs:{prop:"UseTimesText",label:"使用次数",width:"200"}}),i("el-table-column",{attrs:{prop:"ArrangeText",label:"排列方式",width:"130"}}),i("el-table-column",{attrs:{prop:"CustomerHiddenStringify",label:"客户界面",width:"140"}}),i("el-table-column",{attrs:{prop:"ElementSetText",label:"元素集","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{label:"操作",width:"270"},scopedSlots:t._u([{key:"default",fn:function(e){return i("div",{staticClass:"menu-list"},[i("span",{on:{click:function(i){return t.onSortClick(e.row)}}},[i("i"),t._v("元素排序")]),i("span",{on:{click:function(i){return t.onEditClick(e.row)}}},[i("i"),t._v("编辑")]),i("span",{on:{click:function(i){return t.onRemoveClick(e.row)}}},[i("i"),t._v("删除")])])}}])}),i("div",{attrs:{slot:"empty"},slot:"empty"},[t.loading?i("span",[t._v("加载中...")]):i("span",[t._v("暂无数据")])])],1)}),[],!1,null,null,null)).exports,O=i("d4ec"),x=i("bee2"),C=i("ade3"),y=function(){function t(e,i){Object(O.a)(this,t),Object(C.a)(this,"ID",""),Object(C.a)(this,"Name",""),Object(C.a)(this,"PositionID",""),Object(C.a)(this,"IsNameHidden",!1),Object(C.a)(this,"ElementList",[]),Object(C.a)(this,"UseTimes",{MinValue:"",MaxValue:""}),Object(C.a)(this,"IsHorizontalDisplay",!0),Object(C.a)(this,"HiddenToCustomer",!1);var r=e&&"[object Object]"===Object.prototype.toString.call(e);if(i&&i.length>0&&(this.ElementList=i.map((function(t){var i=!1,n=!1,o=!!t.Group;if(r){o=!(!t.Group||e.ID===t.Group.ID);var l=e.ElementList.find((function(e){return t.ID===e.ID}));l&&(i=!0,n=l.ForbidRepeat)}return{ID:t.ID,Name:t.Name,Checked:i,ForbidRepeat:n,Disabled:o,HiddenToCustomer:t.HiddenToCustomer}}))),r){var n=JSON.parse(JSON.stringify(e)),o=n.Name,l=n.ID,a=n.PositionID,s=n.IsNameHidden,u=n.IsHorizontalDisplay,c=n.HiddenToCustomer,m=n.UseTimes;o&&(this.Name=o),l&&(this.ID=l),a&&(this.PositionID=a),s&&(this.IsNameHidden=s),u||(this.IsHorizontalDisplay=u),c&&(this.HiddenToCustomer=c),m&&"[object Object]"===Object.prototype.toString.call(m)&&((m.MinValue||0===m.MinValue)&&(this.UseTimes.MinValue=m.MinValue),(m.MaxValue||0===m.MaxValue)&&(this.UseTimes.MaxValue=m.MaxValue))}}return Object(x.a)(t,null,[{key:"formatSubmitData",value:function(t){var e=JSON.parse(JSON.stringify(t));return e.ElementList=e.ElementList.filter((function(t){return t.Checked&&!t.Disabled})),e}}]),t}(),A={props:{visible:{type:Boolean,default:!1},curData:{type:Object,default:null},ElementList:{type:Array,default:function(){return[]}},PositionID:{type:String,default:""}},components:{CommonDialogComp:a.a},data:function(){return{title:"添加界面元素组",ruleGroupForm:null,rules:{Name:[{required:!0,message:"请输入元素组名称",trigger:"blur"},{min:2,max:6,message:"长度在 2 到 6 个字符",trigger:"blur"}],ElementList:[{validator:this.checkElementList,trigger:"change"}],UseTimes:[{validator:this.checkUseTimes,trigger:"change"}],Arrange:[{validator:this.checkArrange,trigger:"change"}]}}},methods:{onSubmit:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$refs.ruleGroupForm.validate().catch((function(){}));case 2:e.sent&&(i=y.formatSubmitData(t.ruleGroupForm),t.$emit("submit",i));case 4:case"end":return e.stop()}}),e)})))()},onCancle:function(){this.$emit("update:visible",!1)},initEditData:function(){this.ruleGroupForm=new y(this.curData,this.ElementList),this.PositionID&&(this.ruleGroupForm.PositionID=this.PositionID),this.curData?this.title="编辑界面元素组":this.title="添加界面元素组"},onOpen:function(){this.$nextTick(this.initEditData)},onClosed:function(){this.ruleGroupForm=null,this.$refs.ruleGroupForm&&this.$refs.ruleGroupForm.resetFields()},checkElementList:function(t,e,i){0!==this.ruleGroupForm.ElementList.filter((function(t){return t.Checked&&!t.Disabled})).length?i():i(new Error("请选择元素"))},checkUseTimes:function(t,e,i){if(e){var r=e.MinValue,n=e.MaxValue;!r&&0!==r||!n&&0!==n?i(new Error("请填写和补充最大最小值")):this.$utils.getValueIsOrNotNumber(r,!0)&&this.$utils.getValueIsOrNotNumber(n,!0)?0!==r||0!==n?r<0||n<0?i(new Error("输入值不能为负，最大值不可设为-1")):n<r?i(new Error("使用最大值不能小于最小值，请检查")):i():i(new Error("最大最小值不能同时为0")):i(new Error("使用次数最小和最大值都应为整数类型"))}else i(new Error("未获取到使用次数填写数值"))},checkArrange:function(t,e,i){if(!this.ruleGroupForm.HiddenToCustomer&&0===this.ruleGroupForm.ElementList.filter((function(t){return t.Checked&&!t.Disabled&&!t.HiddenToCustomer})).length)return void i(new Error("所选元素客户界面均不显示，请勾选“客户界面隐藏”"));i()}}},k=(i("6368"),Object(m.a)(A,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("CommonDialogComp",{staticClass:"mp-erp-comps-element-template-element-group-dialog-comp-wrap",attrs:{width:"850px",top:"10vh",title:t.title,visible:t.visible},on:{"update:visible":function(e){t.visible=e},submit:t.onSubmit,cancle:t.onCancle,open:t.onOpen,closed:t.onClosed}},[t.ruleGroupForm?i("el-form",{ref:"ruleGroupForm",staticClass:"element-group-ruleGroupForm",attrs:{model:t.ruleGroupForm,rules:t.rules,"label-width":"100px",size:"mini"}},[i("el-form-item",{key:"GroupName",attrs:{label:"名称：",prop:"Name"}},[i("div",{staticClass:"element-name-box"},[i("div",[i("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:"请输入元素组名称",maxlength:"6","show-word-limit":""},model:{value:t.ruleGroupForm.Name,callback:function(e){t.$set(t.ruleGroupForm,"Name","string"==typeof e?e.trim():e)},expression:"ruleGroupForm.Name"}})],1),i("div",{staticClass:"checked-box"},[i("el-checkbox",{staticClass:"checked-item",model:{value:t.ruleGroupForm.IsNameHidden,callback:function(e){t.$set(t.ruleGroupForm,"IsNameHidden",e)},expression:"ruleGroupForm.IsNameHidden"}},[t._v("界面隐藏名称")])],1)])]),i("el-form-item",{key:"GroupElementList",staticClass:"element-box",attrs:{label:"元素：",prop:"ElementList"}},[i("ul",[t._l(t.ruleGroupForm.ElementList,(function(e){return i("li",{key:e.ID},[i("el-checkbox",{staticClass:"element-item",attrs:{disabled:e.Disabled},model:{value:e.Checked,callback:function(i){t.$set(e,"Checked",i)},expression:"it.Checked"}},[t._v(" "+t._s(e.Name)+" ")]),i("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:e.Checked,expression:"it.Checked"}],model:{value:e.ForbidRepeat,callback:function(i){t.$set(e,"ForbidRepeat",i)},expression:"it.ForbidRepeat"}},[t._v("禁止重复")])],1)})),0===t.ElementList.length?i("li",{staticClass:"is-pink is-font-size-12",staticStyle:{width:"520px"}},[t._v("注：[ 当前尚无可用元素，请确保元素已添加，或元素数据已成功获取（未获取成功可刷新尝试） ]")]):t._e()],2)]),i("el-form-item",{key:"GroupUseTimes",staticClass:"use-times-box",attrs:{label:"使用次数：",prop:"UseTimes"}},[i("el-input",{staticStyle:{width:"110px"},attrs:{maxlength:"9"},model:{value:t.ruleGroupForm.UseTimes.MinValue,callback:function(e){t.$set(t.ruleGroupForm.UseTimes,"MinValue",t._n("string"==typeof e?e.trim():e))},expression:"ruleGroupForm.UseTimes.MinValue"}}),i("span",[t._v("≤ 次数 ≤")]),i("el-input",{staticStyle:{width:"110px"},attrs:{maxlength:"9"},model:{value:t.ruleGroupForm.UseTimes.MaxValue,callback:function(e){t.$set(t.ruleGroupForm.UseTimes,"MaxValue",t._n("string"==typeof e?e.trim():e))},expression:"ruleGroupForm.UseTimes.MaxValue"}})],1),i("el-form-item",{key:"GroupArrange",staticClass:"arrange-box",attrs:{label:"排列方式：",prop:"Arrange"}},[i("el-radio-group",{model:{value:t.ruleGroupForm.IsHorizontalDisplay,callback:function(e){t.$set(t.ruleGroupForm,"IsHorizontalDisplay",e)},expression:"ruleGroupForm.IsHorizontalDisplay"}},[i("el-radio",{attrs:{label:!0}},[t._v("横排")]),i("el-radio",{attrs:{label:!1}},[t._v("竖排")])],1),i("p",[i("el-checkbox",{model:{value:t.ruleGroupForm.HiddenToCustomer,callback:function(e){t.$set(t.ruleGroupForm,"HiddenToCustomer",e)},expression:"ruleGroupForm.HiddenToCustomer"}},[t._v("客户界面隐藏")])],1)],1)],1):t._e(),i("p",{staticClass:"tips-box"},[i("i",{staticClass:"el-icon-warning"}),t._v(" 注：“禁止重复”指元素组多次使用时，任意一组该元素的值不能和其他组相同")])],1)}),[],!1,null,null,null)).exports,S=i("b76a"),D=i.n(S),F={props:{visible:{type:Boolean,default:!1},SortList:{type:Array,default:function(){return[]}},defaultProps:{type:Object,default:function(){return{key:"ID",lable:"Name",index:"Index"}}}},components:{CommonDialogComp:a.a,draggable:D.a},data:function(){return{localSortList:[],dragOptions:{animation:180,ghostClass:"ghost"}}},methods:{onSubmit:function(){var t=Object(l.a)(this.localSortList);if(this.defaultProps.index){var e=this.defaultProps.index;t=t.map((function(t,i){return Object(n.a)({},t,Object(C.a)({},e,i))}))}this.$emit("submit",t)},onCancle:function(){this.$emit("update:visible",!1)},onOpen:function(){this.$nextTick(this.initEditData)},onClosed:function(){this.localSortList=[]},initEditData:function(){var t=this;if(this.SortList&&Array.isArray(this.SortList)&&this.SortList.length>0){var e=JSON.parse(JSON.stringify(this.SortList));this.localSortList=e.sort((function(e,i){return e[t.defaultProps.index]-i[t.defaultProps.index]}))}}}},N=(i("0cd4"),Object(m.a)(F,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("CommonDialogComp",{staticClass:"mp-erp-comps-common-sort-dialog-comp-wrap",attrs:{width:"650px",top:"15vh",title:"元素排序",visible:t.visible},on:{"update:visible":function(e){t.visible=e},submit:t.onSubmit,cancle:t.onCancle,open:t.onOpen,closed:t.onClosed}},[i("section",{staticClass:"sort-content"},[i("header",[i("p",{staticClass:"tips-box"},[i("i",{staticClass:"el-icon-warning"}),t._v(" 注：元素拖动排序")])]),t.localSortList.length>0?i("main",[i("draggable",t._b({model:{value:t.localSortList,callback:function(e){t.localSortList=e},expression:"localSortList"}},"draggable",t.dragOptions,!1),t._l(t.localSortList,(function(e){return i("div",{key:e[t.defaultProps.key],staticClass:"sort-item"},[t._v(t._s(e[t.defaultProps.lable]))])})),0)],1):t._e()])])}),[],!1,null,null,null)).exports,w=i("2f62"),I={components:{CommonDialogComp:a.a},props:{visible:{type:Boolean,default:!1},list:{type:Array,default:function(){return[]}}},data:function(){return{radio:""}},methods:{onSubmit:function(){this.$emit("submit",this.radio)},onCancle:function(){this.$emit("update:visible",!1)},onOpen:function(){this.radio=""}}},V=(i("b95b"),Object(m.a)(I,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("CommonDialogComp",{staticClass:"mp-erp-comps-element-template-element-group-select-comp-wrap",attrs:{width:"800px",top:"20vh",title:"根据元素组模板添加",visible:t.visible,disabled:!t.radio,cancelText:"关闭"},on:{"update:visible":function(e){t.visible=e},cancle:t.onCancle,submit:t.onSubmit,open:t.onOpen}},[i("el-radio-group",{model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},t._l(t.list,(function(e){return i("el-radio",{key:e.ID,attrs:{label:e.ID}},[t._v(t._s(e.Name))])})),1),t.list&&0===t.list.length?i("p",{staticStyle:{"font-size":"12px",color:"#888E99"}},[t._v("暂无模板数据，可到元素模板页面中添加常用元素组模板")]):t._e(),i("p",{staticClass:"tips-box"},[i("i",{staticClass:"el-icon-warning"}),t._v(" 注：根据元素组模板添加时，会自动添加元素组模板中包含的元素，如有重名请先修改重名元素名称，再选择添加。")])],1)}),[],!1,null,null,null)).exports,T={props:{ElementDataList:{type:Array,default:function(){return[]}},ElementGroupDataList:{type:Array,default:function(){return[]}},isLoadingElement:{type:Boolean,default:!1},isLoadingGroup:{type:Boolean,default:!1},isCommon:{type:Boolean,default:!1},PositionID:{type:String,default:""},showGroup:{type:Boolean,default:!0}},components:{ElementDialogComp:b,ElementTableComp:h,ElementGroupDialogComp:k,ElementGroupTableComp:g,CommonSortDialogComp:N,ElementGroupTempSelector:V},computed:Object(n.a)({},Object(w.e)("basicSet",{commonElementList:"ElementDataList"}),{},Object(w.e)("basicSet",{commonGroupList:"ElementGroupDataList"})),data:function(){return{elementVisible:!1,curElementEditData:null,elementGroupVisible:!1,curElementGroupEditData:null,curSortItemData:null,curSortList:[],sortVisible:!1,groupTempVisible:!1}},methods:{onElementTemplateSetClick:function(t){this.curElementEditData=t||null,this.elementVisible=!0},onElementSaveSubmit:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function i(){var r,n,o,l,a,s,u,c;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(t){i.next=2;break}return i.abrupt("return");case 2:return r=t.ID?"编辑":"添加",n=t,2===t.Type&&t.OptionAttribute.UseTimes&&(o=t.OptionAttribute.UseTimes,l=o.MaxValue,a=o.MinValue,l||a||0===a&&0===l||delete n.OptionAttribute.UseTimes),i.next=7,e.api.getElementSave(n).catch((function(){}));case 7:(s=i.sent)&&200===s.status&&1e3===s.data.Status&&(u={saveType:r,editData:t,ID:s.data.Data},c=function(){e.handleEditSubmitSuccess(u)},e.messageBox.successSingle("".concat(r,"成功!"),c,c));case 9:case"end":return i.stop()}}),i)})))()},handleEditSubmitSuccess:function(t){var e=t.saveType,i=t.editData,r=t.ID;this.$emit("saveElement",{saveType:e,editData:i,ID:r}),this.elementVisible=!1},onElementRemove:function(t){var e=this;t&&this.messageBox.warnCancelBox("确定删除该元素吗","元素名称：[ ".concat(t.Name," ]"),(function(){e.$emit("removeElement",t.ID)}))},onElementGroupSetClick:function(t){t||this.ElementDataList&&0!==this.ElementDataList.length?(this.curElementGroupEditData=t||null,this.elementGroupVisible=!0):this.messageBox.failSingleError("操作失败","请先添加界面元素")},onElementGroupSaveSubmit:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function i(){var r,n,o,l;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(t){i.next=2;break}return i.abrupt("return");case 2:return r=t.ID?"编辑":"添加",i.next=5,e.api.getElementGroupSave(t).catch((function(){}));case 5:(n=i.sent)&&200===n.status&&1e3===n.data.Status&&(o={saveType:r,editData:t,ID:n.data.Data},l=function(){e.handleGroupSaveSuccess(o)},e.messageBox.successSingle("".concat(r,"成功!"),l,l));case 7:case"end":return i.stop()}}),i)})))()},handleGroupSaveSuccess:function(t){var e=t.saveType,i=t.editData,r=t.ID;this.$emit("saveElementGroup",{saveType:e,editData:i,ID:r}),this.elementGroupVisible=!1},onElementGroupRemove:function(t){var e=this;t&&this.messageBox.warnCancelBox("确定删除该元素组吗","元素组名称：".concat(t.Name),(function(){e.$emit("removeElementGroup",t.ID)}))},onElementGroupCopyClick:function(){this.commonGroupList&&0!==this.commonGroupList.length?this.groupTempVisible=!0:this.messageBox.failSingleError("操作失败","暂无元素组模板，请先到元素模板中添加")},onElementGroupCopySubmit:function(t){var e=this.commonGroupList.find((function(e){return e.ID===t}));if(e){if(this.ElementGroupDataList.map((function(t){return t.Name})).includes(e.Name))return void this.messageBox.failSingleError("添加失败","当前界面元素组中已包含同名元素组，请检查");var i=this.ElementDataList.map((function(t){return t.Name})),r=e.ElementList.find((function(t){return i.includes(t.Name)}));if(r)return void this.messageBox.failSingleError("添加失败","系统将自动新建 [".concat(r.Name,"] 元素，但在当前界面元素中已存在同名元素"));var n={GroupID:t,PositionID:this.PositionID};this.fetchElementGroupCopy(n)}},fetchElementGroupCopy:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function i(){var r,n;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e.api.getElementGroupCopy(t).catch((function(){}));case 2:(r=i.sent)&&200===r.status&&1e3===r.data.Status&&(n=function(){e.$emit("copyGroupSuccess"),e.groupTempVisible=!1},e.messageBox.successSingle("通过元素组模板添加成功",n,n));case 4:case"end":return i.stop()}}),i)})))()},onElementGroupSort:function(t){this.curSortList=t.ElementList,this.curSortItemData=t,this.sortVisible=!0},onSortSubmit:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function i(){var r,n,o;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return r={ID:e.curSortItemData.ID,ElementList:t.map((function(t){return{ID:t.ID,Index:t.Index}}))},i.next=3,e.api.getElementGroupElementSort(r).catch((function(){}));case 3:(n=i.sent)&&200===n.status&&1e3===n.data.Status&&(o=function(){e.handleSortSuccess(r)},e.messageBox.successSingle("排序成功",o,o));case 5:case"end":return i.stop()}}),i)})))()},handleSortSuccess:function(t){this.$emit("sortGroupElementList",t),this.sortVisible=!1}},mounted:function(){this.isCommon||(this.showGroup&&this.$store.dispatch("basicSet/getElementGroupList"),this.$store.dispatch("basicSet/getElementList"))}},E=(i("0c58"),Object(m.a)(T,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("main",{staticClass:"mp-erp-common-comps-basic-setup-element-set-common-comp-wrap"},[i("div",{staticClass:"item-box"},[i("p",[i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.onElementTemplateSetClick(null)}}},[t._v("+添加界面元素")])],1),i("ElementTableComp",{attrs:{dataList:t.ElementDataList,loading:t.isLoadingElement},on:{edit:t.onElementTemplateSetClick,remove:t.onElementRemove}})],1),i("ElementDialogComp",{attrs:{visible:t.elementVisible,curData:t.curElementEditData,isCommon:t.isCommon,PositionID:t.PositionID,commonList:t.commonElementList},on:{"update:visible":function(e){t.elementVisible=e},submit:t.onElementSaveSubmit}}),t.showGroup?[i("div",{staticClass:"item-box"},[i("p",[i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.onElementGroupSetClick(null)}}},[t._v("+添加界面元素组")]),t.isCommon?t._e():i("span",{staticClass:"blue-span",on:{click:t.onElementGroupCopyClick}},[t._v("根据元素组模板添加")])],1),i("ElementGroupTableComp",{attrs:{dataList:t.ElementGroupDataList,loading:t.isLoadingGroup},on:{edit:t.onElementGroupSetClick,remove:t.onElementGroupRemove,sort:t.onElementGroupSort}})],1),i("ElementGroupDialogComp",{attrs:{visible:t.elementGroupVisible,ElementList:t.ElementDataList,PositionID:t.PositionID,curData:t.curElementGroupEditData},on:{"update:visible":function(e){t.elementGroupVisible=e},submit:t.onElementGroupSaveSubmit}}),i("CommonSortDialogComp",{attrs:{SortList:t.curSortList,visible:t.sortVisible},on:{"update:visible":function(e){t.sortVisible=e},submit:t.onSortSubmit}}),i("ElementGroupTempSelector",{attrs:{visible:t.groupTempVisible,list:t.commonGroupList},on:{"update:visible":function(e){t.groupTempVisible=e},submit:t.onElementGroupCopySubmit}})]:t._e()],2)}),[],!1,null,null,null));e.a=E.exports},"0b0e":function(t,e,i){},"0c58":function(t,e,i){"use strict";var r=i("81ca");i.n(r).a},"0cd4":function(t,e,i){"use strict";var r=i("18dd");i.n(r).a},"0e5d":function(t,e,i){},1029:function(t,e,i){"use strict";var r=i("4ae5");i.n(r).a},1563:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"a",(function(){return u})),i.d(e,"c",(function(){return m})),i("7db0"),i("4160"),i("caad"),i("d81d"),i("d3b7"),i("25f0"),i("2532"),i("159b");var r=i("5530"),n=i("d4ec"),o=i("bee2"),l=i("ade3"),a=i("247a"),s=[{Name:"Numberic",ID:1,label:"数字值"},{Name:"Option",ID:2,label:"选择项"},{Name:"Switch",ID:3,label:"开关"}],u=[{Name:"单选按钮",ID:0},{Name:"下拉框",ID:1}],c=function(t,e){var i=t;i[e].DefineList.length>0&&(i[e].DefineList.includes("staff")&&(i[e].Allow=!0),i[e].DefineList.includes("customer")&&(i[e].AllowCustomer=!0)),delete i[e].DefineList},m=function(){function t(e,i){if(Object(n.a)(this,t),Object(l.a)(this,"ID",""),Object(l.a)(this,"Name",""),Object(l.a)(this,"IsNameHidden",!1),Object(l.a)(this,"PositionID",""),Object(l.a)(this,"Type","Numberic"),Object(l.a)(this,"HiddenToCustomer",!1),Object(l.a)(this,"DefaultValue",""),Object(l.a)(this,"NumbericAttribute",{AllowDecimal:!1,InputContent:"",CheckedValue:"",Unit:"",IsRequired:!1,IsWidthAdaption:!0,DisplayWidth:"",DefineList:[],SectionList:[]}),Object(l.a)(this,"OptionAttribute",{OptionList:[],defaultSingleOption:"",IsWidthAdaption:!0,DisplayWidth:"",DefineList:[],CustomizeValue:"",ChooseType:"single",IsRequired:!1,SelectMode:0,UseTimes:{MinValue:"",MaxValue:""}}),Object(l.a)(this,"SwitchAttribute",{Words:"",OpenValue:"",CloseValue:"",DefaultOpen:!1}),i&&(this.PositionID=i),e&&"[object Object]"===Object.prototype.toString.call(e)){var o=JSON.parse(JSON.stringify(e)),u=o.Name,c=o.Type,m=o.DefaultValue,p=o.HiddenToCustomer,d=o.ID,b=o.IsNameHidden,f=o.NumbericAttribute,h=o.OptionAttribute,v=o.SwitchAttribute,g=o.PositionID;if(u&&(this.Name=u),c||0===c){var O=function(t,e){var i=t.find((function(t){return t.ID===e}));return i?i.Name:""}(s,c);O&&(this.Type=O)}if((m||0===m)&&(this.DefaultValue="".concat(m)),p&&(this.HiddenToCustomer=p),d&&(this.ID=d),b&&(this.IsNameHidden=b),g&&!i&&(this.PositionID=g),1===c&&f){var x=f.Allow,C=f.AllowCustomer,y=f.AllowDecimal,A=f.CheckedValue,k=f.DisplayWidth,S=f.InputContent,D=f.IsRequired,F=f.IsWidthAdaption,N=f.Unit,w=f.SectionList;y&&(this.NumbericAttribute.AllowDecimal=y),S&&(this.NumbericAttribute.InputContent=S),(A||0===A)&&(this.NumbericAttribute.CheckedValue="".concat(A)),k&&(this.NumbericAttribute.DisplayWidth=k),D&&(this.NumbericAttribute.IsRequired=D),F||(this.NumbericAttribute.IsWidthAdaption=F),N&&(this.NumbericAttribute.Unit=N),x&&(this.NumbericAttribute.DefineList=["staff"]),x&&C&&(this.NumbericAttribute.DefineList=["staff","customer"]),w&&w.length>0&&(this.NumbericAttribute.SectionList=w.map((function(t){return Object(r.a)({},t,{key:Object(a.f)(8),Increment:t.Increment?"".concat(t.Increment):"",MinValue:"".concat(t.MinValue),MaxValue:"".concat(t.MaxValue)})})))}if(2===c&&h){var I=h.Allow,V=h.AllowCustomer,T=h.CustomizeValue,E=h.DisplayWidth,L=h.IsRadio,_=h.IsRequired,$=h.IsWidthAdaption,G=h.SelectMode,M=h.UseTimes,j=h.OptionList;if(I&&(this.OptionAttribute.DefineList=["staff"]),I&&V&&(this.OptionAttribute.DefineList=["staff","customer"]),(T||0===T)&&(this.OptionAttribute.CustomizeValue="".concat(T)),E&&(this.OptionAttribute.DisplayWidth=E),L||(this.OptionAttribute.ChooseType="multiple"),_&&(this.OptionAttribute.IsRequired=_),$||(this.OptionAttribute.IsWidthAdaption=$),(G||0===G)&&(this.OptionAttribute.SelectMode=G),j&&j.length>0&&(this.OptionAttribute.OptionList=j.map((function(t){return Object(r.a)({},t,{key:Object(a.f)(8),Value:"".concat(t.Value)})})),L)){var R=this.OptionAttribute.OptionList.find((function(t){return t.IsChecked}));R&&(this.OptionAttribute.defaultSingleOption=R.key)}M&&h.UseTimes.MaxValue&&(this.OptionAttribute.UseTimes.MinValue=M.MinValue,this.OptionAttribute.UseTimes.MaxValue=M.MaxValue)}if(3===c&&v){var H=v.OpenValue,U=v.CloseValue,W=v.DefaultOpen,q=v.Words;q&&(this.SwitchAttribute.Words=q),W&&(this.SwitchAttribute.DefaultOpen=W),(H||0===H)&&(this.SwitchAttribute.OpenValue="".concat(H)),(U||0===U)&&(this.SwitchAttribute.CloseValue="".concat(U))}}}return Object(o.a)(t,null,[{key:"formatSubmitData",value:function(t){if(!t)return null;var e=JSON.parse(JSON.stringify(t)),i=function(t,e){var i=t.find((function(t){return t.Name===e}));return i?i.ID:""}(s,e.Type);if(e.DefaultValue=+e.DefaultValue,i.toString())switch(e.Type=i,e.Type){case 1:c(e,"NumbericAttribute"),delete e.OptionAttribute,delete e.SwitchAttribute;break;case 2:c(e,"OptionAttribute"),function(t){var e=t;if("single"===e.OptionAttribute.ChooseType){if(e.OptionAttribute.IsRadio=!0,e.OptionAttribute.OptionList.forEach((function(t){t.IsChecked=!1})),e.OptionAttribute.defaultSingleOption){var i=e.OptionAttribute.OptionList.find((function(t){return t.key===e.OptionAttribute.defaultSingleOption}));i&&(i.IsChecked=!0)}delete e.OptionAttribute.UseTimes}else"multiple"===e.OptionAttribute.ChooseType&&(e.OptionAttribute.IsRadio=!1,delete e.OptionAttribute.SelectMode,delete e.OptionAttribute.IsRequired);delete e.OptionAttribute.ChooseType,delete e.OptionAttribute.defaultSingleOption}(e),delete e.NumbericAttribute,delete e.SwitchAttribute;break;case 3:delete e.OptionAttribute,delete e.NumbericAttribute}return e}}]),t}()},"18dd":function(t,e,i){},"291c":function(t,e,i){"use strict";var r=i("4c6e");i.n(r).a},"468e":function(t,e,i){"use strict";var r=i("4aae");i.n(r).a},"4aae":function(t,e,i){},"4ae5":function(t,e,i){},"4c6e":function(t,e,i){},6062:function(t,e,i){"use strict";var r=i("6d61"),n=i("6566");t.exports=r("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n)},6368:function(t,e,i){"use strict";var r=i("0b0e");i.n(r).a},6566:function(t,e,i){"use strict";var r=i("9bf2").f,n=i("7c73"),o=i("e2cc"),l=i("0366"),a=i("19aa"),s=i("2266"),u=i("7dd0"),c=i("2626"),m=i("83ab"),p=i("f183").fastKey,d=i("69f3"),b=d.set,f=d.getterFor;t.exports={getConstructor:function(t,e,i,u){var c=t((function(t,r){a(t,c,e),b(t,{type:e,index:n(null),first:void 0,last:void 0,size:0}),m||(t.size=0),null!=r&&s(r,t[u],t,i)})),d=f(e),h=function(t,e,i){var r,n,o=d(t),l=v(t,e);return l?l.value=i:(o.last=l={index:n=p(e,!0),key:e,value:i,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=l),r&&(r.next=l),m?o.size++:t.size++,"F"!==n&&(o.index[n]=l)),t},v=function(t,e){var i,r=d(t),n=p(e);if("F"!==n)return r.index[n];for(i=r.first;i;i=i.next)if(i.key==e)return i};return o(c.prototype,{clear:function(){for(var t=d(this),e=t.index,i=t.first;i;)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete e[i.index],i=i.next;t.first=t.last=void 0,m?t.size=0:this.size=0},delete:function(t){var e=this,i=d(e),r=v(e,t);if(r){var n=r.next,o=r.previous;delete i.index[r.index],r.removed=!0,o&&(o.next=n),n&&(n.previous=o),i.first==r&&(i.first=n),i.last==r&&(i.last=o),m?i.size--:e.size--}return!!r},forEach:function(t){for(var e,i=d(this),r=l(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:i.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!v(this,t)}}),o(c.prototype,i?{get:function(t){var e=v(this,t);return e&&e.value},set:function(t,e){return h(this,0===t?0:t,e)}}:{add:function(t){return h(this,t=0===t?0:t,t)}}),m&&r(c.prototype,"size",{get:function(){return d(this).size}}),c},setStrong:function(t,e,i){var r=e+" Iterator",n=f(e),o=f(r);u(t,e,(function(t,e){b(this,{type:r,target:t,state:n(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,i=t.last;i&&i.removed;)i=i.previous;return t.target&&(t.last=i=i?i.next:t.state.first)?"keys"==e?{value:i.key,done:!1}:"values"==e?{value:i.value,done:!1}:{value:[i.key,i.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),i?"entries":"values",!i,!0),c(e)}}},"6d61":function(t,e,i){"use strict";var r=i("23e7"),n=i("da84"),o=i("94ca"),l=i("6eeb"),a=i("f183"),s=i("2266"),u=i("19aa"),c=i("861d"),m=i("d039"),p=i("1c7e"),d=i("d44e"),b=i("7156");t.exports=function(t,e,i){var f=-1!==t.indexOf("Map"),h=-1!==t.indexOf("Weak"),v=f?"set":"add",g=n[t],O=g&&g.prototype,x=g,C={},y=function(t){var e=O[t];l(O,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(h&&!c(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return h&&!c(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(h&&!c(t))&&e.call(this,0===t?0:t)}:function(t,i){return e.call(this,0===t?0:t,i),this})};if(o(t,"function"!=typeof g||!(h||O.forEach&&!m((function(){(new g).entries().next()})))))x=i.getConstructor(e,t,f,v),a.REQUIRED=!0;else if(o(t,!0)){var A=new x,k=A[v](h?{}:-0,1)!=A,S=m((function(){A.has(1)})),D=p((function(t){new g(t)})),F=!h&&m((function(){for(var t=new g,e=5;e--;)t[v](e,e);return!t.has(-0)}));D||((x=e((function(e,i){u(e,x,t);var r=b(new g,e,x);return null!=i&&s(i,r[v],r,f),r}))).prototype=O,O.constructor=x),(S||F)&&(y("delete"),y("has"),f&&y("get")),(F||k)&&y(v),h&&O.clear&&delete O.clear}return C[t]=x,r({global:!0,forced:x!=g},C),d(x,t),h||i.setStrong(x,t,f),x}},"81ca":function(t,e,i){},"8db5":function(t,e,i){},a248:function(t,e,i){},ad32:function(t,e,i){"use strict";var r={model:{prop:"value",event:"change"},props:{visible:{type:Boolean,default:!1},title:{type:String,default:"提示"},width:{default:"30%"},top:{type:String,default:"15vh"},showSubmit:{type:Boolean,default:!0},submitText:{type:String,default:"保存"},dangerText:{type:String,default:"重新生成"},cancelText:{type:String,default:"取消"},disabled:{type:Boolean,default:!1},showDanger:{type:Boolean,default:!1}},computed:{dialogVisible:{get:function(){return this.visible},set:function(t){this.$emit("update:visible",t)}}},data:function(){return{checkList:[]}},methods:{onCancleClick:function(){this.$emit("cancle")},onSubmitClick:function(){this.dialogVisible&&this.$emit("submit")},onDangerClick:function(){this.$emit("danger")},onOpen:function(){this.$emit("open")},onOpened:function(){this.$emit("opened")},onClose:function(){this.$emit("close")},onClosed:function(){this.$emit("closed")}}},n=(i("468e"),i("2877")),o=Object(n.a)(r,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticClass:"mp-img-style-header mp-erp-common-dialog-comp-wrap",attrs:{title:t.title,visible:t.dialogVisible,"close-on-click-modal":!1,width:t.width,top:t.top,modal:!1,"before-close":t.onCancleClick},on:{"update:visible":function(e){t.dialogVisible=e},open:t.onOpen,opened:t.onOpened,close:t.onClose,closed:t.onClosed}},[t._t("default"),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t.showSubmit?i("el-button",{attrs:{type:"primary",disabled:t.disabled},on:{click:t.onSubmitClick}},[t._v(t._s(t.submitText))]):t._e(),t.showDanger?i("el-button",{attrs:{type:"danger"},on:{click:t.onDangerClick}},[t._v(t._s(t.dangerText))]):t._e(),i("el-button",{on:{click:t.onCancleClick}},[t._v(t._s(t.cancelText))])],1)],2)}),[],!1,null,null,null);e.a=o.exports},b95b:function(t,e,i){"use strict";var r=i("8db5");i.n(r).a},bb2f:function(t,e,i){var r=i("d039");t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},d8ac:function(t,e,i){"use strict";var r=i("0e5d");i.n(r).a},d92c:function(t,e,i){"use strict";var r=i("a248");i.n(r).a},f183:function(t,e,i){var r=i("d012"),n=i("861d"),o=i("5135"),l=i("9bf2").f,a=i("90e3"),s=i("bb2f"),u=a("meta"),c=0,m=Object.isExtensible||function(){return!0},p=function(t){l(t,u,{value:{objectID:"O"+ ++c,weakData:{}}})},d=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,u)){if(!m(t))return"F";if(!e)return"E";p(t)}return t[u].objectID},getWeakData:function(t,e){if(!o(t,u)){if(!m(t))return!0;if(!e)return!1;p(t)}return t[u].weakData},onFreeze:function(t){return s&&d.REQUIRED&&m(t)&&!o(t,u)&&p(t),t}};r[u]=!0}}]);