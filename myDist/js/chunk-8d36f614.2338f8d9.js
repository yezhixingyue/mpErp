(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-8d36f614"],{"05f6":function(e,t,i){"use strict";var r=(i("7db0"),i("caad"),i("d81d"),i("2532"),i("96cf"),i("1da1")),n=i("5530"),o=(i("4de4"),i("c740"),i("4160"),i("a434"),i("b0c0"),i("d3b7"),i("6062"),i("3ca3"),i("159b"),i("ddb0"),i("3835")),l=i("2909"),a=i("ad32"),s=i("1563"),u=i("2387"),c={components:{CommonDialogComp:a.a,TipsSpanButton:u.a},props:{visible:{type:Boolean,default:!1},list:{type:Array,default:function(){return[]}}},methods:{onSubmit:function(e){var t=Object(n.a)({},e,{Group:null});this.$emit("submit",t),this.onCancle()},onCancle:function(){this.$emit("update:visible",!1)}}},m=(i("1029"),i("2877")),p=Object(m.a)(c,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("CommonDialogComp",{staticClass:"mp-erp-comps-element-template-element-select-comp-wrap",attrs:{width:"600px",top:"20vh",title:"选择模板",visible:e.visible,showSubmit:!1,cancelText:"关闭"},on:{"update:visible":function(t){e.visible=t},cancle:e.onCancle}},[e._l(e.list,(function(t){return i("TipsSpanButton",{key:t.ID,attrs:{text:t.Name},nativeOn:{click:function(i){return e.onSubmit(t)}}})})),e.list&&0===e.list.length?i("p",{staticStyle:{"font-size":"12px",color:"#888E99"}},[e._v("暂无模板数据，可到元素模板页面中添加常用元素模板")]):e._e()],2)}),[],!1,null,null,null).exports,d={props:{visible:{type:Boolean,default:!1},curData:{type:Object,default:null},isCommon:{type:Boolean,default:!1},commonList:{type:Array,default:function(){return[]}},PositionID:{type:String,default:""}},components:{CommonDialogComp:a.a,ElementTempSelector:p},data:function(){return{title:"添加界面元素",ruleForm:null,rules:{Name:[{required:!0,message:"请输入元素名称",trigger:"blur"},{min:1,max:10,message:"长度在 1 到 10 个字符",trigger:"blur"}],Type:[{validator:this.checkFormType,trigger:"change"}],NumbericAttribute:{AllowDecimal:[{validator:this.DecimalPointChange,trigger:"change"}],InputContent:[{validator:this.checkNumberValueList,trigger:"blur"}],NumberDefaultValue:[{validator:this.checkNumberDefaultValue,trigger:"blur"}],NumberValueUnit:[{validator:this.checkNumberValueUnit,trigger:"blur"}],NumberIsRequired:[{validator:this.checkNumberIsRequired,trigger:"change"}],NumberShowWidth:[{validator:this.checkNumberShowWidth,trigger:"change"}],NumberDefine:[{validator:this.checkNumberDefine,trigger:"change"}],NumberValueLimit:[{validator:this.checkNumberValueLimit,trigger:"change"}]},OptionAttribute:{OptionShowWidth:[{validator:this.checkOptionShowWidth,trigger:"change"}],OptionValueDefine:[{validator:this.checkOptionValueDefine,trigger:"change"}],OptionIsRequired:[{validator:this.checkOptionIsRequired,trigger:"blur"}],OptionList:[{validator:this.checkOptionList,trigger:"change"}],UseTimes:[{validator:this.checkOptionUseTimes,trigger:"blur"}]},SwitchAttribute:{Words:[{required:!0,message:"请输入显示文字",trigger:"blur"},{min:1,max:10,message:"长度在 1 到 10 个字符",trigger:"blur"}],OpenValue:[{required:!0,message:"请设置开值数值",trigger:"blur"},{validator:this.checkOpenValue,trigger:"blur"}],CloseValue:[{required:!0,message:"请设置关值数值",trigger:"blur"},{validator:this.checkCloseValue,trigger:"blur"}]}},elementSelectorVisible:!1,SelectModeEnum:s.a,TypeEnum:s.b,TempData:null,testCheck:!0,optionMultipleDisabled:!1,switchDisabled:!1}},computed:{numberDefine:{get:function(){return this.ruleForm.NumbericAttribute.DefineList},set:function(e){e.includes("staff")?this.ruleForm.NumbericAttribute.DefineList=e:this.ruleForm.NumbericAttribute.DefineList=[]}},optionDefine:{get:function(){return this.ruleForm.OptionAttribute.DefineList},set:function(e){e.includes("staff")?this.ruleForm.OptionAttribute.DefineList=e:this.ruleForm.OptionAttribute.DefineList=[]}},curFormType:function(){return this.ruleForm&&this.ruleForm.Type},formatNumberValueList:function(){return this.ruleForm.NumbericAttribute.InputContent&&"string"==typeof this.ruleForm.NumbericAttribute.InputContent?this.$utils.getNumberValueList(this.ruleForm.NumbericAttribute.InputContent):[]},ChooseType:function(){var e,t;return null===(e=this.ruleForm)||void 0===e||null===(t=e.OptionAttribute)||void 0===t?void 0:t.ChooseType}},methods:{checkFormType:function(e,t,i){t?!t||this.ruleForm.HiddenToCustomer?("Option"===this.ruleForm.Type&&(this.$refs.ruleForm.validateField("OptionAttribute.OptionValueDefine"),this.$refs.ruleForm.validateField("OptionAttribute.OptionList")),"Numberic"===this.ruleForm.Type&&this.ruleForm.NumbericAttribute.IsRequired&&!this.ruleForm.DefaultValue||"Option"===this.ruleForm.Type&&this.ruleForm.OptionAttribute.IsRequired&&!this.ruleForm.DefaultValue?i(new Error("元素必填时，隐藏运算值不可为空")):"Switch"!==this.ruleForm.Type||this.ruleForm.DefaultValue?i():i(new Error("开关类型隐藏时，隐藏运算值不可为空"))):i():i(new Error("请选择类型"))},comonWidthCheck:function(e,t){if(!1===this.ruleForm[e].IsWidthAdaption){var i=this.ruleForm[e].DisplayWidth;if(!i)return void t(new Error("请设置固定宽度值（整数， 50 - 150）"));if(i<50||i>150||!this.$utils.getValueIsOrNotNumber(i,!0))return void t(new Error("必须为50 - 150之间（包含）的整数类型"))}t()},checkNumberValueList:function(e,t,i){var r=this;if(this.ruleForm.NumbericAttribute.InputContent){var n=this.formatNumberValueList;if(n.find((function(e){return!r.$utils.getValueIsOrNotNumber(e,!r.ruleForm.NumbericAttribute.AllowDecimal)})))return void i(new Error("常规数值中存在不合法的项目，请检查（应为数字类型，不允许小数时必须为整数类型）"));if(n.length>Object(l.a)(new Set(n)).length)return void i(new Error("存在重复项，请检查"))}this.$refs.ruleForm.validateField("NumbericAttribute.NumberValueLimit"),this.$refs.ruleForm.validateField("NumbericAttribute.NumberDefaultValue"),i()},checkNumberDefaultValue:function(e,t,i){var r=this;if(this.ruleForm.NumbericAttribute.CheckedValue)if(this.$utils.getValueIsOrNotNumber(this.ruleForm.NumbericAttribute.CheckedValue,!this.ruleForm.NumbericAttribute.AllowDecimal))this.formatNumberValueList.length>0&&!this.formatNumberValueList.filter((function(e){return r.$utils.getValueIsOrNotNumber(e)})).map((function(e){return+e})).includes(+this.ruleForm.NumbericAttribute.CheckedValue)?i(new Error("默认选择数值应在常规数值范围内")):i();else{var n=this.ruleForm.NumbericAttribute.AllowDecimal?"请输入数字类型（允许小数）":"请输入整数数字类型";i(new Error(n))}else i()},DecimalPointChange:function(e,t,i){this.$refs.ruleForm.validateField("NumbericAttribute.InputContent"),this.$refs.ruleForm.validateField("NumbericAttribute.NumberDefaultValue"),i()},checkNumberValueUnit:function(e,t,i){this.ruleForm.NumbericAttribute.Unit&&this.ruleForm.NumbericAttribute.Unit.length>6?i(new Error("最多可输入6个字符")):i()},checkNumberIsRequired:function(e,t,i){this.ruleForm.NumbericAttribute.IsRequired||!this.ruleForm.NumbericAttribute.CheckedValue||0!==this.ruleForm.NumbericAttribute.DefineList.length?i():i(new Error("当前设置不允许自定义且默认选择不为空，此时，客户无法输入空值；请选中必填项，或者清空默认选择，或者允许自定义"))},checkNumberShowWidth:function(e,t,i){this.comonWidthCheck("NumbericAttribute",i)},checkNumberDefine:function(e,t,i){this.$refs.ruleForm.validateField("NumbericAttribute.NumberIsRequired"),i()},checkNumberValueLimit:function(e,t,i){var r=this;if(this.ruleForm.NumbericAttribute.SectionList.length>0){var n=this.ruleForm.NumbericAttribute.SectionList.findIndex((function(e){return!e.MinValue||!e.MaxValue||!e.IsGeneralValue&&!e.Increment}));if(n>=0)return void i(new Error("请填写信息"));if((n=this.ruleForm.NumbericAttribute.SectionList.findIndex((function(e){return e.MinValue&&e.MinValue<0})))>=0)return void i(new Error("最小值不能小于0"));if((n=this.ruleForm.NumbericAttribute.SectionList.findIndex((function(e){return!r.$utils.getValueIsOrNotNumber(e.MinValue,!r.ruleForm.NumbericAttribute.AllowDecimal)||!r.$utils.getValueIsOrNotNumber(e.MaxValue,!r.ruleForm.NumbericAttribute.AllowDecimal)||!e.IsGeneralValue&&!r.$utils.getValueIsOrNotNumber(e.Increment,!r.ruleForm.NumbericAttribute.AllowDecimal)})))>=0)return void i(new Error("输入值必须为数字类型，在不允许小数时应为整数类型"));if((n=this.ruleForm.NumbericAttribute.SectionList.findIndex((function(e){return+e.MaxValue<=+e.MinValue&&"-1"!==e.MaxValue})))>=0)return void i(new Error("分段范围值中后面值不能小于等于前面值"));if((n=this.ruleForm.NumbericAttribute.SectionList.findIndex((function(e){return!e.IsGeneralValue&&e.Increment<=0})))>=0)return void i(new Error("增量必须大于0"));if((n=this.ruleForm.NumbericAttribute.SectionList.findIndex((function(e){return!e.IsGeneralValue&&e.Increment>+e.MaxValue-+e.MinValue&&"-1"!==e.MaxValue})))>=0)return void i(new Error("请检查增量，增量值不能大于所在行最大值减去最小值的差值"));if((n=this.ruleForm.NumbericAttribute.SectionList.findIndex((function(e){return!!e.IsGeneralValue&&(0===r.formatNumberValueList.length||!r.formatNumberValueList.find((function(t){return+t>+e.MinValue&&("-1"===e.MaxValue||+t<=+e.MaxValue)})))})))>=0)return void i(new Error("在该设置范围内，没有符合的常规数值"))}i()},checkOptionShowWidth:function(e,t,i){this.comonWidthCheck("OptionAttribute",i)},checkOptionValueDefine:function(e,t,i){if(this.$refs.ruleForm.validateField("OptionAttribute.OptionIsRequired"),0!==this.ruleForm.OptionAttribute.OptionList.length||this.ruleForm.OptionAttribute.DefineList.includes("staff"))if(0!==this.ruleForm.OptionAttribute.OptionList.filter((function(e){return!e.HiddenToCustomer})).length||this.ruleForm.OptionAttribute.DefineList.includes("customer")||this.ruleForm.HiddenToCustomer){if(this.ruleForm.OptionAttribute.DefineList.includes("staff")){if(!this.ruleForm.OptionAttribute.CustomizeValue)return void i(new Error("请输入自定义数值"));if(!this.$utils.getValueIsOrNotNumber(this.ruleForm.OptionAttribute.CustomizeValue))return void i(new Error("自定义数值应为数字类型"))}i()}else i(new Error("客户无可选选项且不允许客户自定义时，请选中【客户界面隐藏】或修改选项客户隐藏或客户自定义配置"));else i(new Error("选项值数量为0时，必须允许自定义"))},checkOptionIsRequired:function(e,t,i){this.ruleForm.OptionAttribute.IsRequired||!this.ruleForm.OptionAttribute.defaultSingleOption||0!==this.ruleForm.OptionAttribute.DefineList.length||"single"!==this.ruleForm.OptionAttribute.ChooseType?i():i(new Error("单选不允许自定义的选择项在有默认选项时，无法选择空值，请去掉默认选项，或者选中必填项，或者允许自定义"))},checkOptionList:function(e,t,i){var r=this,n=this.ruleForm.OptionAttribute.OptionList.find((function(e){return!e.HiddenToCustomer}));if(!n&&!this.ruleForm.HiddenToCustomer&&this.ruleForm.OptionAttribute.OptionList.length>0)i(new Error("客户界面至少显示一个选择项，如果不希望客户选择，请勾选“客户界面隐藏”勾选项"));else if((n=this.ruleForm.OptionAttribute.OptionList.find((function(e){return!e.Name})))||(n=this.ruleForm.OptionAttribute.OptionList.find((function(e){return!e.Value}))),n)i(new Error("请填写内容"));else if(n=this.ruleForm.OptionAttribute.OptionList.find((function(e){return!r.$utils.getValueIsOrNotNumber(e.Value)})))i(new Error("数值应为数字类型，请检查输入"));else{if("multiple"===this.ruleForm.OptionAttribute.ChooseType&&this.ruleForm.OptionAttribute.UseTimes.MaxValue)if(this.ruleForm.OptionAttribute.OptionList.filter((function(e){return e.IsChecked})).length>this.ruleForm.OptionAttribute.UseTimes.MaxValue)return void i(new Error("勾选默认选项数量不能大于最大项数限制数量"));var o=this.ruleForm.OptionAttribute.OptionList.map((function(e){return e.Name})),a=o.length;if(a>1)if(a>Object(l.a)(new Set(o)).length)return void i(new Error("选项显示内容重复，请检查"));i()}},checkOptionUseTimes:function(e,t,i){if(t){var r=t.MinValue,n=t.MaxValue;if((r||0===r)&&(n||0===n)){var o=this.ruleForm.OptionAttribute.OptionList.length;return r<0||n<=0?void i(new Error("项数限制数量最小值不能小于0，最大值必须大于0")):r>o||n>o?void i(new Error("项数限制数量不能超过当前选项值总数量：".concat(o))):n<r?void i(new Error("最大项数限制数量不能小于最小值")):(this.$refs.ruleForm.validateField("OptionAttribute.OptionList"),void i())}r||0===r||n||0===n?i(new Error("请补充信息")):i()}else i(new Error("未获取到值信息"))},checkNumberType:function(e){return!!this.$utils.getValueIsOrNotNumber(e)},checkOpenValue:function(e,t,i){this.checkNumberType(t)?(this.$refs.ruleForm.validateField("SwitchAttribute.CloseValue"),i()):i(new Error("请输入数字类型"))},checkCloseValue:function(e,t,i){this.checkNumberType(t)?i():i(new Error("请输入数字类型"))},onSubmit:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.ruleForm.validate().catch((function(){}));case 2:t.sent&&(i=s.c.formatSubmitData(e.ruleForm),e.$emit("submit",i));case 4:case"end":return t.stop()}}),t)})))()},onCancle:function(){this.$emit("update:visible",!1)},initEditData:function(e){this.ruleForm=new s.c(e||this.curData,this.PositionID),this.curData?this.title="编辑界面元素":this.title="添加界面元素","MaterialElementSet"===this.$route.name?(this.optionMultipleDisabled=!0,this.switchDisabled=!0):(this.optionMultipleDisabled=!1,this.switchDisabled=!1)},onOpen:function(){this.TempData=null,this.$nextTick(this.initEditData)},onClosed:function(){this.$refs.ruleForm&&this.$refs.ruleForm.resetFields()},onElementSelectClick:function(e){this.TempData=Object(n.a)({},e,{ID:this.curData?this.curData.ID:""}),this.initEditData(this.TempData)},handleToBottomScroll:function(e){var t=document.querySelector(e);this.$utils.animateScroll(t.scrollTop,t.scrollHeight,(function(e){t.scrollTop=e}))},onLimitAddClick:function(){var e=this,t={ID:"",MinValue:"",MaxValue:"",Increment:"",IsGeneralValue:!1,key:this.$utils.getRandomRangeId(8)};this.ruleForm.NumbericAttribute.SectionList.push(t),this.$nextTick((function(){return e.handleToBottomScroll(".mp-erp-comps-element-template-element-dialog-comp-wrap .el-dialog__body")}))},onLimitDelClick:function(e){this.ruleForm.NumbericAttribute.SectionList=this.ruleForm.NumbericAttribute.SectionList.filter((function(t){return t.key!==e})),this.$refs.ruleForm.validateField("NumbericAttribute.NumberValueLimit")},onOptionItemAddClick:function(){var e=this,t=this.$utils.getRandomRangeId(8),i={ID:"",Name:"",Value:"",HiddenToCustomer:!1,IsChecked:!1,Index:this.ruleForm.OptionAttribute.OptionList.length,key:t};this.ruleForm.OptionAttribute.OptionList.push(i),this.$refs.ruleForm.validateField("OptionAttribute.OptionList"),this.$refs.ruleForm.validateField("OptionAttribute.OptionValueDefine"),this.$nextTick((function(){return e.handleToBottomScroll(".mp-erp-comps-element-template-element-dialog-comp-wrap .el-dialog__body .option-list-box")}))},onOptionItemRemove:function(e){var t=this;this.ruleForm.OptionAttribute.OptionList=this.ruleForm.OptionAttribute.OptionList.filter((function(t){return t.key!==e})),this.$nextTick((function(){t.$refs.ruleForm.validateField("OptionAttribute.OptionList")}))},onOptionMove:function(e,t){var i=this.ruleForm.OptionAttribute.OptionList.splice(t,1),r=Object(o.a)(i,1)[0],n="up"===e?t-1:t+1;this.ruleForm.OptionAttribute.OptionList.splice(n,0,r),this.ruleForm.OptionAttribute.OptionList.forEach((function(e,t){e.Index=t}))},onDefaultOptionClick:function(e){var t=this;this.ruleForm.OptionAttribute.OptionList[e].key===this.ruleForm.OptionAttribute.defaultSingleOption&&setTimeout((function(){t.ruleForm.OptionAttribute.defaultSingleOption=""}))},onTemplateSelect:function(){this.elementSelectorVisible=!0}},watch:{curFormType:function(e){e&&this.$refs.ruleForm&&this.$refs.ruleForm.clearValidate()},ChooseType:function(e){var t,i;"multiple"===e&&!1===(null===(t=this.ruleForm)||void 0===t||null===(i=t.OptionAttribute)||void 0===i?void 0:i.IsWidthAdaption)&&(this.ruleForm.OptionAttribute.IsWidthAdaption=!0)}}},b=(i("d92c"),Object(m.a)(d,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("CommonDialogComp",{staticClass:"mp-erp-comps-element-template-element-dialog-comp-wrap",attrs:{width:"850px",top:"4vh",title:e.title,visible:e.visible},on:{"update:visible":function(t){e.visible=t},submit:e.onSubmit,cancle:e.onCancle,open:e.onOpen,closed:e.onClosed}},[e.ruleForm?i("el-form",{ref:"ruleForm",staticClass:"element-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px",size:"mini"}},[i("el-form-item",{attrs:{label:"名称：",prop:"Name"}},[i("div",{staticClass:"element-name-box"},[i("div",[i("el-input",{attrs:{placeholder:"请输入元素名称",maxlength:"10","show-word-limit":""},model:{value:e.ruleForm.Name,callback:function(t){e.$set(e.ruleForm,"Name","string"==typeof t?t.trim():t)},expression:"ruleForm.Name"}}),e.isCommon?e._e():[i("span",{staticClass:"blue-span",on:{click:e.onTemplateSelect}},[e._v("选择模板")]),e.TempData&&e.TempData.Name?i("span",{staticClass:"is-gray"},[e._v("已选："+e._s(e.TempData.Name))]):e._e()]],2),i("div",{staticClass:"checked-box"},[i("el-checkbox",{staticClass:"checked-item",model:{value:e.ruleForm.IsNameHidden,callback:function(t){e.$set(e.ruleForm,"IsNameHidden",t)},expression:"ruleForm.IsNameHidden"}},[e._v("界面隐藏名称")])],1)])]),i("el-form-item",{attrs:{label:"类型：",prop:"Type"}},[i("el-radio-group",{model:{value:e.ruleForm.Type,callback:function(t){e.$set(e.ruleForm,"Type",t)},expression:"ruleForm.Type"}},e._l(e.TypeEnum,(function(t){return i("el-radio",{key:t.Name+t.label,attrs:{label:t.Name,disabled:e.switchDisabled&&"开关"===t.label}},[e._v(e._s(t.label))])})),1),i("div",{directives:[{name:"show",rawName:"v-show",value:e.ruleForm.Type,expression:"ruleForm.Type"}],staticClass:"checked-box hidden-content-box"},[i("el-checkbox",{staticClass:"checked-item",model:{value:e.ruleForm.HiddenToCustomer,callback:function(t){e.$set(e.ruleForm,"HiddenToCustomer",t)},expression:"ruleForm.HiddenToCustomer"}},[e._v("客户界面隐藏")]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.ruleForm.HiddenToCustomer,expression:"ruleForm.HiddenToCustomer"}]},[i("span",[e._v("隐藏时运算值：")]),i("el-input",{attrs:{maxlength:"9"},model:{value:e.ruleForm.DefaultValue,callback:function(t){e.$set(e.ruleForm,"DefaultValue","string"==typeof t?t.trim():t)},expression:"ruleForm.DefaultValue"}})],1)],1)],1),"Numberic"===e.ruleForm.Type?[i("el-form-item",{key:"NumbericAttributeAllowDecimal",attrs:{label:"常值类型：",prop:"NumbericAttribute.AllowDecimal"}},[i("el-checkbox",{staticClass:"checked-item",model:{value:e.ruleForm.NumbericAttribute.AllowDecimal,callback:function(t){e.$set(e.ruleForm.NumbericAttribute,"AllowDecimal",t)},expression:"ruleForm.NumbericAttribute.AllowDecimal"}},[e._v("允许小数")])],1),i("el-form-item",{key:"InputContent",attrs:{label:"常规数值：",prop:"NumbericAttribute.InputContent"}},[i("el-input",{staticStyle:{width:"600px"},attrs:{maxlength:"200"},model:{value:e.ruleForm.NumbericAttribute.InputContent,callback:function(t){e.$set(e.ruleForm.NumbericAttribute,"InputContent",t)},expression:"ruleForm.NumbericAttribute.InputContent"}})],1),i("el-form-item",{staticClass:"tip-wrap",attrs:{label:""}},[i("p",{staticClass:"tips-box"},[i("i",{staticClass:"el-icon-warning"}),e._v(" 可为空，用空格、逗号分开，分隔符不限全角半角")])]),i("el-form-item",{key:"NumberDefaultValue",attrs:{label:"默认选择：",prop:"NumbericAttribute.NumberDefaultValue"}},[i("el-input",{staticStyle:{width:"120px"},attrs:{maxlength:"9"},model:{value:e.ruleForm.NumbericAttribute.CheckedValue,callback:function(t){e.$set(e.ruleForm.NumbericAttribute,"CheckedValue","string"==typeof t?t.trim():t)},expression:"ruleForm.NumbericAttribute.CheckedValue"}}),i("span",{staticStyle:{"font-size":"12px",color:"#a2a2a2","margin-left":"12px"}},[e._v("可为空")])],1),i("el-form-item",{key:"NumberValueUnit",attrs:{label:"单位：",prop:"NumbericAttribute.NumberValueUnit"}},[i("el-input",{staticStyle:{width:"120px"},model:{value:e.ruleForm.NumbericAttribute.Unit,callback:function(t){e.$set(e.ruleForm.NumbericAttribute,"Unit","string"==typeof t?t.trim():t)},expression:"ruleForm.NumbericAttribute.Unit"}})],1),i("el-form-item",{key:"NumberIsRequired",attrs:{label:"是否必填：",prop:"NumbericAttribute.NumberIsRequired"}},[i("el-checkbox",{staticClass:"checked-item",model:{value:e.ruleForm.NumbericAttribute.IsRequired,callback:function(t){e.$set(e.ruleForm.NumbericAttribute,"IsRequired",t)},expression:"ruleForm.NumbericAttribute.IsRequired"}},[e._v("必填项")])],1),i("el-form-item",{key:"NumberShowWidth",attrs:{label:"显示宽度：",prop:"NumbericAttribute.NumberShowWidth"}},[i("el-radio-group",{model:{value:e.ruleForm.NumbericAttribute.IsWidthAdaption,callback:function(t){e.$set(e.ruleForm.NumbericAttribute,"IsWidthAdaption",t)},expression:"ruleForm.NumbericAttribute.IsWidthAdaption"}},[i("el-radio",{attrs:{label:!0}},[e._v("自动宽度")]),i("el-radio",{attrs:{label:!1}},[i("span",[e._v("固定宽度")]),i("el-input",{staticStyle:{width:"90px","margin-left":"10px"},attrs:{disabled:!0===e.ruleForm.NumbericAttribute.IsWidthAdaption,maxlength:"9"},model:{value:e.ruleForm.NumbericAttribute.DisplayWidth,callback:function(t){e.$set(e.ruleForm.NumbericAttribute,"DisplayWidth",e._n("string"==typeof t?t.trim():t))},expression:"ruleForm.NumbericAttribute.DisplayWidth"}}),i("span",{staticStyle:{"font-size":"12px",color:"#a2a2a2","margin-left":"6px"}},[e._v("px")])],1)],1)],1),i("el-form-item",{key:"NumberDefine",attrs:{label:"自定义值：",prop:"NumbericAttribute.NumberDefine"}},[i("el-checkbox-group",{model:{value:e.numberDefine,callback:function(t){e.numberDefine=t},expression:"numberDefine"}},[i("el-checkbox",{attrs:{label:"staff"}},[e._v("允许自定义")]),e.numberDefine.includes("staff")?i("el-checkbox",{attrs:{label:"customer"}},[e._v("客户允许自定义")]):e._e()],1)],1),e.numberDefine.includes("staff")?i("el-form-item",{key:"NumberValueLimit",attrs:{label:"分段控制：",prop:"NumbericAttribute.NumberValueLimit"}},[i("p",{staticStyle:{"font-size":"12px"}},[i("span",{staticStyle:{color:"#a2a2a2","margin-right":"6px"}},[e._v("（ -1代表无穷大 ）")]),i("span",{staticClass:"blue-span",on:{click:e.onLimitAddClick}},[i("i",{staticClass:"el-icon-plus"}),e._v(" 添加一行")])]),i("ul",{staticClass:"limit-list-box"},e._l(e.ruleForm.NumbericAttribute.SectionList,(function(t){return i("li",{key:t.key},[i("div",[i("el-input",{staticStyle:{width:"110px"},attrs:{maxlength:"9"},model:{value:t.MinValue,callback:function(i){e.$set(t,"MinValue","string"==typeof i?i.trim():i)},expression:"it.MinValue"}}),i("span",{staticClass:"text",staticStyle:{margin:"0 8px"}},[e._v("＜值≤")]),i("el-input",{staticStyle:{width:"110px"},attrs:{maxlength:"9"},model:{value:t.MaxValue,callback:function(i){e.$set(t,"MaxValue","string"==typeof i?i.trim():i)},expression:"it.MaxValue"}})],1),i("div",{staticStyle:{padding:"0 32px"}},[i("span",{staticClass:"text",staticStyle:{"margin-right":"6px"}},[e._v("增量")]),i("el-input",{staticStyle:{width:"110px","margin-right":"12px"},attrs:{maxlength:"9",disabled:t.IsGeneralValue},model:{value:t.Increment,callback:function(i){e.$set(t,"Increment","string"==typeof i?i.trim():i)},expression:"it.Increment"}}),i("el-checkbox",{staticClass:"checked-item",model:{value:t.IsGeneralValue,callback:function(i){e.$set(t,"IsGeneralValue",i)},expression:"it.IsGeneralValue"}},[e._v("符合常规数值")])],1),i("span",{staticClass:"text del-btn",on:{click:function(i){return e.onLimitDelClick(t.key)}}},[i("i"),e._v(" 删除")])])})),0)]):e._e()]:e._e(),"Option"===e.ruleForm.Type?[i("el-form-item",{key:"OptionList",staticClass:"option-list-wrap",attrs:{label:"",prop:"OptionAttribute.OptionList"}},[i("p",[i("el-button",{on:{click:e.onOptionItemAddClick}},[i("i",{staticClass:"el-icon-plus"}),e._v(" 添加一行")])],1),i("div",{staticClass:"list-header"},[i("span",[e._v("默认")]),i("span",[e._v("显示")]),i("span",[e._v("数值")]),i("span",[e._v("客户隐藏")]),i("span",[e._v("操作")])]),i("ul",{staticClass:"option-list-box"},[i("transition-group",e._l(e.ruleForm.OptionAttribute.OptionList,(function(t,r){return i("li",{key:t.key,staticClass:"item"},["single"===e.ruleForm.OptionAttribute.ChooseType?i("el-radio",{attrs:{label:t.key},nativeOn:{click:function(t){return t.stopPropagation(),e.onDefaultOptionClick(r)}},model:{value:e.ruleForm.OptionAttribute.defaultSingleOption,callback:function(t){e.$set(e.ruleForm.OptionAttribute,"defaultSingleOption",t)},expression:"ruleForm.OptionAttribute.defaultSingleOption"}}):e._e(),"multiple"===e.ruleForm.OptionAttribute.ChooseType?i("el-checkbox",{staticClass:"multiple-box",model:{value:t.IsChecked,callback:function(i){e.$set(t,"IsChecked",i)},expression:"it.IsChecked"}}):e._e(),i("el-input",{staticStyle:{width:"187px"},attrs:{maxlength:"10"},model:{value:t.Name,callback:function(i){e.$set(t,"Name","string"==typeof i?i.trim():i)},expression:"it.Name"}}),i("el-input",{staticStyle:{width:"110px"},attrs:{maxlength:"9"},model:{value:t.Value,callback:function(i){e.$set(t,"Value","string"==typeof i?i.trim():i)},expression:"it.Value"}}),i("el-checkbox",{model:{value:t.HiddenToCustomer,callback:function(i){e.$set(t,"HiddenToCustomer",i)},expression:"it.HiddenToCustomer"}}),i("div",{staticClass:"ctrl"},[i("span",{staticClass:"del-btn",on:{click:function(i){return e.onOptionItemRemove(t.key)}}},[i("i"),e._v(" 删除")]),i("div",[i("span",{directives:[{name:"show",rawName:"v-show",value:r<e.ruleForm.OptionAttribute.OptionList.length-1,expression:"i < ruleForm.OptionAttribute.OptionList.length - 1"}],on:{click:function(t){return e.onOptionMove("down",r)}}},[i("i",{staticClass:"el-icon-bottom"}),e._v(" 下移")])]),i("div",[i("span",{directives:[{name:"show",rawName:"v-show",value:r>0,expression:"i > 0"}],on:{click:function(t){return e.onOptionMove("up",r)}}},[i("i",{staticClass:"el-icon-top"}),e._v(" 上移")])])])],1)})),0)],1)]),i("el-form-item",{key:"OptionShowWidth",attrs:{label:"显示宽度：",prop:"OptionAttribute.OptionShowWidth"}},[i("el-radio-group",{model:{value:e.ruleForm.OptionAttribute.IsWidthAdaption,callback:function(t){e.$set(e.ruleForm.OptionAttribute,"IsWidthAdaption",t)},expression:"ruleForm.OptionAttribute.IsWidthAdaption"}},[i("el-radio",{attrs:{label:!0}},[e._v("自动宽度")]),i("el-radio",{attrs:{label:!1,disabled:"multiple"===e.ruleForm.OptionAttribute.ChooseType||0===e.ruleForm.OptionAttribute.SelectMode}},[i("span",[e._v("固定宽度")]),i("el-input",{staticStyle:{width:"90px","margin-left":"10px"},attrs:{maxlength:"9",disabled:!0===e.ruleForm.OptionAttribute.IsWidthAdaption},model:{value:e.ruleForm.OptionAttribute.DisplayWidth,callback:function(t){e.$set(e.ruleForm.OptionAttribute,"DisplayWidth",e._n("string"==typeof t?t.trim():t))},expression:"ruleForm.OptionAttribute.DisplayWidth"}}),i("span",{staticStyle:{"font-size":"12px",color:"#a2a2a2","margin-left":"6px"}},[e._v("px")])],1)],1)],1),i("el-form-item",{key:"OptionValueDefine",staticClass:"option-define-box",attrs:{label:"自定义值：",prop:"OptionAttribute.OptionValueDefine"}},[i("el-checkbox-group",{attrs:{disabled:"multiple"===e.ruleForm.OptionAttribute.ChooseType||0===e.ruleForm.OptionAttribute.SelectMode},model:{value:e.optionDefine,callback:function(t){e.optionDefine=t},expression:"optionDefine"}},[i("el-checkbox",{attrs:{label:"staff"}},[e._v("允许自定义")]),i("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:e.optionDefine.includes("staff"),expression:"optionDefine.includes('staff')"}],attrs:{label:"customer"}},[e._v("客户允许自定义")])],1),e.optionDefine.includes("staff")?[i("span",{staticStyle:{color:"#585858"}},[e._v("自定义数值：")]),i("el-input",{staticStyle:{width:"90px"},attrs:{maxlength:"9"},model:{value:e.ruleForm.OptionAttribute.CustomizeValue,callback:function(t){e.$set(e.ruleForm.OptionAttribute,"CustomizeValue","string"==typeof t?t.trim():t)},expression:"ruleForm.OptionAttribute.CustomizeValue"}})]:e._e()],2),i("el-form-item",{key:"optionChooseType",attrs:{label:"选择方式：",prop:"optionChooseType"}},[i("el-radio-group",{model:{value:e.ruleForm.OptionAttribute.ChooseType,callback:function(t){e.$set(e.ruleForm.OptionAttribute,"ChooseType",t)},expression:"ruleForm.OptionAttribute.ChooseType"}},[i("el-radio",{attrs:{label:"single"}},[e._v("单选")]),i("el-radio",{attrs:{label:"multiple",disabled:e.optionDefine.includes("staff")||e.optionMultipleDisabled}},[e._v("多选")])],1)],1),"single"===e.ruleForm.OptionAttribute.ChooseType?i("el-form-item",{key:"OptionSelectMode",attrs:{label:"表现形式：",prop:"OptionSelectMode"}},[i("el-radio-group",{model:{value:e.ruleForm.OptionAttribute.SelectMode,callback:function(t){e.$set(e.ruleForm.OptionAttribute,"SelectMode",t)},expression:"ruleForm.OptionAttribute.SelectMode"}},e._l(e.SelectModeEnum,(function(t){return i("el-radio",{key:t.Name+"-"+t.ID,attrs:{disabled:e.optionDefine.includes("staff")&&0===t.ID,label:t.ID}},[e._v(e._s(t.Name))])})),1)],1):e._e(),"single"===e.ruleForm.OptionAttribute.ChooseType?i("el-form-item",{key:"OptionIsRequired",attrs:{label:"是否必填：",prop:"OptionAttribute.OptionIsRequired"}},[i("el-checkbox",{staticClass:"checked-item",model:{value:e.ruleForm.OptionAttribute.IsRequired,callback:function(t){e.$set(e.ruleForm.OptionAttribute,"IsRequired",t)},expression:"ruleForm.OptionAttribute.IsRequired"}},[e._v("必填项")])],1):e._e(),"single"!==e.ruleForm.OptionAttribute.ChooseType?i("el-form-item",{key:"optionUseTimes",staticClass:"use-times-box",attrs:{label:"项数限制：",prop:"OptionAttribute.UseTimes"}},[i("el-input",{staticStyle:{width:"110px"},attrs:{maxlength:"9"},model:{value:e.ruleForm.OptionAttribute.UseTimes.MinValue,callback:function(t){e.$set(e.ruleForm.OptionAttribute.UseTimes,"MinValue",e._n("string"==typeof t?t.trim():t))},expression:"ruleForm.OptionAttribute.UseTimes.MinValue"}}),i("span",[e._v("≤ 项数 ≤")]),i("el-input",{staticStyle:{width:"110px"},attrs:{maxlength:"9"},model:{value:e.ruleForm.OptionAttribute.UseTimes.MaxValue,callback:function(t){e.$set(e.ruleForm.OptionAttribute.UseTimes,"MaxValue",e._n("string"==typeof t?t.trim():t))},expression:"ruleForm.OptionAttribute.UseTimes.MaxValue"}}),i("span",[e._v("项")]),i("p",{staticClass:"tips-box",staticStyle:{width:"240px"}},[i("i",{staticClass:"el-icon-warning"}),e._v(" 不限制则不填写")])],1):e._e()]:e._e(),"Switch"===e.ruleForm.Type?[i("el-form-item",{key:"SwitchAttributeWords",attrs:{label:"显示文字：",prop:"SwitchAttribute.Words"}},[i("el-input",{staticStyle:{width:"400px"},model:{value:e.ruleForm.SwitchAttribute.Words,callback:function(t){e.$set(e.ruleForm.SwitchAttribute,"Words","string"==typeof t?t.trim():t)},expression:"ruleForm.SwitchAttribute.Words"}})],1),i("el-form-item",{key:"OpenValue",attrs:{label:"开值：",prop:"SwitchAttribute.OpenValue"}},[i("el-input",{staticStyle:{width:"120px"},attrs:{maxlength:"9"},model:{value:e.ruleForm.SwitchAttribute.OpenValue,callback:function(t){e.$set(e.ruleForm.SwitchAttribute,"OpenValue","string"==typeof t?t.trim():t)},expression:"ruleForm.SwitchAttribute.OpenValue"}})],1),i("el-form-item",{key:"CloseValue",attrs:{label:"关值：",prop:"SwitchAttribute.CloseValue"}},[i("el-input",{staticStyle:{width:"120px"},attrs:{maxlength:"9"},model:{value:e.ruleForm.SwitchAttribute.CloseValue,callback:function(t){e.$set(e.ruleForm.SwitchAttribute,"CloseValue","string"==typeof t?t.trim():t)},expression:"ruleForm.SwitchAttribute.CloseValue"}})],1),i("el-form-item",{key:"SwitchInitValue",staticClass:"switch-init-value-box",attrs:{label:"初始值：",prop:"SwitchInitValue"}},[i("el-switch",{attrs:{"active-text":"初始开值"},model:{value:e.ruleForm.SwitchAttribute.DefaultOpen,callback:function(t){e.$set(e.ruleForm.SwitchAttribute,"DefaultOpen",t)},expression:"ruleForm.SwitchAttribute.DefaultOpen"}}),i("p",{staticClass:"tips-box",staticStyle:{width:"240px"}},[i("i",{staticClass:"el-icon-warning"}),e._v(" 不选中则初始关值")])],1),i("div",{staticClass:"example-box"},[i("p",[i("span",[e._v("示例：")])]),i("p",[i("span",[e._v("名称：")]),i("el-switch",{attrs:{"active-text":"显示文字"},model:{value:e.testCheck,callback:function(t){e.testCheck=t},expression:"testCheck"}})],1)])]:e._e()],2):e._e(),i("ElementTempSelector",{attrs:{visible:e.elementSelectorVisible,list:e.commonList},on:{"update:visible":function(t){e.elementSelectorVisible=t},submit:e.onElementSelectClick}})],1)}),[],!1,null,null,null)).exports,f=(i("99af"),i("a15b"),i("daf5")),h={mixins:[Object(f.a)(".mp-erp-element-template-page-element-table-comp-wrap .el-table__body-wrapper")],props:{dataList:{default:function(){return[]},type:Array},loading:{type:Boolean,default:!1}},computed:{localTableData:function(){var e=this;return this.dataList&&Array.isArray(this.dataList)&&0!==this.dataList.length?this.dataList.map((function(t){return Object(n.a)({},t,{},e.getLocalInfoNames(t))})):[]}},methods:{onEditClick:function(e){this.$emit("edit",e)},onRemoveClick:function(e){this.$emit("remove",e)},getSelectMode:function(e){var t=s.a.find((function(t){return t.ID===e}));return t?"表现形式：".concat(t.Name):""},getDescribeStringify:function(e){var t=e.HiddenToCustomer,i=e.DefaultValue,r=t&&(i||0===i)?"客户界面隐藏取值：".concat(i):"";if(1===e.Type){var n=e.NumbericAttribute,o=n.AllowDecimal,l=n.Unit,a=n.CheckedValue,s=n.IsRequired,u=n.Allow,c=n.AllowCustomer,m=n.SectionList,p=u?"自定义：允许（客户除外）":"自定义：不允许";return c&&(p="自定义：允许（包含客户）"),[r,o?"小数：允许":"",l?"单位：".concat(l):"",a||0===a?"默认值：".concat(a):"",s?"是否必填：必填":"",p,m&&m.length>0?"分段控制条数：".concat(m.length,"条"):"分段控制：未限制"].filter((function(e){return e})).join("；")}if(2===e.Type){var d,b,f=e.OptionAttribute,h=f.OptionList,v=f.IsRadio,g=f.Allow,O=f.AllowCustomer,x=f.CustomizeValue,y=f.SelectMode,C=f.IsRequired,A=f.UseTimes,S=h.length>0?"选项数量：".concat(h.length):"";h.length>0&&(d=h.filter((function(e){return e.IsChecked})).length,b=h.filter((function(e){return!e.HiddenToCustomer})).length,d=d>0?"默认选中数量：".concat(d):"",b=b>0?"客户显示数量：".concat(b):"");var D=v?"选择方式：单选":"选择方式：多选",k=v?"自定义：不允许":"";return k&&g&&(k="自定义：允许（客户除外",O&&(k="自定义：允许（包含客户"),k+=x?",自定义值:".concat(x,"）"):"）"),[r,S,d,b,D,v&&C?"是否必选：必选":"",k,v?this.getSelectMode(y):"",!v&&A&&A.MaxValue?"项数限制：[".concat(A.MinValue,", ").concat(A.MaxValue,"]"):""].filter((function(e){return e})).join("；")}if(3===e.Type){var N=e.SwitchAttribute,F=N.Words,w=N.OpenValue,I=N.CloseValue,V=N.DefaultOpen;return[r,F?"显示文字：".concat(F):"",w||0===w?"开值：".concat(w):"",I||0===I?"关值：".concat(I):"",V?"默认：开":"默认：关"].filter((function(e){return e})).join("；")}return""},getLocalInfoNames:function(e){var t=s.b.find((function(t){return t.ID===e.Type})),i=e.Group&&e.Group.Name?e.Group.Name:"";if(t){var r="".concat(t.Name,"Attribute");if(e[r]){var n=e[r].IsRequired?"（必填）":"",o=e[r].IsWidthAdaption?"自动宽度":e[r].DisplayWidth?"".concat(e[r].DisplayWidth,"px"):"",l=e.IsNameHidden?"隐藏":"显示",a=e.HiddenToCustomer?"隐藏":"显示",u=this.getDescribeStringify(e);return{TypeStringify:"".concat(t.label).concat(n),widthStringify:o,NameHiddenStringify:l,CustomerHiddenStringify:a,describeStringify:u,GroupNameText:i}}return{TypeStringify:"".concat(t.label),GroupNameText:i}}return{GroupNameText:i}}}},v=(i("291c"),Object(m.a)(h,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-table",{staticClass:"mp-erp-element-template-page-element-table-comp-wrap",staticStyle:{"max-width":"1600px"},attrs:{data:e.localTableData,stripe:"",border:"",fit:""}},[i("el-table-column",{attrs:{prop:"Name",label:"名称",width:"185"}}),i("el-table-column",{attrs:{prop:"GroupNameText",label:"所属元素组",width:"170"}}),e._v(" "),i("el-table-column",{attrs:{prop:"TypeStringify",label:"类型",width:"150"}}),i("el-table-column",{attrs:{prop:"widthStringify",label:"显示宽度",width:"100"}}),i("el-table-column",{attrs:{prop:"NameHiddenStringify",label:"界面隐藏名称",width:"120"}}),i("el-table-column",{attrs:{prop:"CustomerHiddenStringify",label:"客户界面",width:"110"}}),i("el-table-column",{attrs:{prop:"describeStringify",label:"描述","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{label:"操作",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return i("div",{staticClass:"menu-list"},[i("span",{on:{click:function(i){return e.onEditClick(t.row)}}},[i("i"),e._v("编辑")]),i("span",{on:{click:function(i){return e.onRemoveClick(t.row)}}},[i("i"),e._v("删除")])])}}])}),i("div",{attrs:{slot:"empty"},slot:"empty"},[e.loading?i("span",[e._v("加载中...")]):i("span",[e._v("暂无数据")])])],1)}),[],!1,null,null,null)).exports,g=(i("25f0"),{mixins:[Object(f.a)(".mp-erp-element-template-page-element-group-table-comp-wrap .el-table__body-wrapper")],props:{dataList:{default:function(){return[]},type:Array},loading:{type:Boolean,default:!1}},computed:{localTableData:function(){var e=this;return this.dataList&&Array.isArray(this.dataList)&&0!==this.dataList.length?this.dataList.map((function(t){return Object(n.a)({},t,{},e.getLocalInfoNames(t))})):[]}},methods:{onEditClick:function(e){this.$emit("edit",e)},onRemoveClick:function(e){this.$emit("remove",e)},onSortClick:function(e){e.ElementList&&Array.isArray(e.ElementList)&&(e.ElementList.length>1?this.$emit("sort",e):e.ElementList.length<=1&&this.messageBox.failSingleError("操作失败","当前元素组中元素数量不足2个，不支持排序"))},getLocalInfoNames:function(e){var t=e.IsNameHidden,i=e.HiddenToCustomer,r=e.UseTimes,n=e.IsHorizontalDisplay,o=e.ElementList,a=t?"隐藏":"显示",s=i?"隐藏":"显示",u="";if(r&&"[object Object]"===Object.prototype.toString.call(r)){var c=r.MinValue,m=r.MaxValue;!c&&0!==c||!m&&0!==m||(u="".concat(c,"≤ 次数 ≤").concat(m))}return{NameHiddenStringify:a,CustomerHiddenStringify:s,UseTimesText:u,ArrangeText:n?"横排":"竖排",ElementSetText:Object(l.a)(o).sort((function(e,t){return e.Index-t.Index})).map((function(e){return e.Name})).join("、")}}}}),O=(i("d8ac"),Object(m.a)(g,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-table",{staticClass:"mp-erp-element-template-page-element-group-table-comp-wrap",staticStyle:{"max-width":"1600px"},attrs:{data:e.localTableData,stripe:"",border:"",fit:""}},[i("el-table-column",{attrs:{prop:"Name",label:"名称",width:"185"}}),i("el-table-column",{attrs:{prop:"NameHiddenStringify",label:"界面隐藏名称",width:"130"}}),i("el-table-column",{attrs:{prop:"UseTimesText",label:"使用次数",width:"200"}}),i("el-table-column",{attrs:{prop:"ArrangeText",label:"排列方式",width:"130"}}),i("el-table-column",{attrs:{prop:"CustomerHiddenStringify",label:"客户界面",width:"140"}}),i("el-table-column",{attrs:{prop:"ElementSetText",label:"元素集","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{label:"操作",width:"270"},scopedSlots:e._u([{key:"default",fn:function(t){return i("div",{staticClass:"menu-list"},[i("span",{on:{click:function(i){return e.onSortClick(t.row)}}},[i("i"),e._v("元素排序")]),i("span",{on:{click:function(i){return e.onEditClick(t.row)}}},[i("i"),e._v("编辑")]),i("span",{on:{click:function(i){return e.onRemoveClick(t.row)}}},[i("i"),e._v("删除")])])}}])}),i("div",{attrs:{slot:"empty"},slot:"empty"},[e.loading?i("span",[e._v("加载中...")]):i("span",[e._v("暂无数据")])])],1)}),[],!1,null,null,null)).exports,x=i("d4ec"),y=i("bee2"),C=i("ade3"),A=function(){function e(t,i){Object(x.a)(this,e),Object(C.a)(this,"ID",""),Object(C.a)(this,"Name",""),Object(C.a)(this,"PositionID",""),Object(C.a)(this,"IsNameHidden",!1),Object(C.a)(this,"ElementList",[]),Object(C.a)(this,"UseTimes",{MinValue:"",MaxValue:""}),Object(C.a)(this,"IsHorizontalDisplay",!0),Object(C.a)(this,"HiddenToCustomer",!1);var r=t&&"[object Object]"===Object.prototype.toString.call(t);if(i&&i.length>0&&(this.ElementList=i.map((function(e){var i=!1,n=!1,o=!!e.Group;if(r){o=!(!e.Group||t.ID===e.Group.ID);var l=t.ElementList.find((function(t){return e.ID===t.ID}));l&&(i=!0,n=l.ForbidRepeat)}return{ID:e.ID,Name:e.Name,Checked:i,ForbidRepeat:n,Disabled:o,HiddenToCustomer:e.HiddenToCustomer}}))),r){var n=JSON.parse(JSON.stringify(t)),o=n.Name,l=n.ID,a=n.PositionID,s=n.IsNameHidden,u=n.IsHorizontalDisplay,c=n.HiddenToCustomer,m=n.UseTimes;o&&(this.Name=o),l&&(this.ID=l),a&&(this.PositionID=a),s&&(this.IsNameHidden=s),u||(this.IsHorizontalDisplay=u),c&&(this.HiddenToCustomer=c),m&&"[object Object]"===Object.prototype.toString.call(m)&&((m.MinValue||0===m.MinValue)&&(this.UseTimes.MinValue=m.MinValue),(m.MaxValue||0===m.MaxValue)&&(this.UseTimes.MaxValue=m.MaxValue))}}return Object(y.a)(e,null,[{key:"formatSubmitData",value:function(e){var t=JSON.parse(JSON.stringify(e));return t.ElementList=t.ElementList.filter((function(e){return e.Checked&&!e.Disabled})),t}}]),e}(),S={props:{visible:{type:Boolean,default:!1},curData:{type:Object,default:null},ElementList:{type:Array,default:function(){return[]}},PositionID:{type:String,default:""}},components:{CommonDialogComp:a.a},data:function(){return{title:"添加界面元素组",ruleGroupForm:null,rules:{Name:[{required:!0,message:"请输入元素组名称",trigger:"blur"},{min:1,max:10,message:"长度在 1 到 10 个字符",trigger:"blur"}],ElementList:[{validator:this.checkElementList,trigger:"change"}],UseTimes:[{validator:this.checkUseTimes,trigger:"change"}],Arrange:[{validator:this.checkArrange,trigger:"change"}]}}},methods:{onSubmit:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.ruleGroupForm.validate().catch((function(){}));case 2:t.sent&&(i=A.formatSubmitData(e.ruleGroupForm),e.$emit("submit",i));case 4:case"end":return t.stop()}}),t)})))()},onCancle:function(){this.$emit("update:visible",!1)},initEditData:function(){this.ruleGroupForm=new A(this.curData,this.ElementList),this.PositionID&&(this.ruleGroupForm.PositionID=this.PositionID),this.curData?this.title="编辑界面元素组":this.title="添加界面元素组"},onOpen:function(){this.$nextTick(this.initEditData)},onClosed:function(){this.ruleGroupForm=null,this.$refs.ruleGroupForm&&this.$refs.ruleGroupForm.resetFields()},checkElementList:function(e,t,i){0!==this.ruleGroupForm.ElementList.filter((function(e){return e.Checked&&!e.Disabled})).length?i():i(new Error("请选择元素"))},checkUseTimes:function(e,t,i){if(t){var r=t.MinValue,n=t.MaxValue;!r&&0!==r||!n&&0!==n?i(new Error("请填写和补充最大最小值")):this.$utils.getValueIsOrNotNumber(r,!0)&&this.$utils.getValueIsOrNotNumber(n,!0)?0!==r||0!==n?r<0||n<0?i(new Error("输入值不能为负，最大值不可设为-1")):n<r?i(new Error("使用最大值不能小于最小值，请检查")):i():i(new Error("最大最小值不能同时为0")):i(new Error("使用次数最小和最大值都应为整数类型"))}else i(new Error("未获取到使用次数填写数值"))},checkArrange:function(e,t,i){i()}}},D=(i("6368"),Object(m.a)(S,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("CommonDialogComp",{staticClass:"mp-erp-comps-element-template-element-group-dialog-comp-wrap",attrs:{width:"850px",top:"10vh",title:e.title,visible:e.visible},on:{"update:visible":function(t){e.visible=t},submit:e.onSubmit,cancle:e.onCancle,open:e.onOpen,closed:e.onClosed}},[e.ruleGroupForm?i("el-form",{ref:"ruleGroupForm",staticClass:"element-group-ruleGroupForm",attrs:{model:e.ruleGroupForm,rules:e.rules,"label-width":"100px",size:"mini"}},[i("el-form-item",{key:"GroupName",attrs:{label:"名称：",prop:"Name"}},[i("div",{staticClass:"element-name-box"},[i("div",[i("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:"请输入元素组名称",maxlength:"10","show-word-limit":""},model:{value:e.ruleGroupForm.Name,callback:function(t){e.$set(e.ruleGroupForm,"Name","string"==typeof t?t.trim():t)},expression:"ruleGroupForm.Name"}})],1),i("div",{staticClass:"checked-box"},[i("el-checkbox",{staticClass:"checked-item",model:{value:e.ruleGroupForm.IsNameHidden,callback:function(t){e.$set(e.ruleGroupForm,"IsNameHidden",t)},expression:"ruleGroupForm.IsNameHidden"}},[e._v("界面隐藏名称")])],1)])]),i("el-form-item",{key:"GroupElementList",staticClass:"element-box",attrs:{label:"元素：",prop:"ElementList"}},[i("ul",[e._l(e.ruleGroupForm.ElementList,(function(t){return i("li",{key:t.ID},[i("el-checkbox",{staticClass:"element-item",attrs:{disabled:t.Disabled},model:{value:t.Checked,callback:function(i){e.$set(t,"Checked",i)},expression:"it.Checked"}},[e._v(" "+e._s(t.Name)+" ")]),i("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:t.Checked,expression:"it.Checked"}],model:{value:t.ForbidRepeat,callback:function(i){e.$set(t,"ForbidRepeat",i)},expression:"it.ForbidRepeat"}},[e._v("禁止重复")])],1)})),0===e.ElementList.length?i("li",{staticClass:"is-pink is-font-size-12",staticStyle:{width:"520px"}},[e._v("注：[ 当前尚无可用元素，请确保元素已添加，或元素数据已成功获取（未获取成功可刷新尝试） ]")]):e._e()],2)]),i("el-form-item",{key:"GroupUseTimes",staticClass:"use-times-box",attrs:{label:"使用次数：",prop:"UseTimes"}},[i("el-input",{staticStyle:{width:"110px"},attrs:{maxlength:"9"},model:{value:e.ruleGroupForm.UseTimes.MinValue,callback:function(t){e.$set(e.ruleGroupForm.UseTimes,"MinValue",e._n("string"==typeof t?t.trim():t))},expression:"ruleGroupForm.UseTimes.MinValue"}}),i("span",[e._v("≤ 次数 ≤")]),i("el-input",{staticStyle:{width:"110px"},attrs:{maxlength:"9"},model:{value:e.ruleGroupForm.UseTimes.MaxValue,callback:function(t){e.$set(e.ruleGroupForm.UseTimes,"MaxValue",e._n("string"==typeof t?t.trim():t))},expression:"ruleGroupForm.UseTimes.MaxValue"}})],1),i("el-form-item",{key:"GroupArrange",staticClass:"arrange-box",attrs:{label:"排列方式：",prop:"Arrange"}},[i("el-radio-group",{model:{value:e.ruleGroupForm.IsHorizontalDisplay,callback:function(t){e.$set(e.ruleGroupForm,"IsHorizontalDisplay",t)},expression:"ruleGroupForm.IsHorizontalDisplay"}},[i("el-radio",{attrs:{label:!0}},[e._v("横排")]),i("el-radio",{attrs:{label:!1}},[e._v("竖排")])],1)],1)],1):e._e(),i("p",{staticClass:"tips-box"},[i("i",{staticClass:"el-icon-warning"}),e._v(" 注：“禁止重复”指元素组多次使用时，任意一组该元素的值不能和其他组相同")])],1)}),[],!1,null,null,null)).exports,k=i("b76a"),N=i.n(k),F={props:{visible:{type:Boolean,default:!1},SortList:{type:Array,default:function(){return[]}},defaultProps:{type:Object,default:function(){return{key:"ID",lable:"Name",index:"Index"}}}},components:{CommonDialogComp:a.a,draggable:N.a},data:function(){return{localSortList:[],dragOptions:{animation:180,ghostClass:"ghost"}}},methods:{onSubmit:function(){var e=Object(l.a)(this.localSortList);if(this.defaultProps.index){var t=this.defaultProps.index;e=e.map((function(e,i){return Object(n.a)({},e,Object(C.a)({},t,i))}))}this.$emit("submit",e)},onCancle:function(){this.$emit("update:visible",!1)},onOpen:function(){this.$nextTick(this.initEditData)},onClosed:function(){this.localSortList=[]},initEditData:function(){var e=this;if(this.SortList&&Array.isArray(this.SortList)&&this.SortList.length>0){var t=JSON.parse(JSON.stringify(this.SortList));this.localSortList=t.sort((function(t,i){return t[e.defaultProps.index]-i[e.defaultProps.index]}))}}}},w=(i("0cd4"),Object(m.a)(F,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("CommonDialogComp",{staticClass:"mp-erp-comps-common-sort-dialog-comp-wrap",attrs:{width:"650px",top:"15vh",title:"元素排序",visible:e.visible},on:{"update:visible":function(t){e.visible=t},submit:e.onSubmit,cancle:e.onCancle,open:e.onOpen,closed:e.onClosed}},[i("section",{staticClass:"sort-content"},[i("header",[i("p",{staticClass:"tips-box"},[i("i",{staticClass:"el-icon-warning"}),e._v(" 注：元素拖动排序")])]),e.localSortList.length>0?i("main",[i("draggable",e._b({model:{value:e.localSortList,callback:function(t){e.localSortList=t},expression:"localSortList"}},"draggable",e.dragOptions,!1),e._l(e.localSortList,(function(t){return i("div",{key:t[e.defaultProps.key],staticClass:"sort-item"},[e._v(e._s(t[e.defaultProps.lable]))])})),0)],1):e._e()])])}),[],!1,null,null,null)).exports,I=i("2f62"),V={components:{CommonDialogComp:a.a},props:{visible:{type:Boolean,default:!1},list:{type:Array,default:function(){return[]}}},data:function(){return{radio:""}},methods:{onSubmit:function(){this.$emit("submit",this.radio)},onCancle:function(){this.$emit("update:visible",!1)},onOpen:function(){this.radio=""}}},E=(i("b95b"),Object(m.a)(V,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("CommonDialogComp",{staticClass:"mp-erp-comps-element-template-element-group-select-comp-wrap",attrs:{width:"800px",top:"20vh",title:"根据元素组模板添加",visible:e.visible,disabled:!e.radio,cancelText:"关闭"},on:{"update:visible":function(t){e.visible=t},cancle:e.onCancle,submit:e.onSubmit,open:e.onOpen}},[i("el-radio-group",{model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},e._l(e.list,(function(t){return i("el-radio",{key:t.ID,attrs:{label:t.ID}},[e._v(e._s(t.Name))])})),1),e.list&&0===e.list.length?i("p",{staticStyle:{"font-size":"12px",color:"#888E99"}},[e._v("暂无模板数据，可到元素模板页面中添加常用元素组模板")]):e._e(),i("p",{staticClass:"tips-box"},[i("i",{staticClass:"el-icon-warning"}),e._v(" 注：根据元素组模板添加时，会自动添加元素组模板中包含的元素，如有重名请先修改重名元素名称，再选择添加。")])],1)}),[],!1,null,null,null)).exports,T={mixins:[Object(f.a)("main.page-wrap")],props:{ElementDataList:{type:Array,default:function(){return[]}},ElementGroupDataList:{type:Array,default:function(){return[]}},isLoadingElement:{type:Boolean,default:!1},isLoadingGroup:{type:Boolean,default:!1},isCommon:{type:Boolean,default:!1},PositionID:{type:String,default:""},showGroup:{type:Boolean,default:!0},curUseElementModule:{}},components:{ElementDialogComp:b,ElementTableComp:v,ElementGroupDialogComp:D,ElementGroupTableComp:O,CommonSortDialogComp:w,ElementGroupTempSelector:E},computed:Object(n.a)({},Object(I.e)("basicSet",{commonElementList:"ElementDataList"}),{},Object(I.e)("basicSet",{commonGroupList:"ElementGroupDataList"})),data:function(){return{elementVisible:!1,curElementEditData:null,elementGroupVisible:!1,curElementGroupEditData:null,curSortItemData:null,curSortList:[],sortVisible:!1,groupTempVisible:!1}},methods:{onElementTemplateSetClick:function(e){this.curElementEditData=e||null,this.elementVisible=!0},onElementSaveSubmit:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function i(){var r,n,o,l,a,s,u,c;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(e){i.next=2;break}return i.abrupt("return");case 2:return r=e.ID?"编辑":"添加",n=e,2===e.Type&&e.OptionAttribute.UseTimes&&(o=e.OptionAttribute.UseTimes,l=o.MaxValue,a=o.MinValue,l||a||0===a&&0===l||delete n.OptionAttribute.UseTimes),(t.curUseElementModule||0===t.curUseElementModule)&&(n.Module=t.curUseElementModule),n.HiddenToCustomer||delete n.DefaultValue,i.next=9,t.api.getElementSave(n).catch((function(){}));case 9:(s=i.sent)&&200===s.status&&1e3===s.data.Status&&(u={saveType:r,editData:e,ID:s.data.Data},c=function(){t.handleEditSubmitSuccess(u)},t.messageBox.successSingle("".concat(r,"成功!"),c,c));case 11:case"end":return i.stop()}}),i)})))()},handleEditSubmitSuccess:function(e){var t=e.saveType,i=e.editData,r=e.ID;this.$emit("saveElement",{saveType:t,editData:i,ID:r}),this.elementVisible=!1},onElementRemove:function(e){var t,i=this;e&&((this.curUseElementModule||0===this.curUseElementModule)&&(t=this.curUseElementModule),this.messageBox.warnCancelBox("确定删除该元素吗","元素名称：[ ".concat(e.Name," ]"),(function(){i.$emit("removeElement",[e.ID,t])})))},onElementGroupSetClick:function(e){e||this.ElementDataList&&0!==this.ElementDataList.length?(this.curElementGroupEditData=e||null,this.elementGroupVisible=!0):this.messageBox.failSingleError("操作失败","请先添加界面元素")},onElementGroupSaveSubmit:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function i(){var r,n,o,l,a;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(e){i.next=2;break}return i.abrupt("return");case 2:return r=e.ID?"编辑":"添加",n=e,(t.curUseElementModule||0===t.curUseElementModule)&&(n.Module=t.curUseElementModule),i.next=7,t.api.getElementGroupSave(n).catch((function(){}));case 7:(o=i.sent)&&200===o.status&&1e3===o.data.Status&&(l={saveType:r,editData:n,ID:o.data.Data},a=function(){t.handleGroupSaveSuccess(l)},t.messageBox.successSingle("".concat(r,"成功!"),a,a));case 9:case"end":return i.stop()}}),i)})))()},handleGroupSaveSuccess:function(e){var t=e.saveType,i=e.editData,r=e.ID;this.$emit("saveElementGroup",{saveType:t,editData:i,ID:r}),this.elementGroupVisible=!1},onElementGroupRemove:function(e){var t,i=this;e&&((this.curUseElementModule||0===this.curUseElementModule)&&(t=this.curUseElementModule),this.messageBox.warnCancelBox("确定删除该元素组吗","元素组名称：".concat(e.Name),(function(){i.$emit("removeElementGroup",[e.ID,t])})))},onElementGroupCopyClick:function(){this.commonGroupList&&0!==this.commonGroupList.length?this.groupTempVisible=!0:this.messageBox.failSingleError("操作失败","暂无元素组模板，请先到元素模板中添加")},onElementGroupCopySubmit:function(e){var t=this.commonGroupList.find((function(t){return t.ID===e}));if(t){if(this.ElementGroupDataList.map((function(e){return e.Name})).includes(t.Name))return void this.messageBox.failSingleError("添加失败","当前界面元素组中已包含同名元素组，请检查");var i=this.ElementDataList.map((function(e){return e.Name})),r=t.ElementList.find((function(e){return i.includes(e.Name)}));if(r)return void this.messageBox.failSingleError("添加失败","系统将自动新建 [".concat(r.Name,"] 元素，但在当前界面元素中已存在同名元素"));var n={GroupID:e,PositionID:this.PositionID};this.fetchElementGroupCopy(n)}},fetchElementGroupCopy:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function i(){var r,n,o;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return r=e,(t.curUseElementModule||0===t.curUseElementModule)&&(r.Module=t.curUseElementModule),i.next=4,t.api.getElementGroupCopy(r).catch((function(){}));case 4:(n=i.sent)&&200===n.status&&1e3===n.data.Status&&(o=function(){t.$emit("copyGroupSuccess"),t.groupTempVisible=!1},t.messageBox.successSingle("通过元素组模板添加成功",o,o));case 6:case"end":return i.stop()}}),i)})))()},onElementGroupSort:function(e){this.curSortList=e.ElementList,this.curSortItemData=e,this.sortVisible=!0},onSortSubmit:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function i(){var r,n,o;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return r={ID:t.curSortItemData.ID,ElementList:e.map((function(e){return{ID:e.ID,Index:e.Index}}))},i.next=3,t.api.getElementGroupElementSort(r).catch((function(){}));case 3:(n=i.sent)&&200===n.status&&1e3===n.data.Status&&(o=function(){t.handleSortSuccess(r)},t.messageBox.successSingle("排序成功",o,o));case 5:case"end":return i.stop()}}),i)})))()},handleSortSuccess:function(e){this.$emit("sortGroupElementList",e),this.sortVisible=!1}},mounted:function(){this.isCommon||(this.showGroup&&this.$store.dispatch("basicSet/getElementGroupList"),this.$store.dispatch("basicSet/getElementList"))}},L=(i("0c58"),Object(m.a)(T,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("main",{staticClass:"mp-erp-common-comps-basic-setup-element-set-common-comp-wrap"},[i("div",{staticClass:"item-box"},[i("p",[i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onElementTemplateSetClick(null)}}},[e._v("+添加界面元素")])],1),i("ElementTableComp",{attrs:{dataList:e.ElementDataList,loading:e.isLoadingElement},on:{edit:e.onElementTemplateSetClick,remove:e.onElementRemove}})],1),i("ElementDialogComp",{attrs:{visible:e.elementVisible,curData:e.curElementEditData,isCommon:e.isCommon,PositionID:e.PositionID,commonList:e.commonElementList},on:{"update:visible":function(t){e.elementVisible=t},submit:e.onElementSaveSubmit}}),e.showGroup?[i("div",{staticClass:"item-box"},[i("p",[i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onElementGroupSetClick(null)}}},[e._v("+添加界面元素组")]),e.isCommon?e._e():i("span",{staticClass:"blue-span",on:{click:e.onElementGroupCopyClick}},[e._v("根据元素组模板添加")])],1),i("ElementGroupTableComp",{attrs:{dataList:e.ElementGroupDataList,loading:e.isLoadingGroup},on:{edit:e.onElementGroupSetClick,remove:e.onElementGroupRemove,sort:e.onElementGroupSort}})],1),i("ElementGroupDialogComp",{attrs:{visible:e.elementGroupVisible,ElementList:e.ElementDataList,PositionID:e.PositionID,curData:e.curElementGroupEditData},on:{"update:visible":function(t){e.elementGroupVisible=t},submit:e.onElementGroupSaveSubmit}}),i("CommonSortDialogComp",{attrs:{SortList:e.curSortList,visible:e.sortVisible},on:{"update:visible":function(t){e.sortVisible=t},submit:e.onSortSubmit}}),i("ElementGroupTempSelector",{attrs:{visible:e.groupTempVisible,list:e.commonGroupList},on:{"update:visible":function(t){e.groupTempVisible=t},submit:e.onElementGroupCopySubmit}})]:e._e()],2)}),[],!1,null,null,null));t.a=L.exports},"0b0e":function(e,t,i){},"0c58":function(e,t,i){"use strict";var r=i("81ca");i.n(r).a},"0cd4":function(e,t,i){"use strict";var r=i("18dd");i.n(r).a},"0e5d":function(e,t,i){},1029:function(e,t,i){"use strict";var r=i("4ae5");i.n(r).a},1563:function(e,t,i){"use strict";i.d(t,"b",(function(){return s})),i.d(t,"a",(function(){return u})),i.d(t,"c",(function(){return m})),i("7db0"),i("4160"),i("caad"),i("d81d"),i("d3b7"),i("25f0"),i("2532"),i("159b");var r=i("5530"),n=i("d4ec"),o=i("bee2"),l=i("ade3"),a=i("247a"),s=[{Name:"Numberic",ID:1,label:"数字值"},{Name:"Option",ID:2,label:"选择项"},{Name:"Switch",ID:3,label:"开关"}],u=[{Name:"单选按钮",ID:0},{Name:"下拉框",ID:1}],c=function(e,t){var i=e;i[t].DefineList.length>0&&(i[t].DefineList.includes("staff")&&(i[t].Allow=!0),i[t].DefineList.includes("customer")&&(i[t].AllowCustomer=!0)),delete i[t].DefineList},m=function(){function e(t,i){if(Object(n.a)(this,e),Object(l.a)(this,"ID",""),Object(l.a)(this,"Name",""),Object(l.a)(this,"IsNameHidden",!1),Object(l.a)(this,"PositionID",""),Object(l.a)(this,"Type","Numberic"),Object(l.a)(this,"HiddenToCustomer",!1),Object(l.a)(this,"DefaultValue",""),Object(l.a)(this,"Group",null),Object(l.a)(this,"NumbericAttribute",{AllowDecimal:!1,InputContent:"",CheckedValue:"",Unit:"",IsRequired:!1,IsWidthAdaption:!0,DisplayWidth:"",DefineList:[],SectionList:[]}),Object(l.a)(this,"OptionAttribute",{OptionList:[],defaultSingleOption:"",IsWidthAdaption:!0,DisplayWidth:"",DefineList:[],CustomizeValue:"",ChooseType:"single",IsRequired:!1,SelectMode:0,UseTimes:{MinValue:"",MaxValue:""}}),Object(l.a)(this,"SwitchAttribute",{Words:"",OpenValue:"",CloseValue:"",DefaultOpen:!1}),i&&(this.PositionID=i),t&&"[object Object]"===Object.prototype.toString.call(t)){var o=JSON.parse(JSON.stringify(t)),u=o.Name,c=o.Type,m=o.DefaultValue,p=o.HiddenToCustomer,d=o.ID,b=o.IsNameHidden,f=o.NumbericAttribute,h=o.OptionAttribute,v=o.SwitchAttribute,g=o.PositionID,O=o.Group;if(u&&(this.Name=u),c||0===c){var x=function(e,t){var i=e.find((function(e){return e.ID===t}));return i?i.Name:""}(s,c);x&&(this.Type=x)}if((m||0===m)&&(this.DefaultValue="".concat(m)),p&&(this.HiddenToCustomer=p),d&&(this.ID=d),O&&(this.Group=O),b&&(this.IsNameHidden=b),g&&!i&&(this.PositionID=g),1===c&&f){var y=f.Allow,C=f.AllowCustomer,A=f.AllowDecimal,S=f.CheckedValue,D=f.DisplayWidth,k=f.InputContent,N=f.IsRequired,F=f.IsWidthAdaption,w=f.Unit,I=f.SectionList;A&&(this.NumbericAttribute.AllowDecimal=A),k&&(this.NumbericAttribute.InputContent=k),(S||0===S)&&(this.NumbericAttribute.CheckedValue="".concat(S)),D&&(this.NumbericAttribute.DisplayWidth=D),N&&(this.NumbericAttribute.IsRequired=N),F||(this.NumbericAttribute.IsWidthAdaption=F),w&&(this.NumbericAttribute.Unit=w),y&&(this.NumbericAttribute.DefineList=["staff"]),y&&C&&(this.NumbericAttribute.DefineList=["staff","customer"]),I&&I.length>0&&(this.NumbericAttribute.SectionList=I.map((function(e){return Object(r.a)({},e,{key:Object(a.g)(8),Increment:e.Increment?"".concat(e.Increment):"",MinValue:"".concat(e.MinValue),MaxValue:"".concat(e.MaxValue)})})))}if(2===c&&h){var V=h.Allow,E=h.AllowCustomer,T=h.CustomizeValue,L=h.DisplayWidth,_=h.IsRadio,$=h.IsRequired,M=h.IsWidthAdaption,G=h.SelectMode,j=h.UseTimes,R=h.OptionList;if(V&&(this.OptionAttribute.DefineList=["staff"]),V&&E&&(this.OptionAttribute.DefineList=["staff","customer"]),(T||0===T)&&(this.OptionAttribute.CustomizeValue="".concat(T)),L&&(this.OptionAttribute.DisplayWidth=L),_||(this.OptionAttribute.ChooseType="multiple"),$&&(this.OptionAttribute.IsRequired=$),M||(this.OptionAttribute.IsWidthAdaption=M),(G||0===G)&&(this.OptionAttribute.SelectMode=G),R&&R.length>0&&(this.OptionAttribute.OptionList=R.map((function(e){return Object(r.a)({},e,{key:Object(a.g)(8),Value:"".concat(e.Value)})})),_)){var U=this.OptionAttribute.OptionList.find((function(e){return e.IsChecked}));U&&(this.OptionAttribute.defaultSingleOption=U.key)}j&&h.UseTimes.MaxValue&&(this.OptionAttribute.UseTimes.MinValue=j.MinValue,this.OptionAttribute.UseTimes.MaxValue=j.MaxValue)}if(3===c&&v){var W=v.OpenValue,H=v.CloseValue,q=v.DefaultOpen,B=v.Words;B&&(this.SwitchAttribute.Words=B),q&&(this.SwitchAttribute.DefaultOpen=q),(W||0===W)&&(this.SwitchAttribute.OpenValue="".concat(W)),(H||0===H)&&(this.SwitchAttribute.CloseValue="".concat(H))}}}return Object(o.a)(e,null,[{key:"formatSubmitData",value:function(e){if(!e)return null;var t=JSON.parse(JSON.stringify(e)),i=function(e,t){var i=e.find((function(e){return e.Name===t}));return i?i.ID:""}(s,t.Type);if(t.DefaultValue=+t.DefaultValue,i.toString())switch(t.Type=i,t.Type){case 1:c(t,"NumbericAttribute"),delete t.OptionAttribute,delete t.SwitchAttribute;break;case 2:c(t,"OptionAttribute"),function(e){var t=e;if("single"===t.OptionAttribute.ChooseType){if(t.OptionAttribute.IsRadio=!0,t.OptionAttribute.OptionList.forEach((function(e){e.IsChecked=!1})),t.OptionAttribute.defaultSingleOption){var i=t.OptionAttribute.OptionList.find((function(e){return e.key===t.OptionAttribute.defaultSingleOption}));i&&(i.IsChecked=!0)}delete t.OptionAttribute.UseTimes}else"multiple"===t.OptionAttribute.ChooseType&&(t.OptionAttribute.IsRadio=!1,delete t.OptionAttribute.SelectMode,delete t.OptionAttribute.IsRequired);delete t.OptionAttribute.ChooseType,delete t.OptionAttribute.defaultSingleOption}(t),delete t.NumbericAttribute,delete t.SwitchAttribute;break;case 3:delete t.OptionAttribute,delete t.NumbericAttribute}return t}}]),e}()},"18dd":function(e,t,i){},"291c":function(e,t,i){"use strict";var r=i("4c6e");i.n(r).a},"468e":function(e,t,i){"use strict";var r=i("4aae");i.n(r).a},"4aae":function(e,t,i){},"4ae5":function(e,t,i){},"4c6e":function(e,t,i){},6062:function(e,t,i){"use strict";var r=i("6d61"),n=i("6566");e.exports=r("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n)},6368:function(e,t,i){"use strict";var r=i("0b0e");i.n(r).a},6566:function(e,t,i){"use strict";var r=i("9bf2").f,n=i("7c73"),o=i("e2cc"),l=i("0366"),a=i("19aa"),s=i("2266"),u=i("7dd0"),c=i("2626"),m=i("83ab"),p=i("f183").fastKey,d=i("69f3"),b=d.set,f=d.getterFor;e.exports={getConstructor:function(e,t,i,u){var c=e((function(e,r){a(e,c,t),b(e,{type:t,index:n(null),first:void 0,last:void 0,size:0}),m||(e.size=0),null!=r&&s(r,e[u],e,i)})),d=f(t),h=function(e,t,i){var r,n,o=d(e),l=v(e,t);return l?l.value=i:(o.last=l={index:n=p(t,!0),key:t,value:i,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=l),r&&(r.next=l),m?o.size++:e.size++,"F"!==n&&(o.index[n]=l)),e},v=function(e,t){var i,r=d(e),n=p(t);if("F"!==n)return r.index[n];for(i=r.first;i;i=i.next)if(i.key==t)return i};return o(c.prototype,{clear:function(){for(var e=d(this),t=e.index,i=e.first;i;)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete t[i.index],i=i.next;e.first=e.last=void 0,m?e.size=0:this.size=0},delete:function(e){var t=this,i=d(t),r=v(t,e);if(r){var n=r.next,o=r.previous;delete i.index[r.index],r.removed=!0,o&&(o.next=n),n&&(n.previous=o),i.first==r&&(i.first=n),i.last==r&&(i.last=o),m?i.size--:t.size--}return!!r},forEach:function(e){for(var t,i=d(this),r=l(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:i.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!v(this,e)}}),o(c.prototype,i?{get:function(e){var t=v(this,e);return t&&t.value},set:function(e,t){return h(this,0===e?0:e,t)}}:{add:function(e){return h(this,e=0===e?0:e,e)}}),m&&r(c.prototype,"size",{get:function(){return d(this).size}}),c},setStrong:function(e,t,i){var r=t+" Iterator",n=f(t),o=f(r);u(e,t,(function(e,t){b(this,{type:r,target:e,state:n(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,i=e.last;i&&i.removed;)i=i.previous;return e.target&&(e.last=i=i?i.next:e.state.first)?"keys"==t?{value:i.key,done:!1}:"values"==t?{value:i.value,done:!1}:{value:[i.key,i.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),i?"entries":"values",!i,!0),c(t)}}},"6d61":function(e,t,i){"use strict";var r=i("23e7"),n=i("da84"),o=i("94ca"),l=i("6eeb"),a=i("f183"),s=i("2266"),u=i("19aa"),c=i("861d"),m=i("d039"),p=i("1c7e"),d=i("d44e"),b=i("7156");e.exports=function(e,t,i){var f=-1!==e.indexOf("Map"),h=-1!==e.indexOf("Weak"),v=f?"set":"add",g=n[e],O=g&&g.prototype,x=g,y={},C=function(e){var t=O[e];l(O,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(h&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return h&&!c(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(h&&!c(e))&&t.call(this,0===e?0:e)}:function(e,i){return t.call(this,0===e?0:e,i),this})};if(o(e,"function"!=typeof g||!(h||O.forEach&&!m((function(){(new g).entries().next()})))))x=i.getConstructor(t,e,f,v),a.REQUIRED=!0;else if(o(e,!0)){var A=new x,S=A[v](h?{}:-0,1)!=A,D=m((function(){A.has(1)})),k=p((function(e){new g(e)})),N=!h&&m((function(){for(var e=new g,t=5;t--;)e[v](t,t);return!e.has(-0)}));k||((x=t((function(t,i){u(t,x,e);var r=b(new g,t,x);return null!=i&&s(i,r[v],r,f),r}))).prototype=O,O.constructor=x),(D||N)&&(C("delete"),C("has"),f&&C("get")),(N||S)&&C(v),h&&O.clear&&delete O.clear}return y[e]=x,r({global:!0,forced:x!=g},y),d(x,e),h||i.setStrong(x,e,f),x}},"81ca":function(e,t,i){},"8db5":function(e,t,i){},a248:function(e,t,i){},ad32:function(e,t,i){"use strict";var r={model:{prop:"value",event:"change"},props:{visible:{type:Boolean,default:!1},title:{type:String,default:"提示"},width:{default:"30%"},top:{type:String,default:"15vh"},showSubmit:{type:Boolean,default:!0},submitText:{type:String,default:"保存"},dangerText:{type:String,default:"重新生成"},cancelText:{type:String,default:"取消"},disabled:{type:Boolean,default:!1},showDanger:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},computed:{dialogVisible:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}}},data:function(){return{checkList:[]}},methods:{onCancleClick:function(){this.$emit("cancle")},onSubmitClick:function(e){this.dialogVisible&&("BUTTON"===e.target.nodeName?e.target.blur():"BUTTON"===e.target.parentNode.nodeName&&e.target.parentNode.blur(),this.$emit("submit"))},onDangerClick:function(){this.$emit("danger")},onOpen:function(){this.$emit("open")},onOpened:function(){this.$emit("opened")},onClose:function(){this.$emit("close")},onClosed:function(){this.$emit("closed")}}},n=(i("468e"),i("2877")),o=Object(n.a)(r,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticClass:"mp-img-style-header mp-erp-common-dialog-comp-wrap",attrs:{title:e.title,visible:e.dialogVisible,"close-on-click-modal":!1,width:e.width,top:e.top,modal:!1,"before-close":e.onCancleClick},on:{"update:visible":function(t){e.dialogVisible=t},open:e.onOpen,opened:e.onOpened,close:e.onClose,closed:e.onClosed}},[e._t("default"),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e.$slots["foot-tip"]?i("div",[e._t("foot-tip")],2):e._e(),i("p",[e.showSubmit?i("el-button",{attrs:{type:"primary",loading:e.loading,disabled:e.disabled},on:{click:e.onSubmitClick}},[e._v(e._s(e.loading?"加载中":e.submitText))]):e._e(),e.showDanger?i("el-button",{attrs:{type:"danger"},on:{click:e.onDangerClick}},[e._v(e._s(e.dangerText))]):e._e(),i("el-button",{on:{click:e.onCancleClick}},[e._v(e._s(e.cancelText))])],1)])],2)}),[],!1,null,null,null);t.a=o.exports},b95b:function(e,t,i){"use strict";var r=i("8db5");i.n(r).a},bb2f:function(e,t,i){var r=i("d039");e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},d8ac:function(e,t,i){"use strict";var r=i("0e5d");i.n(r).a},d92c:function(e,t,i){"use strict";var r=i("a248");i.n(r).a},daf5:function(e,t,i){"use strict";t.a=function(e){return{data:function(){return{SCROLL_Y:0,SCROLL_X:0}},deactivated:function(){var t=document.querySelector(e);t&&(this.SCROLL_Y=t.scrollTop,this.SCROLL_X=t.scrollLeft)},activated:function(){var t=this,i=document.querySelector(e);i&&(this.$nextTick((function(){i.scrollTop=t.SCROLL_Y,i.scrollLeft=t.SCROLL_X})),setTimeout((function(){i.scrollTop=t.SCROLL_Y,i.scrollLeft=t.SCROLL_X}),2))}}}},f183:function(e,t,i){var r=i("d012"),n=i("861d"),o=i("5135"),l=i("9bf2").f,a=i("90e3"),s=i("bb2f"),u=a("meta"),c=0,m=Object.isExtensible||function(){return!0},p=function(e){l(e,u,{value:{objectID:"O"+ ++c,weakData:{}}})},d=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!n(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,u)){if(!m(e))return"F";if(!t)return"E";p(e)}return e[u].objectID},getWeakData:function(e,t){if(!o(e,u)){if(!m(e))return!0;if(!t)return!1;p(e)}return e[u].weakData},onFreeze:function(e){return s&&d.REQUIRED&&m(e)&&!o(e,u)&&p(e),e}};r[u]=!0}}]);