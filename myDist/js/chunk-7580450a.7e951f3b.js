(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7580450a"],{"10d1":function(t,e,i){"use strict";var n=i("edd1");i.n(n).a},"10e2":function(t,e,i){},"228d":function(t,e,i){},"3a48":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkJBRURDM0JEQkI3QjExRUFCRkM4OTA5RkY4QTEzM0VFIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkJBRURDM0JFQkI3QjExRUFCRkM4OTA5RkY4QTEzM0VFIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QkFFREMzQkJCQjdCMTFFQUJGQzg5MDlGRjhBMTMzRUUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QkFFREMzQkNCQjdCMTFFQUJGQzg5MDlGRjhBMTMzRUUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4rxy6UAAAAy0lEQVR42mJgIAKwbf5pDsQPQTRMjJEITSxA6h4QywLxJyB2++XLfpKJkE1AagcQZ0E18QHxLpA4CwFNu6CKxYE4GoiXQvlLmYnQBAJiQKwHtRkkF8hIhCZksBvoPzcQg4kETW+AuBgjVInQ5AS07TJMANnG2cRqgmsE2rYfSNUD8VNiNIGdCtSkAKTvQxWlAfFkIJbGpwlmoyeULQLEs4A4F4jP4NMEAqAE4I7EB2lOAWowJZQUQRoNgHgVEG8H4p1ATc+JSfgAAQYARRBJE7ECLWIAAAAASUVORK5CYII="},"468e":function(t,e,i){"use strict";var n=i("4aae");i.n(n).a},"4aae":function(t,e,i){},"652c":function(t,e,i){"use strict";var n=i("228d");i.n(n).a},"65e6":function(t,e,i){"use strict";i.r(e);var n=(i("99af"),i("4de4"),i("7db0"),i("c740"),i("caad"),i("d81d"),i("fb6a"),i("a434"),i("b0c0"),i("ac1f"),i("2532"),i("5319"),i("96cf"),i("1da1")),a=i("3835"),o=i("5530"),r=i("2f62"),s=i("3eca"),u=i("ad32"),l={props:{visible:{type:Boolean,default:!1},saveData:{type:Object,default:null}},components:{CommonDialogComp:u.a},computed:{},data:function(){return{title:"添加方案",ruleForm:{ID:"",Name:"",Type:"",ProductID:""}}},methods:{onSubmit:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$refs.ruleForm.validate().catch((function(){}));case 2:e.sent&&t.$emit("submit",t.ruleForm);case 4:case"end":return e.stop()}}),e)})))()},onCancle:function(){this.$emit("update:visible",!1)},onOpen:function(){this.$nextTick(this.initEditData)},onClosed:function(){this.$refs.ruleForm.resetFields()},initEditData:function(){this.title=this.saveData.ID?"编辑方案":"添加方案",this.ruleForm=Object(o.a)({},this.saveData)}}},c=(i("652c"),i("2877")),p=Object(c.a)(l,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("CommonDialogComp",{staticClass:"mp-erp-comps-price-module-price-item-save-dialog-comp-wrap",attrs:{width:"700px",top:"15vh",title:t.title,visible:t.visible},on:{"update:visible":function(e){t.visible=e},submit:t.onSubmit,cancle:t.onCancle,open:t.onOpen,closed:t.onClosed}},[i("el-form",{ref:"ruleForm",attrs:{model:t.ruleForm,"label-width":"100px","hide-required-asterisk":""}},[i("el-form-item",{attrs:{label:"方案名称：",prop:"Name",rules:[{required:!0,message:"方案名称不能为空"}]}},[i("el-input",{attrs:{"show-word-limit":"",maxlength:"8",size:"small"},model:{value:t.ruleForm.Name,callback:function(e){t.$set(t.ruleForm,"Name","string"==typeof e?e.trim():e)},expression:"ruleForm.Name"}})],1)],1)],1)}),[],!1,null,null,null).exports,m={props:{visible:{type:Boolean,default:!1},saveData:{type:Object,default:null}},components:{CommonDialogComp:u.a},computed:{},data:function(){return{title:"添加方案",ruleForm:{solutionID:"",partID:"",radio:!1}}},methods:{onSubmit:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$refs.ruleForm.validate().catch((function(){}));case 2:e.sent&&t.$emit("submit",t.ruleForm);case 4:case"end":return e.stop()}}),e)})))()},onCancle:function(){this.$emit("update:visible",!1)},onOpen:function(){this.$nextTick(this.initEditData)},onClosed:function(){this.$refs.ruleForm.resetFields()},initEditData:function(){this.title=this.saveData.Part&&this.saveData.Part.Name?"设置多个".concat(this.saveData.Part.Name,"混拼默认行为"):"设置混拼默认行为",this.saveData&&this.saveData.Part?this.ruleForm={solutionID:this.saveData.solutionID,partID:this.saveData.Part.ID,radio:!1}:this.$goback()}}},d=(i("de12"),Object(c.a)(m,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("CommonDialogComp",{staticClass:"mp-erp-comps-price-module-price-item-part-mixin-set-save-dialog-comp-wrap",attrs:{width:"700px",top:"15vh",title:t.title,visible:t.visible},on:{"update:visible":function(e){t.visible=e},submit:t.onSubmit,cancle:t.onCancle,open:t.onOpen,closed:t.onClosed}},[i("el-form",{ref:"ruleForm",attrs:{model:t.ruleForm,"label-width":"180px","hide-required-asterisk":""}},[i("el-form-item",{attrs:{label:"默认：",prop:"radio"}},[i("el-radio-group",{model:{value:t.ruleForm.radio,callback:function(e){t.$set(t.ruleForm,"radio",e)},expression:"ruleForm.radio"}},[i("el-radio",{attrs:{label:!0}},[t._v("允许混拼")]),i("el-radio",{attrs:{label:!1}},[t._v("不允许混拼")])],1)],1)],1)],1)}),[],!1,null,null,null)).exports,f=i("bc5c"),v={props:{type:{type:String,default:""},dataList:{type:Array,default:function(){return[]}},titleObj:{type:Object,default:null}},components:{CtrlMenus:f.a},computed:Object(o.a)({},Object(r.e)("priceManage",["MakeupControlTypeList"]),{localTableData:function(){var t=this;return this.dataList&&Array.isArray(this.dataList)&&0!==this.dataList.length?this.dataList.map((function(e){return Object(o.a)({},e,{FilterTypeText:e.Constraint?1===e.Constraint.FilterType?"满足所有":"满足任一":"未知满足关系",result:t.getShowResult(e)})})):[]}}),data:function(){return{}},methods:{onSetupClick:function(t){this.$emit("setup",[this.type,t])},onRemoveClick:function(t){var e=this;this.messageBox.warnCancelNullMsg("确定删除该条设置吗?",(function(){e.$emit("remove",t)}))},getShowResult:function(t){var e=this,i=this.MakeupControlTypeList.find((function(t){return t.ID===+e.type}));if(!i)return["未知结果"];if("尺寸数量"===i.Name){var n=t.LengthFormula,a=t.WidthFormula,o=t.DifferentContentFormula,r=t.PrintNumberFormula,u=function(t,i){var n=t.Value,a=t.FormulaName,o=t.Type,r=i;if(n||0===n)r+=n;else if(a){r+=a;var u=e.$utils.getNameFromListByIDs(o,s.c);u&&(r+=u)}else r+="未获取到";return r};return[u(n||{},"长："),u(a||{},"宽："),u(o||{},"纸张数量："),u(r||{},"印刷份数：")]}return["其它类型，暂未生成对应结果"]}}},b={name:"MakeupCtrl",components:{SolutionSaveDialog:p,SolutionTableCom:(i("10d1"),Object(c.a)(v,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"mp-erp-price-module-makeup-ctrl-table-comp-container"},[t.titleObj?i("header",[i("span",{staticClass:"mp-common-title-wrap"},[t._v(t._s(t.titleObj.title))]),i("span",{staticClass:"blue-span",on:{click:function(e){return t.onSetupClick(null)}}},[t._v(t._s(t.titleObj.btnText))]),t._t("title")],2):t._e(),i("main",[t._l(t.localTableData,(function(e){return i("div",{key:e.ID},[i("div",{staticClass:"condition"},[i("el-tooltip",{attrs:{effect:"light","popper-class":"common-property-condition-text-tips-box",placement:"bottom-start","visible-arrow":!1}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("p",{staticClass:"if-box"},[i("span",{staticClass:"is-origin"},[t._v("如果")]),t._v(" "+t._s(e.FilterTypeText)+"：")]),Array.isArray(e._ConditionText)?t._l(e._ConditionText,(function(n,a){return i("p",{key:n.name+"tips"+a},[a>0?i("span",{staticClass:"type"},[t._v(t._s(1===e.Constraint.FilterType?"且":"或"))]):t._e(),i("span",{staticClass:"name"},[t._v(t._s(n.name))]),i("span",{staticClass:"is-origin"},[t._v(t._s(n.operator))]),i("span",{staticClass:"val"},[t._v(t._s(n.val))]),a===e._ConditionText.length-1?i("span",{staticStyle:{"margin-left":"2px"}},[t._v(" 。")]):i("span",{staticStyle:{"margin-left":"2px"}},[t._v("；")])])})):i("p",[t._v(t._s(e._ConditionText))]),i("p",{staticClass:"if-box",staticStyle:{"margin-right":"5px"}},[i("span",{staticClass:"is-origin"},[t._v(t._s("compare"===t.type?"则必须满足":"则"))])]),t._l(e.result.filter((function(t){return t})),(function(e,n){return i("p",{key:e+n},[t._v(t._s(e))])}))],2),i("div",{staticClass:"common-property-condition-text-content-box"},[i("p",{staticClass:"if-box"},[i("span",{staticClass:"is-origin"},[t._v("如果")]),t._v(" "+t._s(e.FilterTypeText))]),Array.isArray(e._ConditionText)?t._l(e._ConditionText,(function(n,a){return i("p",{key:n.name+"content"+a},[a>0?i("span",{staticClass:"type"},[t._v(t._s(1===e.Constraint.FilterType?"且":"或"))]):t._e(),i("span",[t._v(t._s(n.name))]),i("span",[t._v(t._s(n.operator))]),i("span",[t._v(t._s(n.val))])])})):i("p",[t._v(t._s(e._ConditionText))]),i("p",{staticClass:"if-box",staticStyle:{"margin-left":"10px","margin-right":"5px"}},[i("span",{staticClass:"is-origin"},[t._v(t._s("compare"===t.type?"则必须满足":"则"))])]),i("p",t._l(e.result.filter((function(t){return t})),(function(n,a){return i("em",{key:n+a,staticStyle:{"margin-right":"4px"}},[t._v(t._s(n)+" "),a<e.result.length-1?i("i",{staticStyle:{color:"#33BBD5","font-weight":"700","font-size":"13px"}},[t._v("；")]):t._e()])})),0)],2)])],1),i("span",{staticClass:"priority-box"},[t._v("优先级："+t._s(e.Priority))]),i("CtrlMenus",{on:{edit:function(i){return t.onSetupClick(e)},remove:function(i){return t.onRemoveClick(e)}}})],1)})),0===t.localTableData.length?i("div",[i("span",{staticStyle:{"margin-left":"25px",color:"#a2a2a2"}},[t._v("暂无数据")])]):t._e()],2)])}),[],!1,null,null,null)).exports,PartMixinSetSaveDialog:d},computed:Object(o.a)({},Object(r.e)("priceManage",["MakeupControlTypeList","MakeupLeftPropertyList","MakeupRightPropertyList","SizeNumberPropertyList","PriceManageList"]),{curTypeSolutionList:function(){var t=this;return!this.solutionList||!this.curControlType&&0!==this.curControlType||0===this.solutionList.length?[]:this.solutionList.filter((function(e){return e.Type===t.curControlType}))},curSolutionItem:function(){var t=this;return this.curSolutionID?this.solutionList.find((function(e){return e.ID===t.curSolutionID})):null},localSolutionDataList:function(){var t=this;return Array.isArray(this.MakeupRuleItemList)&&0!==this.MakeupRuleItemList.length?JSON.parse(JSON.stringify(this.MakeupRuleItemList)).map((function(e){var i=e.Constraint,n=s.d.getConstraintAndTextByImperfectConstraint(i,t.MakeupLeftPropertyList,t.MakeupRightPropertyList),r=Object(a.a)(n,2),u=r[0],l=r[1];return Object(o.a)({},e,{Constraint:u,_ConditionText:l})})):[]},curProduct:function(){var t=this;return Array.isArray(this.PriceManageList)&&this.$route.params.id?this.PriceManageList.find((function(e){return e.ID===t.$route.params.id})):null},canMixinMakeupPartList:function(){return this.curProduct?this.curProduct.PartList.filter((function(t){return t.UseTimes&&t.UseTimes.MaxValue>1})):[]},tipsContent:function(){var t="";switch(this.curControlType){case 0:t="注：未设置的产品 / 部件，不拼版";break;case 1:t="注：未指定幅面的产品 / 部件，不拼版";break;case 2:t="适用于画册等需要按折手方式拼版的产品，不设置则认为按1张拼版";break;case 3:t="未指定算法时，使用“考虑通刀”算法";break;case 4:t="未设置的产品 / 部件，按物料数量计算";break;case 5:t="损耗计算先匹配“物料损耗设为”数值的条目，仅匹配一条，如果没有，则损耗设为 0；然后匹配损耗增加条目，可匹配多条进行累加"}return t}}),data:function(){return{curControlType:0,curSolutionID:"",solutionSaveVisible:!1,solutionSaveData:null,solutionList:[],isSolutionListLoading:!0,MakeupRuleItemList:[],isTableDataloading:!1,isPropertyListLoading:!0,mixinSetVisible:!1,mixinSaveData:null,MixtureMakeupList:[]}},methods:{onGobackClick:function(){this.$router.replace("/PriceManageList")},onSolutionSaveClick:function(t){var e=t?this.solutionList.find((function(e){return e.ID===t})):null,i={ID:e?e.ID:"",Name:e?e.Name:"",Type:this.curControlType,ProductID:this.$route.params.id};this.solutionSaveData=i,this.solutionSaveVisible=!0},onSolutionSaveSubmit:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function i(){var n,a,r;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!(n=e.solutionList.find((function(e){return e.Name===t.Name})))){i.next=4;break}return n.ID===t.ID?e.messageBox.failSingleError("保存失败","方案名称未发生更改"):e.messageBox.failSingleError("保存失败","存在相同的方案名称"),i.abrupt("return");case 4:return i.next=6,e.api.getMakeupSolutionSave(t).catch((function(){}));case 6:(a=i.sent)&&1e3===a.data.Status&&(r=function(){if(t.ID){var i=e.solutionList.find((function(e){return e.ID===t.ID}));i&&(i.Name=t.Name)}else e.solutionList.push(Object(o.a)({},t,{ID:a.data.Data})),1===e.curTypeSolutionList.length&&(e.curSolutionID=a.data.Data);e.solutionSaveVisible=!1},e.messageBox.successSingle("保存成功",r,r));case 8:case"end":return i.stop()}}),i)})))()},getMakeupSolutionList:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getMakeupSolutionList(t.$route.params.id).catch((function(){}));case 2:i=e.sent,t.isSolutionListLoading=!1,i&&1e3===i.data.Status&&(t.solutionList=i.data.Data,t.solutionList.length>0&&(t.curSolutionID=t.solutionList[0].ID));case 5:case"end":return e.stop()}}),e)})))()},onRemoveClick:function(){var t=this;this.messageBox.warnCancelBox("确定要删除当前方案吗","方案名称：[ ".concat(this.curSolutionItem?this.curSolutionItem.Name:"未知方案名称"," ]"),(function(){t.getMakeupSolutionRemove()}))},getMakeupSolutionRemove:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var i,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.api.getMakeupSolutionRemove(t.curSolutionID).catch((function(){}));case 2:(i=e.sent)&&1e3===i.data.Status&&(n=function(){var e=t.solutionList.findIndex((function(e){return e.ID===t.curSolutionID}));if(e>-1){t.solutionList.splice(e,1);var i=t.solutionList.slice(e).find((function(e){return e.Type===t.curControlType}));if(i)t.curSolutionID=i.ID;else{var n=t.solutionList.slice(0,e).reverse().find((function(e){return e.Type===t.curControlType}));t.curSolutionID=n?n.ID:""}}},t.messageBox.successSingle("删除成功",n,n));case 4:case"end":return e.stop()}}),e)})))()},getTypeLength:function(t){return this.solutionList.filter((function(e){return e.Type===t})).length},getTitleObj:function(t){var e=this.$utils.getNameFromListByIDs(this.curControlType,this.MakeupControlTypeList),i="+ 添加";[1,4].includes(this.curControlType)&&(i="设置"),[0].includes(this.curControlType)&&(i="+ 添加拼版");var n=i.includes("设置")?"":"设置";return{title:"".concat(t?t.Name:"","产品").concat(e),btnText:"".concat(i).concat(e).concat(n)}},onTableItemRemove:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function i(){var n,a;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(t&&t.ID){i.next=2;break}return i.abrupt("return");case 2:return i.next=4,e.api.getMakeupSolutionItemRemove(t.ID).catch((function(){}));case 4:(n=i.sent)&&1e3===n.data.Status&&(a=function(){e.MakeupRuleItemList=e.MakeupRuleItemList.filter((function(e){return e.ID!==t.ID}))},e.messageBox.successSingle("删除成功",a,a));case 6:case"end":return i.stop()}}),i)})))()},onSetupPageJump:function(t,e,i,n){if(t){var o=Object(a.a)(t,2),r=o[0],s=o[1],u={ProductID:this.$route.params.id,PartID:e||"null",ProductName:this.$route.params.name,PartName:i||"null",SolutionName:this.curSolutionItem.Name,SolutionID:this.curSolutionItem.ID,isMixin:n||!1,setType:r};this.$store.commit("priceManage/setCurMakeupItemEditData",s),this.$router.push({name:"MakeupCtrlConditionSet",params:u})}},getMakeupRuleItemList:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.curSolutionID){e.next=2;break}return e.abrupt("return");case 2:return t.isTableDataloading=!0,e.next=5,t.api.getMakeupRuleItemList(t.curSolutionID).catch((function(){}));case 5:i=e.sent,t.isTableDataloading=!1,i&&1e3===i.data.Status&&(t.MakeupRuleItemList=i.data.Data);case 8:case"end":return e.stop()}}),e)})))()},getTargetItemList:function(t){return Array.isArray(this.localSolutionDataList)?t?this.localSolutionDataList.filter((function(e){return e.PartID===t})):this.localSolutionDataList.filter((function(t){return!t.PartID})):[]},getMixtureMakeupList:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.curSolutionID&&0===t.curControlType){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.api.getMixtureMakeupList(t.curSolutionID).catch((function(){}));case 4:(i=e.sent)&&1e3===i.data.Status&&(t.MixtureMakeupList=i.data.Data);case 6:case"end":return e.stop()}}),e)})))()},onMixinSetSaveSubmit:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function i(){var n,a,o,r;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(t){i.next=3;break}return i.abrupt("return");case 3:return n=t.solutionID,a=t.partID,i.next=6,e.api.getMixtureMakeupChangeDefault(n,a).catch((function(){}));case 6:(o=i.sent)&&1e3===o.data.Status&&(r=function(){},e.messageBox.successSingle("设置成功",r,r));case 8:case"end":return i.stop()}}),i)})))()},getMixtureMakeupChangeDefault:function(t){var e={Part:t,solutionID:this.curSolutionID};this.mixinSaveData=e,this.mixinSetVisible=!0}},watch:{curControlType:function(){this.curTypeSolutionList.length>0?this.curSolutionID=this.curTypeSolutionList[0].ID:this.curSolutionID="",this.MakeupRuleItemList=[]},curSolutionID:function(){this.getMakeupRuleItemList(),this.getMixtureMakeupList()}},mounted:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.getMakeupSolutionList(),e.next=3,t.$store.dispatch("priceManage/getMakeupPropertyList",t.$route.params.id);case 3:t.isPropertyListLoading=!1;case 4:case"end":return e.stop()}}),e)})))()},beforeRouteEnter:function(t,e,i){"MakeupCtrlConditionSet"===e.name?i((function(t){t.getMakeupRuleItemList(),t.getMixtureMakeupList()})):i()}},g=(i("dbb6"),Object(c.a)(b,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"mp-erp-price-manage-makeup-ctrl-page-wrap"},[i("header",[i("p",[t._v("当前产品："+t._s(t.$route.params.name))]),i("el-radio-group",{attrs:{size:"small"},model:{value:t.curControlType,callback:function(e){t.curControlType=e},expression:"curControlType"}},t._l(t.MakeupControlTypeList,(function(e){return i("el-radio-button",{key:e.ID,attrs:{label:e.ID}},[t._v(" "+t._s(e.Name)+"（"+t._s(t.getTypeLength(e.ID))+"） ")])})),1),i("div",{staticClass:"crtl"},[t.isSolutionListLoading?i("span",{staticClass:"is-font-size-12 is-gray"},[t._v(" 方案加载中...")]):i("el-scrollbar",{attrs:{"wrap-class":"scrollbar-wrapper"}},[i("el-radio-group",{attrs:{size:"small"},model:{value:t.curSolutionID,callback:function(e){t.curSolutionID=e},expression:"curSolutionID"}},t._l(t.curTypeSolutionList,(function(e){return i("el-radio-button",{key:e.ID,attrs:{label:e.ID}},[t._v(t._s(e.Name))])})),1)],1),t.isSolutionListLoading||0!==t.curTypeSolutionList.length?t._e():i("span",{staticClass:"is-font-size-12 is-gray"},[t._v("该分类尚无方案，请添加")]),i("span",{staticClass:"blue-span",on:{click:function(e){return t.onSolutionSaveClick(null)}}},[t._v("+添加方案")]),t.curSolutionID?i("div",{staticClass:"menus"},[i("span",{staticClass:"blue-span",on:{click:function(e){return t.onSolutionSaveClick(t.curSolutionID)}}},[t._v("编辑当前方案名称")]),i("span",{staticClass:"red-span",on:{click:t.onRemoveClick}},[t._v("删除当前方案")])]):t._e()],1)],1),i("main",{class:t.isTableDataloading||t.isPropertyListLoading?"loading":""},[i("SolutionSaveDialog",{attrs:{visible:t.solutionSaveVisible,saveData:t.solutionSaveData},on:{"update:visible":function(e){t.solutionSaveVisible=e},submit:t.onSolutionSaveSubmit}}),t.curSolutionItem?[i("SolutionTableCom",{attrs:{type:""+t.curControlType,titleObj:t.getTitleObj(null,t.curControlType),dataList:t.getTargetItemList()},on:{remove:t.onTableItemRemove,setup:function(e){return t.onSetupPageJump(e,"","")}},scopedSlots:t._u([{key:"title",fn:function(){return[i("p",{staticClass:"tips-box"},[i("i",{staticClass:"el-icon-warning"}),t._v(" "+t._s(t.tipsContent))])]},proxy:!0}],null,!1,2001653341)}),t.curProduct&&Array.isArray(t.curProduct.PartList)?t._l(t.curProduct.PartList,(function(e){return i("SolutionTableCom",{key:e.ID,attrs:{type:""+t.curControlType,titleObj:t.getTitleObj(e,t.curControlType),dataList:t.getTargetItemList(e.ID)},on:{remove:t.onTableItemRemove,setup:function(i){return t.onSetupPageJump(i,e.ID,e.Name)}}})})):t._e(),0===t.curControlType?t._l(t.canMixinMakeupPartList,(function(e){return i("SolutionTableCom",{key:e.ID+"mixin",attrs:{type:""+t.curControlType,titleObj:{title:"多个 [ "+e.Name+" ] 混拼设置",btnText:"+ 添加条件"},dataList:[]},on:{remove:t.onTableItemRemove,setup:function(i){return t.onSetupPageJump(i,e.ID,e.Name,!0)}},scopedSlots:t._u([{key:"title",fn:function(){return[i("div",{staticClass:"title-box"},[i("span",{staticClass:"blue-span",on:{click:function(i){return t.getMixtureMakeupChangeDefault(e)}}},[t._v("设置默认")]),i("span",{staticClass:"is-gray is-font-size-12"},[t._v("默认：不混拼")]),i("span",{staticClass:"blue-span"},[t._v("相同条件设置")]),i("span",{staticClass:"is-gray is-font-size-12 crafts"},[t._v("工艺：覆膜 印面 印色 相同工艺：覆膜 印面 印色 相同工艺：覆膜 印面 印色 相同")]),i("span",{staticClass:"blue-span"},[t._v("排除数量设置")]),i("span",{staticClass:"is-gray is-font-size-12"},[t._v("子公式1")])])]},proxy:!0}],null,!0)})})):t._e()]:i("div",[t._m(0)]),i("PartMixinSetSaveDialog",{attrs:{visible:t.mixinSetVisible,saveData:t.mixinSaveData},on:{"update:visible":function(e){t.mixinSetVisible=e},submit:t.onMixinSetSaveSubmit}})],2),i("footer",[i("el-button",{staticClass:"goback",on:{click:t.onGobackClick}},[i("i",{staticClass:"el-icon-d-arrow-left"}),t._v(" 返回")])],1)])}),[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"tips-box is-pink",staticStyle:{margin:"0",width:"300px"}},[i("i",{staticClass:"el-icon-warning"}),t._v(" 请设置并选择分类方案")])}],!1,null,null,null));e.default=g.exports},"6e30":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAQCAYAAAAiYZ4HAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkY3NDlERTgxNzdEMTExRUFCREM5RjNGQzRGRkFBQ0U4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkY3NDlERTgyNzdEMTExRUFCREM5RjNGQzRGRkFBQ0U4Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Rjc0OURFN0Y3N0QxMTFFQUJEQzlGM0ZDNEZGQUFDRTgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6Rjc0OURFODA3N0QxMTFFQUJEQzlGM0ZDNEZGQUFDRTgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7W2NX3AAACRUlEQVR42mxSS2tTQRQ+Z2buKze1MSWpfWB9IAUFFy5EEAT3/gH/gktBxYVb/4GK2I0WYkFw7cqtuOrChRJqMJioTXLbYtPcx9yZ45kkS4cL98zcb873OBdvdtpwCFW4FnyFTrF+65veeBBjXicASq2fXfR/Pr8afHn/Kb0BDTkCVcEU+qYBu+kmjClqMa6tSX4EtxA2e+VyK7NBeGwX4ILXBVWSXDuy8aMRLVZCzNc8sB8s4MChPTRhTkHQLs/uKLIHKfkvcbk9tiMbYygIiHUg0rQ1M/GDMGMiyKyAupwA1tr53SVx3GUmOUP9b/FNRJuRfwpv/9iNvutzTyTYCn+w3NMyQsyR05q7CA0qX5HJMzU0jYd9U3vsoUPRVAx7gJLfvtuzHE0CSr4Vol5VEwr7Vb5fw5P7LLaXgr8VYf6U0+smdvGFD+W9WGTqtz39piDVER6YgeEOVZy0YszecT05I5JXV4K9HZY4ZtDbCItt506BORA+FkMnRGJ5XaEG1ioR6DyfKUNSucROKLjsMAKpJwSYERfAGTcNuxCcrfNgXY2z0AzIBuKUYSD4cMgJQUZRoyRvPgeYA3l4bN8H3XRMHEoiAiyOXPwKymaEmcvFKjQTPi95QwJdsrDgMBJNolgvdzE8lOCSZDk+FLRvliq6kCpAjZoUjCHckFM+GKnMRm72e3+pcie1QcrywoGpff5j6pr/rbAElRY2DjnqMU/IiHX1C1bU/ms2at1suI9maulhybXUbD90ETTF4daqSOCfAAMArfYZ68CyjZgAAAAASUVORK5CYII="},"8c7b":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAPCAYAAADtc08vAAABFElEQVQ4T72TsUoDQRCGv39OL1FQxMIqXSABsbFQ1AfIk4gIqXwB0ScQweewsxAClmKnpWgjBts0IonxdmQDWlxyyWHhVruzs9/s/vOvyI1GZ3AKHOfjE9eiq3FA/wDXEVaM8OCrktZihurXgw0Sr5WqCFhmvWE6/5Bmnz2gqkZn0AcqZQEx74u0mTC8E74SAV5w+MWhJkjy+x60iXEzFRCwPSOcA1t/A3i2K82dCd/5J4DrIlO4+qnmXrm17KNOYssxZqYFd10KqhM1cNHF9fwLwNuG2g7ro37ji8B2nJcTcaYG4RDZUmEbwwzAUyu9H92s0AceTpDtA2MujU+YDZhizRyg/woq/ReAd4W0+djSW6zxDTChl/pgNivTAAAAAElFTkSuQmCC"},ad32:function(t,e,i){"use strict";var n={model:{prop:"value",event:"change"},props:{visible:{type:Boolean,default:!1},title:{type:String,default:"提示"},width:{default:"30%"},top:{type:String,default:"15vh"},showSubmit:{type:Boolean,default:!0},submitText:{type:String,default:"保存"},dangerText:{type:String,default:"重新生成"},cancelText:{type:String,default:"取消"},disabled:{type:Boolean,default:!1},showDanger:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},computed:{dialogVisible:{get:function(){return this.visible},set:function(t){this.$emit("update:visible",t)}}},data:function(){return{checkList:[]}},methods:{onCancleClick:function(){this.$emit("cancle")},onSubmitClick:function(t){this.dialogVisible&&("BUTTON"===t.target.nodeName?t.target.blur():"BUTTON"===t.target.parentNode.nodeName&&t.target.parentNode.blur(),this.$emit("submit"))},onDangerClick:function(){this.$emit("danger")},onOpen:function(){this.$emit("open")},onOpened:function(){this.$emit("opened")},onClose:function(){this.$emit("close")},onClosed:function(){this.$emit("closed")}}},a=(i("468e"),i("2877")),o=Object(a.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticClass:"mp-img-style-header mp-erp-common-dialog-comp-wrap",attrs:{title:t.title,visible:t.dialogVisible,"close-on-click-modal":!1,width:t.width,top:t.top,modal:!1,"before-close":t.onCancleClick},on:{"update:visible":function(e){t.dialogVisible=e},open:t.onOpen,opened:t.onOpened,close:t.onClose,closed:t.onClosed}},[t._t("default"),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t.showSubmit?i("el-button",{attrs:{type:"primary",loading:t.loading,disabled:t.disabled},on:{click:t.onSubmitClick}},[t._v(t._s(t.loading?"加载中":t.submitText))]):t._e(),t.showDanger?i("el-button",{attrs:{type:"danger"},on:{click:t.onDangerClick}},[t._v(t._s(t.dangerText))]):t._e(),i("el-button",{on:{click:t.onCancleClick}},[t._v(t._s(t.cancelText))])],1)],2)}),[],!1,null,null,null);e.a=o.exports},bc5c:function(t,e,i){"use strict";var n={props:{canEdit:{type:Boolean,default:!0},canRemove:{type:Boolean,default:!0},canCopy:{type:Boolean,default:!0},showList:{type:Array,default:function(){return["edit","del"]}}},methods:{onEditClick:function(){this.canEdit&&this.$emit("edit")},onRemoveClick:function(){this.canRemove&&this.$emit("remove")},onCopyClick:function(){this.canCopy&&this.$emit("copy")}}},a=(i("fe9a"),i("2877")),o=Object(a.a)(n,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ctrl-menus-container"},[t.showList.includes("copy")?n("span",{class:t.canCopy?"":"disabled",on:{click:t.onCopyClick}},[n("img",{attrs:{src:i("8c7b"),alt:""}}),n("i",[t._v("拷贝")])]):t._e(),t.showList.includes("edit")?n("span",{class:t.canEdit?"":"disabled",on:{click:t.onEditClick}},[n("img",{attrs:{src:i("3a48"),alt:""}}),n("i",[t._v("编辑")])]):t._e(),t.showList.includes("del")?n("span",{class:t.canRemove?"":"disabled",on:{click:t.onRemoveClick}},[n("img",{attrs:{src:i("6e30"),alt:""}}),n("i",[t._v("删除")])]):t._e()])}),[],!1,null,null,null);e.a=o.exports},c589:function(t,e,i){},cd90:function(t,e,i){},dbb6:function(t,e,i){"use strict";var n=i("c589");i.n(n).a},de12:function(t,e,i){"use strict";var n=i("cd90");i.n(n).a},edd1:function(t,e,i){},fe9a:function(t,e,i){"use strict";var n=i("10e2");i.n(n).a}}]);