(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-cd776706"],{"468e":function(t,e,a){"use strict";var i=a("4aae");a.n(i).a},4787:function(t,e,a){"use strict";var i=a("e6c5");a.n(i).a},"4aae":function(t,e,a){},"5dfe":function(t,e,a){"use strict";var i=a("661b");a.n(i).a},"661b":function(t,e,a){},"9bd8":function(t,e,a){"use strict";a.r(e);var i=(a("ac1f"),a("5319"),a("96cf"),a("1da1")),n=a("5530"),o=a("2f62"),s=a("ad32"),l={props:{visible:{type:Boolean,default:!1},curData:{type:Object,default:null}},components:{CommonDialogComp:s.a},data:function(){return{title:"添加分类",ruleForm:null,rules:{Name:[{required:!0,message:"请输入分类名称",trigger:"blur"},{min:1,max:10,message:"长度在 1 到 10 个字符",trigger:"blur"}]}}},methods:{onSubmit:function(){var t=this;return Object(i.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$refs.ruleForm.validate().catch((function(){}));case 2:e.sent&&t.$emit("submit",t.ruleForm);case 4:case"end":return e.stop()}}),e)})))()},onCancle:function(){this.$emit("update:visible",!1)},onOpen:function(){this.$nextTick(this.initEditData)},onClosed:function(){this.ruleForm=null},initEditData:function(){if(this.title=this.curData?"编辑分类":"添加分类",this.ruleForm={Name:"",ID:""},this.curData){var t=this.curData,e=t.Name,a=t.ID;this.ruleForm={Name:e,ID:a}}}}},r=(a("4787"),a("2877")),c={name:"PrintFormatClassManagePage",components:{BreadthClassSaveDialog:Object(r.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CommonDialogComp",{staticClass:"mp-erp-comps-print-breadth-classify-manage-dialog-comp-wrap",attrs:{width:"700px",top:"18vh",title:t.title,visible:t.visible},on:{"update:visible":function(e){t.visible=e},submit:t.onSubmit,cancle:t.onCancle,open:t.onOpen,closed:t.onClosed}},[t.ruleForm?a("el-form",{ref:"ruleForm",staticClass:"file-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"168px",size:"small"}},[a("el-form-item",{key:"FileName",attrs:{label:"分类名称：",prop:"Name"}},[a("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:"请输入分类名称",maxlength:"10","show-word-limit":""},model:{value:t.ruleForm.Name,callback:function(e){t.$set(t.ruleForm,"Name","string"==typeof e?e.trim():e)},expression:"ruleForm.Name"}})],1)],1):t._e()],1)}),[],!1,null,null,null).exports},computed:Object(n.a)({},Object(o.e)("basicSet",["BreadthCLassList"])),data:function(){return{visible:!1,saveData:null}},methods:{onGoBackClick:function(){this.$router.replace("/PrintFormatList")},onSaveClick:function(t){this.saveData=t||null,this.visible=!0},onSubmit:function(t){var e=this;return Object(i.a)(regeneratorRuntime.mark((function a(){var i,n,o,s;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.api.getBreadthClassSave(t).catch((function(){}));case 2:(i=a.sent)&&200===i.status&&1e3===i.data.Status&&(n=!(!t.ID&&0!==t.ID),o=n?"编辑成功":"添加成功",s=function(){e.$store.commit("basicSet/setBreadthClassSave",{isEdit:n,data:t,ID:i.data.Data}),e.visible=!1},e.messageBox.successSingle(o,s,s));case 4:case"end":return a.stop()}}),a)})))()},onRemoveClick:function(t){var e=this;t&&this.messageBox.warnCancelBox("确定删除该分类吗","分类名称：[ ".concat(t.Name," ]"),(function(){e.$store.dispatch("basicSet/getBreadthClassRemove",t.ID)}))}}},u=(a("5dfe"),Object(r.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"mp-erp-print-breadth-class-manage-page-wrap"},[a("main",[a("p",{staticClass:"menu"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.onSaveClick(null)}}},[t._v("添加分类")])],1),a("ul",{staticClass:"list"},[t._l(t.BreadthCLassList,(function(e){return a("li",{key:e.ID,staticClass:"list-item"},[a("span",[t._v(t._s(e.Name))]),a("div",[a("span",{on:{click:function(a){return t.onSaveClick(e)}}},[a("i"),t._v("编辑")]),a("span",{on:{click:function(a){return t.onRemoveClick(e)}}},[a("i"),t._v("删除")])])])})),0===t.BreadthCLassList.length?a("li",{staticClass:"tip"},[t._v("分类为空，快点击上方按钮添加吧")]):t._e()],2),a("BreadthClassSaveDialog",{attrs:{visible:t.visible,curData:t.saveData},on:{"update:visible":function(e){t.visible=e},submit:t.onSubmit}})],1),a("footer",[a("el-button",{on:{click:t.onGoBackClick}},[t._v("返回")])],1)])}),[],!1,null,null,null));e.default=u.exports},ad32:function(t,e,a){"use strict";var i={model:{prop:"value",event:"change"},props:{visible:{type:Boolean,default:!1},title:{type:String,default:"提示"},width:{default:"30%"},top:{type:String,default:"15vh"},showSubmit:{type:Boolean,default:!0},submitText:{type:String,default:"保存"},dangerText:{type:String,default:"重新生成"},cancelText:{type:String,default:"取消"},disabled:{type:Boolean,default:!1},showDanger:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},computed:{dialogVisible:{get:function(){return this.visible},set:function(t){this.$emit("update:visible",t)}}},data:function(){return{checkList:[]}},methods:{onCancleClick:function(){this.$emit("cancle")},onSubmitClick:function(t){this.dialogVisible&&("BUTTON"===t.target.nodeName?t.target.blur():"BUTTON"===t.target.parentNode.nodeName&&t.target.parentNode.blur(),this.$emit("submit"))},onDangerClick:function(){this.$emit("danger")},onOpen:function(){this.$emit("open")},onOpened:function(){this.$emit("opened")},onClose:function(){this.$emit("close")},onClosed:function(){this.$emit("closed")}}},n=(a("468e"),a("2877")),o=Object(n.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticClass:"mp-img-style-header mp-erp-common-dialog-comp-wrap",attrs:{title:t.title,visible:t.dialogVisible,"close-on-click-modal":!1,width:t.width,top:t.top,modal:!1,"before-close":t.onCancleClick},on:{"update:visible":function(e){t.dialogVisible=e},open:t.onOpen,opened:t.onOpened,close:t.onClose,closed:t.onClosed}},[t._t("default"),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t.$slots["foot-tip"]?a("div",[t._t("foot-tip")],2):t._e(),a("p",[t.showSubmit?a("el-button",{attrs:{type:"primary",loading:t.loading,disabled:t.disabled},on:{click:t.onSubmitClick}},[t._v(t._s(t.loading?"加载中":t.submitText))]):t._e(),t.showDanger?a("el-button",{attrs:{type:"danger"},on:{click:t.onDangerClick}},[t._v(t._s(t.dangerText))]):t._e(),a("el-button",{on:{click:t.onCancleClick}},[t._v(t._s(t.cancelText))])],1)])],2)}),[],!1,null,null,null);e.a=o.exports},e6c5:function(t,e,a){}}]);