(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-38d6115a"],{"0e22":function(t,e,a){},"4d09":function(t,e,a){"use strict";var i=a("0e22");a.n(i).a},5731:function(t,e){t.exports="data:image/png;base64,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"},"6d6b":function(t,e,a){"use strict";var i=a("ce22");a.n(i).a},"7be6":function(t,e,a){},ce22:function(t,e,a){},edc6:function(t,e,a){"use strict";var i=a("7be6");a.n(i).a},ffee:function(t,e,a){"use strict";a.r(e);var i=(a("d81d"),a("ac1f"),a("5319"),a("96cf"),a("1da1")),n=a("5530"),s=a("2f62"),c=(a("99af"),a("4de4"),a("7db0"),a("2909")),r={props:{itemData:{},selectList:{type:Array,default:function(){return[]}}},computed:{curPage:{get:function(){return this.itemData.Page},set:function(t){t!==this.itemData.Page&&this.$emit("getData",this.itemData,t)}},checkList:{get:function(){return this.selectList.map((function(t){return t.ID}))},set:function(t){var e=[].concat(Object(c.a)(this.selectList),Object(c.a)(this.itemData.list)),a=t.map((function(t){return e.find((function(e){return e.ID===t}))||""})).filter((function(t){return!!t}));this.$emit("update:selectList",a)}}}},o=(a("6d6b"),a("2877")),l={components:{SummaryEditDataListComp:Object(o.a)(r,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.itemData?i("section",{staticClass:"mp-statistic-summary-add-edit-select-form-data-list-comp-wrap"},[i("main",[i("el-checkbox-group",{model:{value:t.checkList,callback:function(e){t.checkList=e},expression:"checkList"}},t._l(t.itemData.list,(function(e){return i("el-checkbox",{key:e.ID,attrs:{label:e.ID}},[t._v(t._s(e.Title))])})),1),0!==t.itemData.list.length||t.itemData.loading?t._e():i("div",{staticClass:"null-box"},[i("img",{attrs:{src:a("5731"),alt:""}}),t._m(0)])],1),i("footer",[i("el-pagination",{attrs:{small:"","hide-on-single-page":"",layout:"prev, pager, next","current-page":t.curPage,"page-size":t.itemData.PageSize,total:t.itemData.count},on:{"update:currentPage":function(e){t.curPage=e},"update:current-page":function(e){t.curPage=e}}})],1)]):t._e()}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("span",{staticClass:"is-font-size-12"},[t._v("暂无该类型统计表")])])}],!1,null,null,null).exports},model:{prop:"value",event:"change"},props:{value:{type:Boolean,default:!1},list:{type:Array,default:function(){return[]}}},computed:Object(n.a)({},Object(s.e)("common",["StatisticalFormTypeList"]),{curItemData:function(){return!this.mainData||!this.curIndex&&0!==this.curIndex?null:this.mainData[this.curIndex]}}),data:function(){return{curIndex:0,mainData:null,selectList:[]}},methods:{onOpen:function(){this.selectList=this.list},handleDialogClose:function(){this.$emit("change",!1)},onMenuClick:function(t){this.curIndex!==t&&(this.curIndex=t)},onSubmitClick:function(){this.value&&(this.$emit("update:list",this.selectList),this.handleDialogClose())},getStatisticFormDataList:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(i.a)(regeneratorRuntime.mark((function i(){var n,s,c,r;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return s=!0,c={Page:a,PageSize:(n=t).PageSize,Type:n.ID},n.loading=!0,i.next=6,e.api.getStatisticFormDataList(c,!0).catch((function(){s=!1}));case 6:r=i.sent,n.loading=!1,s&&r&&1e3===r.data.Status&&(n.initialized=!0,n.list=r.data.Data,n.count=r.data.DataNumber,n.initialized||(n.initialized=!0),n.Page!==a&&(n.Page=a));case 9:case"end":return i.stop()}}),i)})))()}},watch:{curItemData:{handler:function(t){t&&!t.initialized&&this.getStatisticFormDataList(t)},immediate:!0}},created:function(){this.mainData=this.StatisticalFormTypeList.map((function(t){return Object(n.a)({},t,{list:[],count:0,Page:1,PageSize:30,initialized:!1,loading:!1})}))}},u={name:"StatisticalSummaryAddEditPage",components:{SummaryEditDialog:(a("edc6"),Object(o.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticClass:"mp-statistic-summary-add-edit-select-form-dialog",attrs:{visible:t.value,width:"950px",modal:!1,"destroy-on-close":"",top:"13vh","before-close":t.handleDialogClose},on:{"update:visible":function(e){t.value=e},open:t.onOpen}},[a("section",{staticClass:"dialog-body-content"},[a("header",[a("span",[t._v("数据类型：")]),a("ul",t._l(t.StatisticalFormTypeList,(function(e,i){return a("li",{key:e.key,class:t.curIndex===i?"active":"",on:{click:function(e){return t.onMenuClick(i)}}},[a("span",[t._v(t._s(e.name))])])})),0)]),a("main",{directives:[{name:"loading",rawName:"v-loading",value:t.curItemData.loading,expression:"curItemData.loading"}]},[a("SummaryEditDataListComp",{attrs:{selectList:t.selectList,itemData:t.curItemData},on:{"update:selectList":function(e){t.selectList=e},"update:select-list":function(e){t.selectList=e},getData:t.getStatisticFormDataList}})],1)]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"is-blue-button",attrs:{type:"primary"},on:{click:t.onSubmitClick}},[t._v("确定")]),a("el-button",{on:{click:t.handleDialogClose}},[t._v("取消")])],1)])}),[],!1,null,null,null)).exports},data:function(){return{ID:"",Title:"",checkedFormList:[]}},computed:Object(n.a)({},Object(s.e)("statistic",["selectFormDialogShow","curEditPanelItemData","considtion4SummaryList"]),{curPageTypeText:function(){return"add"===this.$route.params.type?"添加":"edit"===this.$route.params.type?"编辑":""},dialogVisible:{get:function(){return this.selectFormDialogShow},set:function(t){this.$store.commit("statistic/setSelectFormDialogShow",t)}}}),methods:{onDialogOpenClick:function(){this.dialogVisible=!0},onSubmitClick:function(){var t=this;return Object(i.a)(regeneratorRuntime.mark((function e(){var a,i,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Title){e.next=3;break}return t.messageBox.failSingleError("保存失败","请输入标题"),e.abrupt("return");case 3:if(0!==t.checkedFormList.length){e.next=6;break}return t.messageBox.failSingleError("保存失败","请选择统计图表"),e.abrupt("return");case 6:return(a={Title:t.Title,List:[],ID:t.ID}).List=t.checkedFormList.map((function(t){return{ID:t.ID,Title:t.Title}})),e.next=10,t.api.getStatisticSummarySave(a);case 10:(i=e.sent)&&1e3===i.data.Status&&(n=t.ID?"编辑成功":"添加成功",t.messageBox.successSingle(n,t.onSuccess,t.onSuccess));case 12:case"end":return e.stop()}}),e)})))()},onSuccess:function(){var t=this;return Object(i.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("statistic/getStatisticSummaryDataList",t.considtion4SummaryList.Page);case 2:t.onGoBackClick();case 3:case"end":return e.stop()}}),e)})))()},onGoBackClick:function(){this.$router.replace("/StatisticalSummary")},setInitData:function(){if("edit"===this.$route.params.type){if(!this.curEditPanelItemData)return void this.onGoBackClick();this.Title=this.curEditPanelItemData.Title,this.checkedFormList=this.curEditPanelItemData.List,this.ID=this.curEditPanelItemData.ID}}},created:function(){this.setInitData()},activated:function(){this.setInitData()}},m=(a("4d09"),Object(o.a)(u,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"mp-statistic-summary-add-edit-page-wrap"},[a("header",[a("p",{staticClass:"mp-common-title-wrap"},[t._v(t._s(t.curPageTypeText)+"汇总面板")])]),a("main",[a("p",{staticClass:"inp-wrap"},[a("span",[t._v("面板标题：")]),a("el-input",{attrs:{type:"text",maxlength:"60","show-word-limit":""},model:{value:t.Title,callback:function(e){t.Title=e},expression:"Title"}})],1),a("div",{staticClass:"item"},[a("span",{staticClass:"title"},[t._v("选择统计图表：")]),a("span",{staticClass:"blue-span",on:{click:t.onDialogOpenClick}},[t._v("选择统计图表")])]),a("div",{staticClass:"item"},[a("span",{staticClass:"title"},[t._v("已选统计图表：")]),0===t.checkedFormList.length?a("div",{staticStyle:{color:"#585858","font-size":"12px"}},[t._v("当前尚未选择统计图表，请点击上方选择")]):a("ul",t._l(t.checkedFormList,(function(e){return a("li",{key:e.ID},[a("span",{staticClass:"item-title"},[t._v(t._s(e.Title))]),a("span",[t._v("、")])])})),0)]),a("SummaryEditDialog",{attrs:{list:t.checkedFormList},on:{"update:list":function(e){t.checkedFormList=e}},model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}})],1),a("footer",[a("el-button",{staticClass:"is-blue-button",attrs:{type:"primary"},on:{click:t.onSubmitClick}},[t._v("保存")]),a("el-button",{on:{click:t.onGoBackClick}},[t._v("返回")])],1)])}),[],!1,null,null,null));e.default=m.exports}}]);