(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-cd776706"],{"468e":function(e,t,a){"use strict";var n=a("4aae");a.n(n).a},4787:function(e,t,a){"use strict";var n=a("e6c5");a.n(n).a},"4aae":function(e,t,a){},"5dfe":function(e,t,a){"use strict";var n=a("661b");a.n(n).a},"661b":function(e,t,a){},"9bd8":function(e,t,a){"use strict";a.r(t);var n=(a("ac1f"),a("5319"),a("96cf"),a("1da1")),i=a("5530"),o=a("2f62"),s=a("ad32"),l={props:{visible:{type:Boolean,default:!1},curData:{type:Object,default:null}},components:{CommonDialogComp:s.a},data:function(){return{title:"添加分类",ruleForm:null,rules:{Name:[{required:!0,message:"请输入分类名称",trigger:"blur"},{min:2,max:10,message:"长度在 2 到 10 个字符",trigger:"blur"}]}}},methods:{onSubmit:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.ruleForm.validate().catch((function(){}));case 2:t.sent&&e.$emit("submit",e.ruleForm);case 4:case"end":return t.stop()}}),t)})))()},onCancle:function(){this.$emit("update:visible",!1)},onOpen:function(){this.$nextTick(this.initEditData)},onClosed:function(){this.ruleForm=null},initEditData:function(){if(this.title=this.curData?"编辑分类":"添加分类",this.ruleForm={Name:"",ID:""},this.curData){var e=this.curData,t=e.Name,a=e.ID;this.ruleForm={Name:t,ID:a}}}}},r=(a("4787"),a("2877")),c={name:"PrintFormatClassManagePage",components:{BreadthClassSaveDialog:Object(r.a)(l,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("CommonDialogComp",{staticClass:"mp-erp-comps-print-breadth-classify-manage-dialog-comp-wrap",attrs:{width:"700px",top:"18vh",title:e.title,visible:e.visible},on:{"update:visible":function(t){e.visible=t},submit:e.onSubmit,cancle:e.onCancle,open:e.onOpen,closed:e.onClosed}},[e.ruleForm?a("el-form",{ref:"ruleForm",staticClass:"file-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"168px",size:"small"}},[a("el-form-item",{key:"FileName",attrs:{label:"分类名称：",prop:"Name"}},[a("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:"请输入分类名称",maxlength:"10","show-word-limit":""},model:{value:e.ruleForm.Name,callback:function(t){e.$set(e.ruleForm,"Name","string"==typeof t?t.trim():t)},expression:"ruleForm.Name"}})],1)],1):e._e()],1)}),[],!1,null,null,null).exports},computed:Object(i.a)({},Object(o.e)("basicSet",["BreadthCLassList"])),data:function(){return{visible:!1,saveData:null}},methods:{onGoBackClick:function(){this.$router.replace("/PrintFormatList")},onSaveClick:function(e){this.saveData=e||null,this.visible=!0},onSubmit:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function a(){var n,i,o,s;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.api.getBreadthClassSave(e).catch((function(){}));case 2:(n=a.sent)&&200===n.status&&1e3===n.data.Status&&(i=!(!e.ID&&0!==e.ID),o=i?"编辑成功":"添加成功",s=function(){t.$store.commit("basicSet/setBreadthClassSave",{isEdit:i,data:e,ID:n.data.Data}),t.visible=!1},t.messageBox.successSingle(o,s,s));case 4:case"end":return a.stop()}}),a)})))()},onRemoveClick:function(e){var t=this;e&&this.messageBox.warnCancelBox("确定删除该分类吗","分类名称：[ ".concat(e.Name," ]"),(function(){t.$store.dispatch("basicSet/getBreadthClassRemove",e.ID)}))}}},u=(a("5dfe"),Object(r.a)(c,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"mp-erp-print-breadth-class-manage-page-wrap"},[a("main",[a("p",{staticClass:"menu"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSaveClick(null)}}},[e._v("添加分类")])],1),a("ul",{staticClass:"list"},[e._l(e.BreadthCLassList,(function(t){return a("li",{key:t.ID,staticClass:"list-item"},[a("span",[e._v(e._s(t.Name))]),a("div",[a("span",{on:{click:function(a){return e.onSaveClick(t)}}},[a("i"),e._v("编辑")]),a("span",{on:{click:function(a){return e.onRemoveClick(t)}}},[a("i"),e._v("删除")])])])})),0===e.BreadthCLassList.length?a("li",{staticClass:"tip"},[e._v("分类为空，快点击上方按钮添加吧")]):e._e()],2),a("BreadthClassSaveDialog",{attrs:{visible:e.visible,curData:e.saveData},on:{"update:visible":function(t){e.visible=t},submit:e.onSubmit}})],1),a("footer",[a("el-button",{on:{click:e.onGoBackClick}},[e._v("返回")])],1)])}),[],!1,null,null,null));t.default=u.exports},ad32:function(e,t,a){"use strict";var n={model:{prop:"value",event:"change"},props:{visible:{type:Boolean,default:!1},title:{type:String,default:"提示"},width:{default:"30%"},top:{type:String,default:"15vh"},showSubmit:{type:Boolean,default:!0},submitText:{type:String,default:"保存"},dangerText:{type:String,default:"重新生成"},cancelText:{type:String,default:"取消"},disabled:{type:Boolean,default:!1},showDanger:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},computed:{dialogVisible:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}}},data:function(){return{checkList:[]}},methods:{onCancleClick:function(){this.$emit("cancle")},onSubmitClick:function(e){this.dialogVisible&&("BUTTON"===e.target.nodeName?e.target.blur():"BUTTON"===e.target.parentNode.nodeName&&e.target.parentNode.blur(),this.$emit("submit"))},onDangerClick:function(){this.$emit("danger")},onOpen:function(){this.$emit("open")},onOpened:function(){this.$emit("opened")},onClose:function(){this.$emit("close")},onClosed:function(){this.$emit("closed")}}},i=(a("468e"),a("2877")),o=Object(i.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticClass:"mp-img-style-header mp-erp-common-dialog-comp-wrap",attrs:{title:e.title,visible:e.dialogVisible,"close-on-click-modal":!1,width:e.width,top:e.top,modal:!1,"before-close":e.onCancleClick},on:{"update:visible":function(t){e.dialogVisible=t},open:e.onOpen,opened:e.onOpened,close:e.onClose,closed:e.onClosed}},[e._t("default"),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e.showSubmit?a("el-button",{attrs:{type:"primary",loading:e.loading,disabled:e.disabled},on:{click:e.onSubmitClick}},[e._v(e._s(e.loading?"加载中":e.submitText))]):e._e(),e.showDanger?a("el-button",{attrs:{type:"danger"},on:{click:e.onDangerClick}},[e._v(e._s(e.dangerText))]):e._e(),a("el-button",{on:{click:e.onCancleClick}},[e._v(e._s(e.cancelText))])],1)],2)}),[],!1,null,null,null);t.a=o.exports},e6c5:function(e,t,a){}}]);