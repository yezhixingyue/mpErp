(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0cf5026e"],{"126d":function(t,e,a){"use strict";var i=a("3026");a.n(i).a},"29ec":function(t,e,a){},"2af0":function(t,e,a){"use strict";a("4de4"),a("7db0"),a("c740"),a("caad"),a("d81d"),a("a434"),a("2532");var i=a("3835"),n=a("2909"),l=a("5530"),s=a("aa47"),c=a("c117"),o=a("2f62");e.a={data:function(){return{h:0,sortItem:null,tableKey:this.$utils.getRandomRangeId(8),notify:null,hideColLabelList:[],localShowLabelList:[]}},watch:{h:function(t){this.h=t;var e=document.getElementsByClassName("el-table")[0];e&&(e.style.maxHeight="".concat(t,"px"))},hideColLabelList:function(){var t=this;this.tableColData=this.tableColData.map((function(e){var a=Object(l.a)({},e);return t.hideColLabelList.includes(e.label)?a.show=!1:a.show=!0,a}))},isLeftCollapse:function(t){var e=this;setTimeout((function(){e.setHeightByDebounce()}),t?700:450)}},computed:Object(l.a)({},Object(o.e)("layout",["isLeftCollapse"]),{colLabels:function(){return this.tableColData?this.tableColData.map((function(t){return t.label})):[]},curShowColTableData:function(){return this.tableColData?this.tableColData.filter((function(t){return t.show})):[]}}),methods:{getHeight:function(t,e){var a=document.querySelector("#app > section > main");if(!a)return 600;var i=t?document.querySelector(t):null;return(i?a.offsetHeight-i.offsetHeight:a.offsetHeight)-e},initHeightAuto:function(){var t=this;this.$nextTick((function(){return t.setHeightByDebounce()})),window.addEventListener("resize",this.setHeightByDebounce)},removeHeightAuto:function(){window.removeEventListener("resize",this.setHeightByDebounce)},onHeaderDragend:function(t,e,a){var i=this;if(this.tableColData){var n=this.tableColData.find((function(t){return t.label===a.label}));if(n&&(n.width&&(n.width="".concat(t,"px")),n.minWidth&&(n.minWidth="".concat(t,"px"))),this.sortItem){try{this.sortItem.destroy()}catch(t){}this.$nextTick((function(){i.commonTableSortMixin()}))}}},commonTableSortMixin:function(){if(this.tableColData){var t=document.querySelector(".el-table__header thead tr"),e={onEnd:this.handleSortEnd};try{this.sortItem=s.a.create(t,e)}catch(t){}}},handleSortEnd:function(t){var e=this,a=t.oldIndex-1,l=t.newIndex-1;if(this.curShowColTableData.length<this.tableColData.length&&this.curShowColTableData[a]){var s=this.curShowColTableData[a].label,c=this.tableColData.findIndex((function(t){return t.label===s}));if(c>=0&&(a=c),l>0){var o=this.curShowColTableData[l-1].label,r=this.tableColData.findIndex((function(t){return t.label===o}));r>=0&&(l=r+1)}}var u=Object(n.a)(this.tableColData),h=u.splice(a,1),d=Object(i.a)(h,1)[0];u.splice(l,0,d),this.tableColData=u,this.tableKey=this.$utils.getRandomRangeId(8),this.$nextTick((function(){e.commonTableSortMixin()}))},handleMountedAndActivated:function(){var t=this;if(this.setHeightByDebounce=Object(c.a)(this.setHeight,30),this.initHeightAuto(),this.commonTableSortMixin(),this.tableName){var e=JSON.parse(localStorage.getItem(this.tableName));e.length>0&&(e=e.filter((function(e){return t.colLabels.includes(e)}))),this.hideColLabelList=e}},handleDestroyAndDeactivated:function(){if(this.removeHeightAuto(),this.sortItem)try{this.sortItem.destroy()}catch(t){}},onInfoClick:function(){var t=this,e=this.$createElement;if(this.tableColData){var a=160;this.$refs.oElTable&&this.$refs.oElTable.$el&&this.$refs.oElTable.$el.offsetTop&&(a=this.$refs.oElTable.$el.offsetTop-17),this.localShowLabelList=this.colLabels.filter((function(e){return!t.hideColLabelList.includes(e)}));var i=function(){t.notify&&t.notify.close()},l=function(e){var a=t.localShowLabelList.findIndex((function(t){return t===e}));a>=0?t.localShowLabelList.splice(a,1):t.localShowLabelList.push(e)},s=e("section",{class:"content-box"},[e("main",[e("el-checkbox-group",{attrs:{value:this.localShowLabelList}},[this.tableColData.map((function(t){return e("el-checkbox",{on:{change:function(){return l(t.label)}},attrs:{label:t.label},key:t.label})}))])]),e("footer",[e("el-button",{on:{click:function(){t.hideColLabelList=t.colLabels.filter((function(e){return!t.localShowLabelList.includes(e)})),t.tableName&&localStorage.setItem(t.tableName,JSON.stringify(t.hideColLabelList)),i()}},attrs:{type:"primary"}},["保存"]),e("el-button",{on:{click:i}},["关闭"]),e("span",{class:"span-title-blue",on:{click:function(){var e,a=t.colLabels.filter((function(e){return!t.localShowLabelList.includes(e)}));(e=t.localShowLabelList).push.apply(e,Object(n.a)(a))}}},["重置"]),e("p",{class:"is-gray"},[e("span",["1. 没有被选中的列将会被隐藏"]),e("span",["2. 列显示隐藏设置会缓存至本地，在不清除缓存或版本更新的情况下，下次打开会自动延续本次设置"]),e("span",["3. 中间列可左右拖动（不被缓存）"])])])]);this.notify=this.$notify({title:"设置列显示",customClass:"mp-erp-table-column-show-setup-wrap",duration:0,message:s,offset:a})}}},mounted:function(){this.handleMountedAndActivated()},beforeDestroy:function(){this.handleDestroyAndDeactivated()},activated:function(){this.handleMountedAndActivated()},deactivated:function(){this.handleDestroyAndDeactivated()}}},"2c3d":function(t,e,a){"use strict";var i=a("29ec");a.n(i).a},3026:function(t,e,a){},"3a48":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkJBRURDM0JEQkI3QjExRUFCRkM4OTA5RkY4QTEzM0VFIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkJBRURDM0JFQkI3QjExRUFCRkM4OTA5RkY4QTEzM0VFIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QkFFREMzQkJCQjdCMTFFQUJGQzg5MDlGRjhBMTMzRUUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QkFFREMzQkNCQjdCMTFFQUJGQzg5MDlGRjhBMTMzRUUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4rxy6UAAAAy0lEQVR42mJgIAKwbf5pDsQPQTRMjJEITSxA6h4QywLxJyB2++XLfpKJkE1AagcQZ0E18QHxLpA4CwFNu6CKxYE4GoiXQvlLmYnQBAJiQKwHtRkkF8hIhCZksBvoPzcQg4kETW+AuBgjVInQ5AS07TJMANnG2cRqgmsE2rYfSNUD8VNiNIGdCtSkAKTvQxWlAfFkIJbGpwlmoyeULQLEs4A4F4jP4NMEAqAE4I7EB2lOAWowJZQUQRoNgHgVEG8H4p1ATc+JSfgAAQYARRBJE7ECLWIAAAAASUVORK5CYII="},"6a15":function(t,e,a){},"6e30":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAQCAYAAAAiYZ4HAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkY3NDlERTgxNzdEMTExRUFCREM5RjNGQzRGRkFBQ0U4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkY3NDlERTgyNzdEMTExRUFCREM5RjNGQzRGRkFBQ0U4Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Rjc0OURFN0Y3N0QxMTFFQUJEQzlGM0ZDNEZGQUFDRTgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6Rjc0OURFODA3N0QxMTFFQUJEQzlGM0ZDNEZGQUFDRTgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7W2NX3AAACRUlEQVR42mxSS2tTQRQ+Z2buKze1MSWpfWB9IAUFFy5EEAT3/gH/gktBxYVb/4GK2I0WYkFw7cqtuOrChRJqMJioTXLbYtPcx9yZ45kkS4cL98zcb873OBdvdtpwCFW4FnyFTrF+65veeBBjXicASq2fXfR/Pr8afHn/Kb0BDTkCVcEU+qYBu+kmjClqMa6tSX4EtxA2e+VyK7NBeGwX4ILXBVWSXDuy8aMRLVZCzNc8sB8s4MChPTRhTkHQLs/uKLIHKfkvcbk9tiMbYygIiHUg0rQ1M/GDMGMiyKyAupwA1tr53SVx3GUmOUP9b/FNRJuRfwpv/9iNvutzTyTYCn+w3NMyQsyR05q7CA0qX5HJMzU0jYd9U3vsoUPRVAx7gJLfvtuzHE0CSr4Vol5VEwr7Vb5fw5P7LLaXgr8VYf6U0+smdvGFD+W9WGTqtz39piDVER6YgeEOVZy0YszecT05I5JXV4K9HZY4ZtDbCItt506BORA+FkMnRGJ5XaEG1ioR6DyfKUNSucROKLjsMAKpJwSYERfAGTcNuxCcrfNgXY2z0AzIBuKUYSD4cMgJQUZRoyRvPgeYA3l4bN8H3XRMHEoiAiyOXPwKymaEmcvFKjQTPi95QwJdsrDgMBJNolgvdzE8lOCSZDk+FLRvliq6kCpAjZoUjCHckFM+GKnMRm72e3+pcie1QcrywoGpff5j6pr/rbAElRY2DjnqMU/IiHX1C1bU/ms2at1suI9maulhybXUbD90ETTF4daqSOCfAAMArfYZ68CyjZgAAAAASUVORK5CYII="},"8aa1":function(t,e,a){"use strict";var i=(a("a9e3"),{components:{},props:{showLoading:{type:Boolean,default:!1},pageSize:{type:Number,default:30},count:{type:Number,default:0},handlePageChange:{type:Function,default:function(){}},watchPage:{},center:{type:Boolean,default:!1}},watch:{watchPage:{handler:function(t){var e=this;this.$nextTick((function(){e.currentPage!==t&&(e.currentPage=t)}))},immediate:!0}},methods:{handleCurrentChange:function(t){this.handlePageChange(t)}},data:function(){return{currentPage:1}}}),n=(a("b91d"),a("2877")),l=Object(n.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"count-wrap",class:t.center?"is-center":""},[a("div",{staticClass:"mp-pagination-wrap"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"hide-on-single-page":"","page-size":t.pageSize,"pager-count":5,layout:"prev, pager, next, jumper",total:t.count},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}})],1),t._t("default"),a("span",{staticClass:"count"},[t._v("共检索出"),a("i",[t._v(t._s(t.count))]),t._v("条记录")])],2)}),[],!1,null,null,null);e.a=l.exports},b093:function(t,e,a){"use strict";a.r(e);var i=a("5530"),n=a("2f62"),l={mixins:[a("2af0").a],computed:Object(i.a)({},Object(n.e)("statistic",["isTableDataLoading","statisticSummaryDataList"])),methods:{setHeight:function(){var t=this.getHeight("",207);this.h=t},onPanelViewClick:function(t){this.$router.push({name:"StatisticSummaryView",params:{id:t.ID}})},handleEditClick:function(t){var e=this;this.$store.commit("statistic/setCurEditPanelItemData",t),this.$nextTick((function(){e.$router.push({name:"StatisticalSummarySetting",params:{type:"edit"}})}))},handleDeleteClick:function(t){var e=this,a=t.ID,i=t.Title;this.messageBox.warnCancelBox("确定删除该统计表吗?","统计表标题： [ ".concat(i," ]"),(function(){e.$store.dispatch("statistic/getStatisticSummaryRemove",a)}))}}},s=(a("126d"),a("2877")),c=Object(s.a)(l,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-table",{staticClass:"mp-statistic-summary-page-table-comp-wrap",staticStyle:{width:"100%"},attrs:{"max-height":t.h,height:t.h,fit:"",data:t.statisticSummaryDataList,stripe:"",border:""}},[i("el-table-column",{attrs:{label:"标题","min-width":"360px","show-overflow-tooltip":"",prop:"Title"}}),i("el-table-column",{attrs:{"show-overflow-tooltip":"","min-width":"280px",label:"包含统计表数量"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.List.length))]}}])},[t._v("length ")]),i("el-table-column",{attrs:{"min-width":"520px",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return i("ul",{staticClass:"handle-menus"},[i("li",[i("span",{staticClass:"span-title-blue",on:{click:function(a){return t.onPanelViewClick(e.row)}}},[t._v("查看面板")])]),i("li",{staticClass:"img-menu-box"},[i("span",{staticClass:"is-list-btn",on:{click:function(a){return t.handleEditClick(e.row)}}},[i("img",{attrs:{src:a("3a48"),alt:""}}),i("i",[t._v("编辑")])]),i("span",{staticClass:"is-list-btn",on:{click:function(a){return t.handleDeleteClick(e.row)}}},[i("img",{attrs:{src:a("6e30"),alt:""}}),i("i",[t._v("删除")])])])])}}])}),i("div",{attrs:{slot:"empty"},slot:"empty"},[i("span",{directives:[{name:"show",rawName:"v-show",value:!t.isTableDataLoading,expression:"!isTableDataLoading"}]},[t._v("暂无数据")])])],1)}),[],!1,null,null,null).exports,o={name:"StatisticalSummaryPage",components:{Count:a("8aa1").a,StatisticSummaryListTable:c},computed:Object(i.a)({},Object(n.e)("statistic",["considtion4SummaryList","statisticSummaryDataNumber"])),data:function(){return{isScroll:!1}},methods:{onSummaryPanelAddClick:function(){this.$router.push({name:"StatisticalSummarySetting",params:{type:"add"}})},handlePageChange:function(t){this.$store.dispatch("statistic/getStatisticSummaryDataList",t)}},mounted:function(){this.$store.dispatch("statistic/getStatisticSummaryDataList")}},r=(a("2c3d"),Object(s.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"mp-statistic-panel-list-page-wrap"},[a("header",[a("el-button",{on:{click:t.onSummaryPanelAddClick}},[t._v("添加汇总面板")])],1),a("main",[a("StatisticSummaryListTable",{class:t.isScroll?"opacity-0":""})],1),a("footer",[a("Count",{attrs:{center:"",watchPage:t.considtion4SummaryList.Page,handlePageChange:t.handlePageChange,count:t.statisticSummaryDataNumber,pageSize:t.considtion4SummaryList.PageSize}})],1)])}),[],!1,null,null,null));e.default=r.exports},b91d:function(t,e,a){"use strict";var i=a("6a15");a.n(i).a}}]);