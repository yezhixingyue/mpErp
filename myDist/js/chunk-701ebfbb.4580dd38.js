(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-701ebfbb"],{"11b2":function(t,e,i){"use strict";var n=i("c73b");i.n(n).a},6538:function(t,e,i){"use strict";var n={components:{SelectComp:i("e5bf").a},props:{options:{type:Array,default:function(){return[]}},label:{type:String,default:"下单渠道"},defaultProps:{type:Object,default:function(){return{label:"name",value:"ID"}}},value:{default:"",required:!0},typeList:{type:Array,required:!0},changePropsFunc:{type:Function,default:function(){}},requestFunc:{type:Function,default:function(){}},showLabel:{type:Boolean,default:!0}},computed:{title:function(){return this.value}},methods:{handleChange:function(t){this.changePropsFunc([this.typeList[0],t]),this.requestFunc()}}},a=(i("11b2"),i("2877")),s=Object(a.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"mp-common-comps-order-channel-selector-wrap",class:t.showLabel?"":"ml-15"},[t.showLabel?i("header",[t._v(t._s(t.label)+"：")]):t._e(),i("main",[i("select-comp",{attrs:{options:t.options,defaultProps:t.defaultProps,title:t.title},on:{handleChange:t.handleChange}})],1)])}),[],!1,null,null,null);e.a=s.exports},"66ba":function(t,e,i){"use strict";i.r(e);var n=(i("4de4"),i("ac1f"),i("5319"),i("2909")),a=i("5530"),s=i("2f62"),r=i("6538"),o=(i("96cf"),i("1da1")),c={computed:Object(a.a)({},Object(s.e)("timelimit",["searchCondition","dataList","TimeLimitActiveNames"]),{activeNames:{get:function(){return this.TimeLimitActiveNames},set:function(t){this.$store.commit("timelimit/setTimeLimitActiveNames",t)}}}),methods:{onAddClick:function(t){var e=t.ProductClass;this.$store.commit("timelimit/setSetPageType","add"),this.$store.commit("timelimit/setAddTimeLimitDataInit",e),this.$router.push("/timeLimitSet")},handleDelClick:function(t,e){var i=this,n=t.ID,a=t.ProductString;this.messageBox.warnCancelBox("确定删除该条设置吗","产品名称：".concat(a),Object(o.a)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.api.getProducePeriodRemove(n);case 2:if(1e3===t.sent.data.Status){t.next=5;break}return t.abrupt("return");case 5:a=function(){i.$store.commit("timelimit/removeItemFromDataList",[n,e])},i.messageBox.successSingle("删除成功",(function(){return a()}),(function(){return a()}));case 7:case"end":return t.stop()}}),t)}))))},handleEditClick:function(t){var e=this,i=t.ID;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,s,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.getProducePeriodDetail(i);case 2:if(1e3===(n=t.sent).data.Status){t.next=5;break}return t.abrupt("return");case 5:s=n.data.Data,delete(r=Object(a.a)({},s.ProductClass,{},s)).ProductClass,e.$store.commit("timelimit/setSetPageType","edit"),e.$store.commit("timelimit/setAddTimeLimitDataInit",r),e.$router.push("/timeLimitSet");case 11:case"end":return t.stop()}}),t)})))()}},watch:{}},l=(i("74d2"),i("2877")),u=Object(l.a)(c,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mp-erp-time-limit-list-page-content-wrap"},[0===t.dataList.length?i("div",{staticClass:"empty"},[t._v("暂无数据")]):i("el-collapse",{staticClass:"mp-directory-list-wrap",model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},t._l(t.dataList,(function(e,n){return i("el-collapse-item",{key:n,attrs:{name:n}},[i("template",{slot:"title"},[i("span",{staticClass:"t"},[t._v(t._s(e.ProductClass.FirstLevelName)+" - "+t._s(e.ProductClass.SecondLevelName))]),i("span",{staticClass:"is-gray",on:{click:function(i){return i.stopPropagation(),t.onAddClick(e)}}},[i("i"),t._v("添加工期")]),i("span",{staticStyle:{"font-size":"12px","font-weight":"400",color:"#989898","margin-left":"80px"}},[t._v(" 共 "),i("em",{staticStyle:{color:"#585858","font-weight":"700","font-size":"13px"}},[t._v(t._s(e.count))]),t._v(" 条数据")])]),i("ul",[0===e.List.length?i("li",{staticClass:"is-gray"},[t._v("暂无数据")]):t._l(e.List,(function(e){return i("li",{key:e.ID,staticClass:"item"},[e.ProductString.length>=18?i("el-tooltip",{attrs:{placement:"top-start",transition:"none",content:e.ProductString}},[i("div",[t._v(t._s(e.ProductString))])]):i("div",[t._v(t._s(e.ProductString))]),i("div",[t._v(t._s(e.RecordCount)+"条记录")]),i("div",[i("span",{staticClass:"blue-span",on:{click:function(i){return t.handleEditClick(e)}}},[t._v("编辑")]),i("span",{staticClass:"red-span",on:{click:function(i){return t.handleDelClick(e,n)}}},[t._v("删除")])])],1)}))],2)],2)})),1)],1)}),[],!1,null,null,null).exports,m={name:"timeLimitList",components:{OrderChannelSelector:r.a,ListContentComp:u},computed:Object(a.a)({},Object(s.e)("timelimit",["searchCondition"]),{},Object(s.c)("common",["twoLevelsProductClassify","allProductClassify"]),{ProductLevel1List:function(){if(!this.allProductClassify||0===this.allProductClassify.length)return[];var t=this.allProductClassify.filter((function(t){return 1===t.Level}));return Object(n.a)(t)}}),methods:Object(a.a)({},Object(s.d)("timelimit",["setSearchCondition"]),{requestFunc:function(){this.$store.dispatch("timelimit/fetchTimeLimitList"),this.$store.commit("timelimit/setTimeLimitActiveNames",[])}}),mounted:function(){this.$store.dispatch("common/getProductList"),this.$store.dispatch("common/getAllProductNames"),this.$route.query.notNeedFetch?this.$router.replace("/timeLimitList"):this.$store.dispatch("timelimit/fetchTimeLimitList")}},d=(i("92bb"),Object(l.a)(m,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"mp-erp-time-limit-list-page-wrap"},[i("header",[i("order-channel-selector",{attrs:{options:t.ProductLevel1List,requestFunc:t.requestFunc,changePropsFunc:t.setSearchCondition,typeList:[["classID",""]],value:t.searchCondition.classID,defaultProps:{label:"ClassName",value:"ID"},label:"产品分类"}})],1),i("ListContentComp")],1)}),[],!1,null,null,null));e.default=d.exports},"6b3f":function(t,e,i){"use strict";var n=i("862d");i.n(n).a},"74d2":function(t,e,i){"use strict";var n=i("ddf6");i.n(n).a},"862d":function(t,e,i){},"92bb":function(t,e,i){"use strict";var n=i("b9af");i.n(n).a},b9af:function(t,e,i){},c73b:function(t,e,i){},ddf6:function(t,e,i){},e5bf:function(t,e,i){"use strict";var n={props:{title:{default:"不限"},options:{type:Array,default:function(){return[{value:"",label:"不限"}]}},defaultProps:{type:Object,default:function(){return{label:"label",value:"value"}}},mini:{type:Boolean,default:!1},filterable:{type:Boolean,default:!1}},computed:{value:{get:function(){return this.title},set:function(t){t!==this.title&&this.$emit("handleChange",t)}}}},a=(i("6b3f"),i("2877")),s=Object(a.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-select",{staticClass:"mp-common-select-comp-wrap",class:t.mini?"font-12":"",attrs:{filterable:t.filterable},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,(function(e){return i("el-option",{key:e.value,attrs:{label:e[t.defaultProps.label],value:e[t.defaultProps.value]}})})),1)}),[],!1,null,null,null);e.a=s.exports}}]);