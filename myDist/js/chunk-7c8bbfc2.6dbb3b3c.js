(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7c8bbfc2"],{7424:function(t,e,i){"use strict";i.r(e);var o=(i("4de4"),i("caad"),i("d81d"),i("b0c0"),i("ac1f"),i("2532"),i("5319"),i("96cf"),i("1da1")),a=i("5530"),s=i("2f62"),n={name:"QuotationResultSet",components:{ContionCommonComp:i("9477").a},data:function(){return{PriceID:"",PriceName:"",ProductID:"",ProductName:"",form:{List:[],UseMinPrice:!0}}},computed:Object(a.a)({},Object(s.e)("priceManage",["curPriceItem","curQuotationResultData","QuotationResultPropertyList"]),{checkList:{get:function(){return this.form.List.map((function(t){return t.ID}))},set:function(t){this.form.List=t.map((function(t){return{ID:t}}))}},SolutionList:function(){var t;return(null===(t=this.curPriceItem)||void 0===t?void 0:t.SolutionList)||[]},SolutionListIDs:function(){return this.SolutionList.map((function(t){return t.ID}))}}),methods:{initDataFromPath:function(){var t=this,e=this.curPriceItem,i=e.ID,o=e.Name;if(this.PriceID=i,this.PriceName=o,this.ProductID=this.$route.params.id,this.ProductName=this.$route.params.name,this.curQuotationResultData){var a=this.curQuotationResultData,s=a.UseMinPrice,n=a.List;this.form.UseMinPrice=s,this.form.List=n.filter((function(e){return t.SolutionListIDs.includes(e.ID)}))}},onGoBackClick:function(){this.$router.replace({name:"QuotationResult",params:this.$route.params})},onSubmitClick:function(){var t=this.$refs.oLeftComp.getConditonResult();if(t)if(0!==this.checkList.length){var e=Object(a.a)({},t,{},this.form,{PriceID:this.PriceID});this.submitSave(e)}else this.messageBox.failSingleError("保存失败","请选择方案")},submitSave:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function i(){var o,a,s,n;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e.api.getPriceResultSetup(t).catch((function(){}));case 2:(o=i.sent)&&200===o.status&&1e3===o.data.Status&&(a=!!t.ID,s=a?"编辑成功":"添加成功",n=function(){e.$store.commit("priceManage/setPriceResultItemChange",[t,o.data.Data,e.ProductID,e.PriceID]),e.onGoBackClick()},e.messageBox.successSingle(s,n,n));case 4:case"end":return i.stop()}}),i)})))()}},mounted:function(){this.initDataFromPath()}},r=(i("b0fb"),i("2877")),c=Object(r.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"mp-erp-price-module-quotation-result-setup-page-wrap"},[i("header",[i("span",[t._v("当前产品：")]),i("span",[t._v(t._s(t.ProductName))]),i("span",{staticClass:"name"},[t._v("价格名称："+t._s(t.PriceName))])]),i("main",[i("ContionCommonComp",{ref:"oLeftComp",attrs:{ComparePropertyList:t.QuotationResultPropertyList,PropertyList:t.QuotationResultPropertyList,leftWidth:"45%",curEditData:t.curQuotationResultData,rightTitle:"则使用下列报价方案"}},[i("div",{staticClass:"right-solution-setup-panel"},[i("el-checkbox-group",{model:{value:t.checkList,callback:function(e){t.checkList=e},expression:"checkList"}},t._l(t.SolutionList,(function(e){return i("el-checkbox",{key:e.ID,attrs:{label:e.ID,title:e.Name}},[t._v(t._s(e.Name))])})),1),i("el-radio-group",{model:{value:t.form.UseMinPrice,callback:function(e){t.$set(t.form,"UseMinPrice",e)},expression:"form.UseMinPrice"}},[i("el-radio",{attrs:{label:!0}},[t._v("以上价格选择最低价")]),i("el-radio",{attrs:{label:!1}},[t._v("以上价格选择最高价")])],1),i("div",{staticClass:"tip"},[i("p",{staticClass:"tips-box"},[i("i",{staticClass:"el-icon-warning"}),i("span",[t._v("注：如果报价方案没有报出价格，则不参与比价！")])])])],1)])],1),i("footer",[i("el-button",{attrs:{type:"primary"},on:{click:t.onSubmitClick}},[t._v("保存")]),i("el-button",{staticClass:"go-back",on:{click:t.onGoBackClick}},[t._v("返回")])],1)])}),[],!1,null,null,null);e.default=c.exports},b0fb:function(t,e,i){"use strict";var o=i("de01");i.n(o).a},de01:function(t,e,i){}}]);