(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-5766eb00"],{"02ee":function(t,e,n){"use strict";var i=n("8d94");n.n(i).a},"10e2":function(t,e,n){},3877:function(t,e,n){"use strict";var i=n("d16f");n.n(i).a},"3a48":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkJBRURDM0JEQkI3QjExRUFCRkM4OTA5RkY4QTEzM0VFIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkJBRURDM0JFQkI3QjExRUFCRkM4OTA5RkY4QTEzM0VFIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QkFFREMzQkJCQjdCMTFFQUJGQzg5MDlGRjhBMTMzRUUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QkFFREMzQkNCQjdCMTFFQUJGQzg5MDlGRjhBMTMzRUUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4rxy6UAAAAy0lEQVR42mJgIAKwbf5pDsQPQTRMjJEITSxA6h4QywLxJyB2++XLfpKJkE1AagcQZ0E18QHxLpA4CwFNu6CKxYE4GoiXQvlLmYnQBAJiQKwHtRkkF8hIhCZksBvoPzcQg4kETW+AuBgjVInQ5AS07TJMANnG2cRqgmsE2rYfSNUD8VNiNIGdCtSkAKTvQxWlAfFkIJbGpwlmoyeULQLEs4A4F4jP4NMEAqAE4I7EB2lOAWowJZQUQRoNgHgVEG8H4p1ATc+JSfgAAQYARRBJE7ECLWIAAAAASUVORK5CYII="},"468e":function(t,e,n){"use strict";var i=n("4aae");n.n(i).a},"4aae":function(t,e,n){},"59aa":function(t,e,n){},"67d9":function(t,e,n){"use strict";var i=(n("7db0"),n("4160"),n("159b"),n("96cf"),n("1da1")),a=n("5530"),r=n("ad32"),o={props:{visible:{type:Boolean,default:!1},PropertyList:{type:Array,default:null},warnTitle:{type:String,default:""},title:{type:String,default:"添加子公式"},initDataStr:{type:String,default:""}},components:{CommonDialogComp:r.a},computed:{selectDataList:function(){if(!this.PropertyList||!Array.isArray(this.PropertyList)||0===this.PropertyList.length)return[];var t=[];return this.PropertyList.forEach((function(e){var n=e.Product,i=e.Part,r=e.Group,o=e.Craft;if(n){var s=i?i.ID:n.ID,c=i?i.Name:"产品",l=t.find((function(t){return t.ID===s}));if(l||(l={ID:s,Name:c,Part:null,GroupList:[],CraftList:[]},t.push(l)),o&&r){var u=l.CraftList.find((function(t){return t.ID===o.ID}));u?u.GroupList.push(e):l.CraftList.push(Object(a.a)({},o,{GroupList:[e]}))}!o&&r&&l.GroupList.push(e),o||r||!i||(l.Part=e)}})),t}},data:function(){return{selectValue:""}},methods:{onSubmit:function(){var t=this;return Object(i.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.$emit("submit",t.selectValue);case 1:case"end":return e.stop()}}),e)})))()},onCancle:function(){this.$emit("update:visible",!1)},onOpen:function(){this.$nextTick(this.initEditData)},onClosed:function(){},initEditData:function(){var t=this;if(this.initDataStr){var e=this.PropertyList.find((function(e){return JSON.stringify(e)===t.initDataStr}));this.selectValue=e||""}else this.selectValue=""}}},s=(n("e83a"),n("2877")),c=Object(s.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("CommonDialogComp",{staticClass:"mp-erp-comps-common-sub-formula-add-and-select-dialog-comp-wrap",attrs:{width:"750px",top:"12vh",title:t.title,visible:t.visible,disabled:!t.selectValue},on:{"update:visible":function(e){t.visible=e},submit:t.onSubmit,cancle:t.onCancle,open:t.onOpen,closed:t.onClosed}},[t._l(t.selectDataList,(function(e){return n("div",{key:e.ID,staticClass:"item"},[n("p",[e.Part?n("el-radio",{attrs:{label:e.Part},model:{value:t.selectValue,callback:function(e){t.selectValue=e},expression:"selectValue"}},[t._v(t._s(e.Name))]):n("span",[t._v(t._s(e.Name))])],1),n("div",t._l(e.GroupList,(function(e){return n("el-radio",{key:e.Group.ID,attrs:{label:e},model:{value:t.selectValue,callback:function(e){t.selectValue=e},expression:"selectValue"}},[t._v(t._s(e.Group.Name))])})),1),n("ul",t._l(e.CraftList,(function(e){return n("li",{key:e.ID},[n("span",[t._v(t._s(e.Name)+"：")]),t._l(e.GroupList,(function(e){return n("el-radio",{key:e.Group.ID,attrs:{label:e},model:{value:t.selectValue,callback:function(e){t.selectValue=e},expression:"selectValue"}},[t._v(t._s(e.Group.Name))])}))],2)})),0)])})),t.warnTitle?n("p",{staticClass:"tips-box is-pink"},[n("i",{staticClass:"el-icon-warning"}),t._v(" 注："+t._s(t.warnTitle)+"目标设定后不允许更改")]):t._e()],2)}),[],!1,null,null,null);e.a=c.exports},"6e30":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAQCAYAAAAiYZ4HAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkY3NDlERTgxNzdEMTExRUFCREM5RjNGQzRGRkFBQ0U4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkY3NDlERTgyNzdEMTExRUFCREM5RjNGQzRGRkFBQ0U4Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Rjc0OURFN0Y3N0QxMTFFQUJEQzlGM0ZDNEZGQUFDRTgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6Rjc0OURFODA3N0QxMTFFQUJEQzlGM0ZDNEZGQUFDRTgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7W2NX3AAACRUlEQVR42mxSS2tTQRQ+Z2buKze1MSWpfWB9IAUFFy5EEAT3/gH/gktBxYVb/4GK2I0WYkFw7cqtuOrChRJqMJioTXLbYtPcx9yZ45kkS4cL98zcb873OBdvdtpwCFW4FnyFTrF+65veeBBjXicASq2fXfR/Pr8afHn/Kb0BDTkCVcEU+qYBu+kmjClqMa6tSX4EtxA2e+VyK7NBeGwX4ILXBVWSXDuy8aMRLVZCzNc8sB8s4MChPTRhTkHQLs/uKLIHKfkvcbk9tiMbYygIiHUg0rQ1M/GDMGMiyKyAupwA1tr53SVx3GUmOUP9b/FNRJuRfwpv/9iNvutzTyTYCn+w3NMyQsyR05q7CA0qX5HJMzU0jYd9U3vsoUPRVAx7gJLfvtuzHE0CSr4Vol5VEwr7Vb5fw5P7LLaXgr8VYf6U0+smdvGFD+W9WGTqtz39piDVER6YgeEOVZy0YszecT05I5JXV4K9HZY4ZtDbCItt506BORA+FkMnRGJ5XaEG1ioR6DyfKUNSucROKLjsMAKpJwSYERfAGTcNuxCcrfNgXY2z0AzIBuKUYSD4cMgJQUZRoyRvPgeYA3l4bN8H3XRMHEoiAiyOXPwKymaEmcvFKjQTPi95QwJdsrDgMBJNolgvdzE8lOCSZDk+FLRvliq6kCpAjZoUjCHckFM+GKnMRm72e3+pcie1QcrywoGpff5j6pr/rbAElRY2DjnqMU/IiHX1C1bU/ms2at1suI9maulhybXUbD90ETTF4daqSOCfAAMArfYZ68CyjZgAAAAASUVORK5CYII="},"867c":function(t,e,n){"use strict";n.r(e);var i=(n("99af"),n("4de4"),n("7db0"),n("d81d"),n("b0c0"),n("ac1f"),n("5319"),n("96cf"),n("1da1")),a=n("5530"),r=n("2f62"),o=n("3eca"),s=(n("a15b"),n("bc5c")),c={props:{type:{type:String,default:"risk"},dataList:{type:Array,default:function(){return[]}},PropertyList:{type:Array,default:function(){return[]}}},components:{CtrlMenus:s.a},computed:Object(a.a)({},Object(r.e)("productManage",["ControlTypeList","RiskWarningRangeList","RiskWarningTypeList"]),{localTableData:function(){var t=this;return this.dataList&&Array.isArray(this.dataList)&&0!==this.dataList.length?this.dataList.map((function(e){return Object(a.a)({},e,{FilterTypeText:1===e.Constraint.FilterType?"满足所有":"满足任一",conditionText:t.getConditionText(e.Constraint.ItemList),result:t.getShowResult(e)})})):[]},curTableType:function(){var t=this;return this.tableTypeList.find((function(e){return e.type===t.type}))}}),data:function(){return{tableTypeList:[{title:"界面交互",btnText:"+ 添加交互",type:"interaction"},{title:"对比验证",btnText:"+ 添加对比",type:"compare"},{title:"风险提示",btnText:"+ 添加风险提示",type:"risk"},{title:"子交互",btnText:"+ 添加子交互",type:"subInteraction"},{title:"子对比",btnText:"+ 添加子对比",type:"subCompare"}]}},methods:{onSetupClick:function(t){this.$emit("setup",this.type,t)},onRemoveClick:function(t){this.$emit("remove",t)},getConditionText:function(t){return o.c.getPropertyConditionText(t,this.PropertyList)||"空"},getShowResult:function(t){var e=this,n=t.List,i=t.ControlType,a=this.ControlTypeList.find((function(t){return t.ID===i}));if(!a)return["错误：获取控制类型失败"];if("risk"===a.Name&&Array.isArray(n)&&1===n.length){var r=n[0],s=r.FailTips,c=r.DisplayMode,l=r.AreaList,u=this.$utils.getNameFromListByIDs(l,this.RiskWarningRangeList);u=u?u.join("、"):"";var p=this.$utils.getNameFromListByIDs(c,this.RiskWarningTypeList);return["".concat(u," ").concat(p,"：").concat(s)]}return"risk"===a.Name?["未获取到风险提示内容"]:"interaction"!==a.Name&&"subInteraction"!==a.Name||!Array.isArray(n)?"compare"!==a.Name&&"subCompare"!==a.Name||!Array.isArray(n)?["其它类型，暂未生成对应结果"]:0===n.length?"空":n.map((function(t){var n=t.Property,i=t.Operator,a=t.CompareProperty,r=t.DefaultValue;if(!n||!a)return"";var s=e.$utils.getNameFromListByIDs(i,o.a);s=s||"未知关系";var c=n.DisplayContent.replace(/\[|\]/g,""),l=a.DisplayContent.replace(/\[|\]/g,"");return 255===a.FixedType&&(l=r),"".concat(c," ").concat(s," ").concat(l)})):0===n.length?"空":n.map((function(t){var n=t.Property,i=t.Operator,a=t.OptionList;if(!n)return"";var r=e.$utils.getNameFromListByIDs(i,o.a);r=r||"未知关系";var s=n.DisplayContent.replace(/\[|\]/g,""),c="";if(Array.isArray(a)&&a.length>0){var l=n.ValueType;if(n.OptionList&&n.OptionList.length>0)if(6!==l){var u=e.$utils.getNameFromListByIDs(a,n.OptionList,{label:"Second",value:"First"});Array.isArray(u)&&u.length>1&&(c=" [ ".concat(u.join("/")," ] "))}else c=(c=o.c.getMaterialListShowText(a,n.OptionList))?": ".concat(c):c}return"".concat(r," ").concat(s," ").concat(c)}))}}},l=(n("3877"),n("2877")),u={name:"ProductInteractionList",data:function(){return{ProductID:"",PartID:"",ProductName:"",titleType:"",showTable:!1,visible:!1,setType4SubInteractionAndSubCompare:"",itemData4SubInteractionAndSubCompare:null,subDialogPropertyList:[],initDialogDataStr:""}},components:{CommonInteractionTable:Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"mp-erp-product-module-interaction-risk-warning-table-com-container"},[t.curTableType?n("header",[n("span",{staticClass:"mp-common-title-wrap"},[t._v(t._s(t.curTableType.title))]),n("span",{staticClass:"blue-span",on:{click:function(e){return t.onSetupClick(null)}}},[t._v(t._s(t.curTableType.btnText))])]):t._e(),n("main",t._l(t.localTableData,(function(e){return n("div",{key:e.ID},[n("div",{staticClass:"condition"},[n("el-tooltip",{attrs:{effect:"light","popper-class":"common-property-condition-text-tips-box",placement:"bottom-start","visible-arrow":!1}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("p",{staticClass:"if-box"},[n("span",{staticClass:"is-origin"},[t._v("如果")]),t._v(" "+t._s(e.FilterTypeText)+"：")]),Array.isArray(e.conditionText)?t._l(e.conditionText,(function(i,a){return n("p",{key:i.name+"tips"+a},[a>0?n("span",{staticClass:"type"},[t._v(t._s(1===e.Constraint.FilterType?"且":"或"))]):t._e(),n("span",{staticClass:"name"},[t._v(t._s(i.name))]),n("span",{staticClass:"is-origin"},[t._v(t._s(i.operator))]),n("span",{staticClass:"val"},[t._v(t._s(i.val))]),a===e.conditionText.length-1?n("span",{staticStyle:{"margin-left":"2px"}},[t._v(" 。")]):n("span",{staticStyle:{"margin-left":"2px"}},[t._v("；")])])})):n("p",[t._v(t._s(e.conditionText))]),n("p",{staticClass:"if-box",staticStyle:{"margin-right":"5px"}},[n("span",{staticClass:"is-origin"},[t._v(t._s("compare"===t.type?"则必须满足":"则"))])]),t._l(e.result,(function(e,i){return n("p",{key:e+i},[t._v(t._s(e))])}))],2),n("div",{staticClass:"common-property-condition-text-content-box"},[n("p",{staticClass:"if-box"},[n("span",{staticClass:"is-origin"},[t._v("如果")]),t._v(" "+t._s(e.FilterTypeText))]),Array.isArray(e.conditionText)?t._l(e.conditionText,(function(i,a){return n("p",{key:i.name+"content"+a},[a>0?n("span",{staticClass:"type"},[t._v(t._s(1===e.Constraint.FilterType?"且":"或"))]):t._e(),n("span",[t._v(t._s(i.name))]),n("span",[t._v(t._s(i.operator))]),n("span",[t._v(t._s(i.val))])])})):n("p",[t._v(t._s(e.conditionText))]),n("p",{staticClass:"if-box",staticStyle:{"margin-left":"10px","margin-right":"5px"}},[n("span",{staticClass:"is-origin"},[t._v(t._s("compare"===t.type?"则必须满足":"则"))])]),n("p",t._l(e.result,(function(i,a){return n("em",{key:i+a,staticStyle:{"margin-right":"4px"}},[t._v(t._s(i)+" "),a<e.result.length-1?n("i",{staticStyle:{color:"#33BBD5","font-weight":"700","font-size":"13px"}},[t._v("；")]):t._e()])})),0)],2)])],1),e.target?n("span",{staticClass:"part-name",attrs:{title:e.target.DisplayContent?e.target.DisplayContent.replace(/\[|\]/g,""):"未知"}},[t._v(" "+t._s(e.target.DisplayContent?e.target.DisplayContent.replace(/\[|\]/g,""):"未知")+" ")]):t._e(),n("span",{staticClass:"priority-box"},[t._v("优先级："+t._s(e.Priority))]),n("CtrlMenus",{on:{edit:function(n){return t.onSetupClick(e)},remove:function(n){return t.onRemoveClick(e)}}})],1)})),0)])}),[],!1,null,null,null).exports,SubFormulaAddAndSelectDialog:n("67d9").a},computed:Object(a.a)({},Object(r.e)("productManage",["ProductManageList","ProductModuleKeyIDList","ProductInteractionDataList","ControlTypeList","InteractionLeftPropertyList","InteractionRightPropertyList","CompareLeftPropertyList","CompareRightPropertyList"]),{curProduct:function(){var t=this;return this.ProductID?this.ProductManageList.find((function(e){return e.ID===t.ProductID})):null},curPart:function(){var t=this;return this.PartID&&this.curProduct?this.curProduct.PartList.find((function(e){return e.ID===t.PartID})):null},localInteractionDataList:function(){var t=this;return Array.isArray(this.ProductInteractionDataList)&&0!==this.ProductInteractionDataList.length?JSON.parse(JSON.stringify(this.ProductInteractionDataList)).map((function(e){var n=e.Constraint,i=e.List.map((function(e){var n=e.Property,i=e.CompareProperty;return n?(i&&n?(n=o.c.getPerfectPropertyByImperfectProperty(n,t.CompareLeftPropertyList),i=o.c.getPerfectPropertyByImperfectProperty(i,t.CompareRightPropertyList)):n&&(n=o.c.getPerfectPropertyByImperfectProperty(n,t.InteractionRightPropertyList)),Object(a.a)({},e,{Property:n,CompareProperty:i})):e})),r=[];return n&&(r=n.ItemList.map((function(e){var n=e.Property,i=e.ValueList;return Array.isArray(i)&&1===i.length&&!i[0].Value&&i[0].Property&&(i[0].Property=o.c.getPerfectPropertyByImperfectProperty(i[0].Property,t.InteractionLeftPropertyList)),Object(a.a)({},e,{Property:o.c.getPerfectPropertyByImperfectProperty(n,t.InteractionLeftPropertyList),ValueList:i})})).filter((function(t){return t.Property}))),Object(a.a)({},e,{Constraint:Object(a.a)({},n,{ItemList:r}),List:i})})):[]},RiskWarningDataList:function(){return this.getTargetDataList("risk")},InteractionDataList:function(){return this.getTargetDataList("interaction")},CompareDataList:function(){return this.getTargetDataList("compare")},subInteractionDataList:function(){return this.getTargetDataList("subInteraction")},subCompareDataList:function(){return this.getTargetDataList("subCompare")},dialogTitle:function(){return"subCompare"===this.setType4SubInteractionAndSubCompare?"添加子对比":"subInteraction"===this.setType4SubInteractionAndSubCompare?"添加子交互":""}}),methods:{getPositionID:function(){var t=this;return Object(i.a)(regeneratorRuntime.mark((function e(){var n,i,a,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$route.params){e.next=3;break}return t.onGoBackClick(),e.abrupt("return");case 3:if(n=t.$route.params,i=n.ProductID,a=n.PartID,r=n.name,o=n.type,i&&a&&r&&o){e.next=7;break}return t.onGoBackClick(),e.abrupt("return");case 7:return t.ProductID=i,t.PartID="null"!==a?a:"",t.ProductName=r,t.titleType=o,t.getProductOrderData(),t.getPropertyList4SubInteractionAndSubCompare(),e.next=15,t.$store.dispatch("productManage/getInteractionPropertyList",t.ProductID);case 15:t.showTable=!0;case 16:case"end":return e.stop()}}),e)})))()},getProductOrderData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["Interaction"];return Object(i.a)(regeneratorRuntime.mark((function n(){var i,a,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=t.PartID?t.PartID:t.ProductID,a=t.$utils.getIDFromListByNames(e,t.ProductModuleKeyIDList),r={ID:i,List:a},t.loading=!0,n.next=6,t.$store.dispatch("productManage/getProductInteractionDataList",r);case 6:t.loading=!1;case 7:case"end":return n.stop()}}),n)})))()},onGoBackClick:function(){this.$router.replace("/ProductManageList")},handleJumpToNewPage:function(t,e){this.$store.commit("productManage/setCurInteractionData",e);var n=this.ProductID,i=this.ProductName,a=this.titleType,r=this.PartID?this.PartID:"null",o="/ProductInteractionSet/".concat(n,"/").concat(r,"/").concat(i,"/").concat(a,"/").concat(t,"/").concat(Date.now());this.$router.push(o)},onSetupPageJump:function(t,e){var n=this;return Object(i.a)(regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if("subCompare"===t||"subInteraction"===t){i.next=4;break}n.handleJumpToNewPage(t,e),i.next=8;break;case 4:return i.next=6,n.getPropertyList4SubInteractionAndSubCompare();case 6:i.sent&&(n.setType4SubInteractionAndSubCompare=t,n.itemData4SubInteractionAndSubCompare=e,e&&e.target?(a=JSON.stringify(e.target),n.initDialogDataStr="{}"!==a?a:""):n.initDialogDataStr="",n.visible=!0);case 8:case"end":return i.stop()}}),i)})))()},getTargetDataList:function(t){var e=this;if(!t||!Array.isArray(this.localInteractionDataList)||0===this.localInteractionDataList.length)return[];var n=this.$utils.getIDFromListByNames(t,this.ControlTypeList),i=this.localInteractionDataList.filter((function(t){return t.ControlType===n}));return"subCompare"!==t&&"subInteraction"!==t||(i=i.map((function(t){return Object(a.a)({},t,{target:e.getItemTarget(t,e.subDialogPropertyList)})}))),i},getItemTarget:function(t,e){var n=t.ProductID,i=t.PartID,a=t.CraftID,r=t.GroupID;return e.find((function(t){var e=t.Product,o=t.Part,s=t.Craft,c=t.Group;return!!((e&&n&&e.ID===n||!e&&!n)&&(o&&i&&o.ID===i||!o&&!i)&&(s&&a&&s.ID===a||!s&&!a)&&(c&&r&&c.ID===r||!c&&!r))}))||{}},getPropertyList4SubInteractionAndSubCompare:function(){var t=this;return Object(i.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.subDialogPropertyList&&Array.isArray(t.subDialogPropertyList)&&t.subDialogPropertyList.length>0)){e.next=2;break}return e.abrupt("return",!0);case 2:return e.next=4,t.api.getSubformulaUseableProperty(t.ProductID).catch((function(){}));case 4:if(!(n=e.sent)||1e3!==n.data.Status){e.next=8;break}return t.subDialogPropertyList=n.data.Data,e.abrupt("return",!0);case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e)})))()},onSelectCompleted:function(t){t&&(this.$store.commit("productManage/setSubTargetData",t),this.handleJumpToNewPage(this.setType4SubInteractionAndSubCompare,this.itemData4SubInteractionAndSubCompare))},onTableItemRemove:function(t){var e=this;if(t){var n=this.ControlTypeList.find((function(e){return e.ID===t.ControlType})),i=n?"交互类型：[ ".concat(n.label," ]"):"";this.messageBox.warnCancelBox("确定删除该条设置吗",i,(function(){e.$store.dispatch("productManage/getProductControlRemove",t.ID)}))}}},mounted:function(){this.getPositionID()}},p=(n("02ee"),Object(l.a)(u,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"mp-erp-product-list-page-product-interaction-list-page-wrap"},[n("header",[n("span",[t._v("当前"+t._s(t.titleType)+"：")]),n("span",[t._v(t._s(t.ProductName))])]),n("main",[t.showTable?[n("CommonInteractionTable",{attrs:{type:"interaction",dataList:t.InteractionDataList,PropertyList:t.InteractionLeftPropertyList},on:{remove:t.onTableItemRemove,setup:t.onSetupPageJump}}),n("CommonInteractionTable",{attrs:{type:"compare",dataList:t.CompareDataList,PropertyList:t.InteractionLeftPropertyList},on:{remove:t.onTableItemRemove,setup:t.onSetupPageJump}}),n("CommonInteractionTable",{attrs:{type:"risk",dataList:t.RiskWarningDataList,PropertyList:t.InteractionLeftPropertyList},on:{remove:t.onTableItemRemove,setup:t.onSetupPageJump}}),n("CommonInteractionTable",{attrs:{type:"subInteraction",dataList:t.subInteractionDataList,PropertyList:t.InteractionLeftPropertyList},on:{remove:t.onTableItemRemove,setup:t.onSetupPageJump}}),n("CommonInteractionTable",{attrs:{type:"subCompare",dataList:t.subCompareDataList,PropertyList:t.InteractionLeftPropertyList},on:{remove:t.onTableItemRemove,setup:t.onSetupPageJump}}),n("SubFormulaAddAndSelectDialog",{attrs:{visible:t.visible,PropertyList:t.subDialogPropertyList,title:t.dialogTitle,initDataStr:t.initDialogDataStr},on:{"update:visible":function(e){t.visible=e},submit:t.onSelectCompleted}})]:t._e()],2),n("footer",[n("el-button",{on:{click:t.onGoBackClick}},[n("i",{staticClass:"el-icon-d-arrow-left"}),t._v(" 返回")])],1)])}),[],!1,null,null,null));e.default=p.exports},"8d94":function(t,e,n){},ad32:function(t,e,n){"use strict";var i={model:{prop:"value",event:"change"},props:{visible:{type:Boolean,default:!1},title:{type:String,default:"提示"},width:{default:"30%"},top:{type:String,default:"15vh"},showSubmit:{type:Boolean,default:!0},submitText:{type:String,default:"保存"},dangerText:{type:String,default:"重新生成"},cancelText:{type:String,default:"取消"},disabled:{type:Boolean,default:!1},showDanger:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},computed:{dialogVisible:{get:function(){return this.visible},set:function(t){this.$emit("update:visible",t)}}},data:function(){return{checkList:[]}},methods:{onCancleClick:function(){this.$emit("cancle")},onSubmitClick:function(t){this.dialogVisible&&("BUTTON"===t.target.nodeName?t.target.blur():"BUTTON"===t.target.parentNode.nodeName&&t.target.parentNode.blur(),this.$emit("submit"))},onDangerClick:function(){this.$emit("danger")},onOpen:function(){this.$emit("open")},onOpened:function(){this.$emit("opened")},onClose:function(){this.$emit("close")},onClosed:function(){this.$emit("closed")}}},a=(n("468e"),n("2877")),r=Object(a.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticClass:"mp-img-style-header mp-erp-common-dialog-comp-wrap",attrs:{title:t.title,visible:t.dialogVisible,"close-on-click-modal":!1,width:t.width,top:t.top,modal:!1,"before-close":t.onCancleClick},on:{"update:visible":function(e){t.dialogVisible=e},open:t.onOpen,opened:t.onOpened,close:t.onClose,closed:t.onClosed}},[t._t("default"),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t.showSubmit?n("el-button",{attrs:{type:"primary",loading:t.loading,disabled:t.disabled},on:{click:t.onSubmitClick}},[t._v(t._s(t.loading?"加载中":t.submitText))]):t._e(),t.showDanger?n("el-button",{attrs:{type:"danger"},on:{click:t.onDangerClick}},[t._v(t._s(t.dangerText))]):t._e(),n("el-button",{on:{click:t.onCancleClick}},[t._v(t._s(t.cancelText))])],1)],2)}),[],!1,null,null,null);e.a=r.exports},bc5c:function(t,e,n){"use strict";var i={props:{canEdit:{type:Boolean,default:!0},canRemove:{type:Boolean,default:!0}},methods:{onEditClick:function(){this.canEdit&&this.$emit("edit")},onRemoveClick:function(){this.canRemove&&this.$emit("remove")}}},a=(n("fe9a"),n("2877")),r=Object(a.a)(i,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ctrl-menus-container"},[i("span",{class:t.canEdit?"":"disabled",on:{click:t.onEditClick}},[i("img",{attrs:{src:n("3a48"),alt:""}}),i("i",[t._v("编辑")])]),i("span",{class:t.canRemove?"":"disabled",on:{click:t.onRemoveClick}},[i("img",{attrs:{src:n("6e30"),alt:""}}),i("i",[t._v("删除")])])])}),[],!1,null,null,null);e.a=r.exports},d16f:function(t,e,n){},e83a:function(t,e,n){"use strict";var i=n("59aa");n.n(i).a},fe9a:function(t,e,n){"use strict";var i=n("10e2");n.n(i).a}}]);