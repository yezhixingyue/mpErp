(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-201ca6cf"],{"66ba":function(t,e,i){"use strict";i.r(e);var s=(i("4de4"),i("ac1f"),i("5319"),i("2909")),a=i("5530"),n=i("2f62"),r=i("6538"),c=(i("96cf"),i("1da1")),o={computed:Object(a.a)({},Object(n.e)("timelimit",["searchCondition","dataList","TimeLimitActiveNames"]),{activeNames:{get:function(){return this.TimeLimitActiveNames},set:function(t){this.$store.commit("timelimit/setTimeLimitActiveNames",t)}}}),methods:{onAddClick:function(t){var e=t.ProductClass;this.$store.commit("timelimit/setSetPageType","add"),this.$store.commit("timelimit/setAddTimeLimitDataInit",e),this.$router.push("/timeLimitSet")},handleDelClick:function(t,e){var i=this,s=t.ID,a=t.ProductString;this.messageBox.warnCancelBox("确定删除该条设置吗","产品名称：".concat(a),Object(c.a)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.api.getProducePeriodRemove(s);case 2:if(1e3===t.sent.data.Status){t.next=5;break}return t.abrupt("return");case 5:a=function(){i.$store.commit("timelimit/removeItemFromDataList",[s,e])},i.messageBox.successSingle("删除成功",(function(){return a()}),(function(){return a()}));case 7:case"end":return t.stop()}}),t)}))))},handleEditClick:function(t){var e=this,i=t.ID;return Object(c.a)(regeneratorRuntime.mark((function t(){var s,n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.api.getProducePeriodDetail(i);case 2:if(1e3===(s=t.sent).data.Status){t.next=5;break}return t.abrupt("return");case 5:n=s.data.Data,delete(r=Object(a.a)({},n.ProductClass,{},n)).ProductClass,e.$store.commit("timelimit/setSetPageType","edit"),e.$store.commit("timelimit/setAddTimeLimitDataInit",r),e.$router.push("/timeLimitSet");case 11:case"end":return t.stop()}}),t)})))()}},watch:{}},l=(i("74d2"),i("2877")),u=Object(l.a)(o,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mp-erp-time-limit-list-page-content-wrap"},[0===t.dataList.length?i("div",{staticClass:"empty"},[t._v("暂无数据")]):i("el-collapse",{staticClass:"mp-directory-list-wrap",model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},t._l(t.dataList,(function(e,s){return i("el-collapse-item",{key:s,attrs:{name:s}},[i("template",{slot:"title"},[i("span",{staticClass:"t"},[t._v(t._s(e.ProductClass.FirstLevelName)+" - "+t._s(e.ProductClass.SecondLevelName))]),i("span",{staticClass:"is-gray",on:{click:function(i){return i.stopPropagation(),t.onAddClick(e)}}},[i("i"),t._v("添加工期")]),i("span",{staticStyle:{"font-size":"12px","font-weight":"400",color:"#989898","margin-left":"80px"}},[t._v(" 共 "),i("em",{staticStyle:{color:"#585858","font-weight":"700","font-size":"13px"}},[t._v(t._s(e.count))]),t._v(" 条数据")])]),i("ul",[0===e.List.length?i("li",{staticClass:"is-gray"},[t._v("暂无数据")]):t._l(e.List,(function(e){return i("li",{key:e.ID,staticClass:"item"},[e.ProductString.length>=18?i("el-tooltip",{attrs:{placement:"top-start",transition:"none",content:e.ProductString}},[i("div",[t._v(t._s(e.ProductString))])]):i("div",[t._v(t._s(e.ProductString))]),i("div",[t._v(t._s(e.RecordCount)+"条记录")]),i("div",[i("span",{staticClass:"blue-span",on:{click:function(i){return t.handleEditClick(e)}}},[t._v("编辑")]),i("span",{staticClass:"red-span",on:{click:function(i){return t.handleDelClick(e,s)}}},[t._v("删除")])])],1)}))],2)],2)})),1)],1)}),[],!1,null,null,null).exports,m={components:{OrderChannelSelector:r.a,ListContentComp:u},computed:Object(a.a)({},Object(n.e)("timelimit",["searchCondition"]),{},Object(n.c)("common",["twoLevelsProductClassify","allProductClassify"]),{ProductLevel1List:function(){if(!this.allProductClassify||0===this.allProductClassify.length)return[];var t=this.allProductClassify.filter((function(t){return 1===t.Level}));return Object(s.a)(t)}}),methods:Object(a.a)({},Object(n.d)("timelimit",["setSearchCondition"]),{requestFunc:function(){this.$store.dispatch("timelimit/fetchTimeLimitList"),this.$store.commit("timelimit/setTimeLimitActiveNames",[])}}),mounted:function(){this.$store.dispatch("common/getProductList"),this.$store.dispatch("common/getAllProductNames"),this.$route.query.notNeedFetch?this.$router.replace("/timeLimitList"):this.$store.dispatch("timelimit/fetchTimeLimitList")}},d=(i("92bb"),Object(l.a)(m,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"mp-erp-time-limit-list-page-wrap"},[i("header",[i("order-channel-selector",{attrs:{options:t.ProductLevel1List,requestFunc:t.requestFunc,changePropsFunc:t.setSearchCondition,typeList:[["classID",""]],value:t.searchCondition.classID,defaultProps:{label:"ClassName",value:"ID"},label:"产品分类"}})],1),i("ListContentComp")],1)}),[],!1,null,null,null));e.default=d.exports},"74d2":function(t,e,i){"use strict";var s=i("ddf6");i.n(s).a},"92bb":function(t,e,i){"use strict";var s=i("b9af");i.n(s).a},b9af:function(t,e,i){},ddf6:function(t,e,i){}}]);