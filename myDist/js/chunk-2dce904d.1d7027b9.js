(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2dce904d"],{"09f8":function(e,t,s){"use strict";var n={props:{title:{type:String,default:"关闭"},disabled:{type:Boolean,default:!1}}},i=(s("3f2b"),s("2877")),a=Object(i.a)(n,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("button",{staticClass:"normal-full-btn",class:e.disabled?"is-disabled":"",attrs:{disabled:e.disabled}},[e._v(e._s(e.title))])}),[],!1,null,null,null);t.a=a.exports},"1d08":function(e,t,s){"use strict";var n=s("56c7");s.n(n).a},"2e4d":function(e,t,s){"use strict";var n=(s("4de4"),s("7db0"),s("d81d"),s("ade3")),i={model:{prop:"selectList",event:"change"},props:{title:{type:String,default:"下单渠道"},itemList:{type:Array,default:function(){return[]}},selectList:{type:Array,default:function(){return[]}},defaultProps:{type:Object,default:function(){return{label:"CategoryName",value:"CategoryID"}}},isDisabled:{type:Boolean,default:!1},showTitle:{type:Boolean,default:!0},useLabel:{type:Boolean,default:!0}},computed:{checkList:{get:function(){var e=this;return this.selectList.map((function(t){var s=e.itemList.find((function(s){return s[e.defaultProps.value]===t[e.defaultProps.value]}));return s?e.useLabel?s[e.defaultProps.label]:s[e.defaultProps.value]:null})).filter((function(e){return!!e}))},set:function(e){var t=this,s=e.map((function(e){return t.itemList.find((function(s){return s[t.useLabel?t.defaultProps.label:t.defaultProps.value]===e}))}));s=s.map((function(e){return Object(n.a)({},t.defaultProps.value,e[t.defaultProps.value])})),this.$emit("change",s)}}}},a=(s("9ffe"),s("2877")),l=Object(a.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mp-common-comps-checkbox-group-comp-wrap"},[e.showTitle?s("span",[e._v(e._s(e.title)+"：")]):e._e(),s("el-checkbox-group",{model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}},e._l(e.itemList,(function(t,n){return s("el-checkbox",{key:t[e.defaultProps.value]+"-"+t[e.defaultProps.label]+n,attrs:{label:e.useLabel?t[e.defaultProps.label]:t[e.defaultProps.value],disabled:e.isDisabled}},[s("el-tooltip",{attrs:{"popper-class":"checkbox-tip","visible-arrow":!1,transition:"none",content:t[e.defaultProps.label],placement:"bottom",enterable:!1}},[s("span",[e._v(e._s(t[e.defaultProps.label]))])])],1)})),1)],1)}),[],!1,null,null,null);t.a=l.exports},"3bef":function(e,t,s){"use strict";var n=s("7bd4");s.n(n).a},"3f2b":function(e,t,s){"use strict";var n=s("436f");s.n(n).a},"436f":function(e,t,s){},"51d3":function(e,t,s){},"56c7":function(e,t,s){},"61be":function(e,t,s){},"69c6":function(e,t,s){"use strict";var n=s("61be");s.n(n).a},"7bd4":function(e,t,s){},8810:function(e,t,s){"use strict";var n=s("51d3");s.n(n).a},"9ffe":function(e,t,s){"use strict";var n=s("e548");s.n(n).a},af7e:function(e,t,s){},b00d:function(e,t,s){},b138:function(e,t,s){"use strict";s.r(t);var n=(s("ac1f"),s("5319"),s("09f8")),i=s("edeb"),a=(s("4de4"),s("d81d"),s("5530")),l=s("2f62"),o=(s("4160"),s("caad"),s("2532"),s("159b"),s("2909")),r={props:{title:{type:String,default:"销售区域"},treeList:{type:Array,default:function(){return[]}},defaultProps:{type:Object,default:function(){return{children:"children",label:"ClassName"}}},defaultNodeKey:{type:String,default:"ID"},defaultCheckedKeys:{type:Array,default:function(){return[]}},handleChangeFunc:{type:Function,default:function(){}},watchValue:{},shouldDisabledList:{type:Array,default:function(){return[]}},showDisabled:{type:Boolean,default:!1},checkAllTitle:{type:String,default:"所有地区"},isDisabled:{type:Boolean,default:!1},isProduct:{type:Boolean,default:!1}},computed:{treeListHasDisabled:function(){var e=this,t=JSON.parse(JSON.stringify(Object(o.a)(this.treeList))),s=this.watchValue;return t.forEach((function(t){var n=0;t.children.forEach((function(i){e.shouldDisabledList.includes(i[e.defaultNodeKey])&&(Array.isArray(s)&&s.includes(i[e.defaultNodeKey])?(i.disabled=!1,t.disabled&&(t.disabled=!1),e.localDisabled2CheckAll=!1):(i.disabled=!0,n+=1))})),t.children.length===n&&(t.disabled=!0)})),t},treeData:function(){return this.showDisabled?this.treeListHasDisabled:this.treeList},checkAllIndeterminate:function(){return this.defaultCheckedKeys.length>0&&this.defaultCheckedKeys.length<this.twoLevelKeys.length},AllKeys:function(){var e=[];return this.treeData.forEach((function(t){e.push(t.ID),t.children.forEach((function(t){e.push(t.ID)}))})),e},twoLevelKeys:function(){var e=[];return this.treeData.forEach((function(t){t.children.forEach((function(t){e.push(t.ID)}))})),e},isCheckAllDisabled:function(){var e=[];return this.treeData.forEach((function(t){t.children.forEach((function(t){e.push(t.ID)}))})),(this.isDisabled||e.length===this.shouldDisabledList.length)&&this.localDisabled2CheckAll},checkAllComputed:{get:function(){return this.defaultCheckedKeys.length===this.twoLevelKeys.length},set:function(e){!e&&this.canFalse?this.checkAll=!1:this.checkAllIndeterminate?(this.checkAll=!1,this.canFalse=!1):(this.checkAll=!0,this.canFalse=!0)}}},methods:{check:function(e,t){var s=t.checkedNodes,n=t.checkedKeys;this.handleChangeFunc(s,n),this.setCheckAllListAndStatus(n)},renderContent:function(e,t){var s=this,n=t.node,i=t.data;if(n.level>1)return n.label.length>5?e("el-tooltip",{class:"el-tree-node__label",attrs:{effect:"dark",content:n.label,placement:"top-start"}},[e("span",[n.label])]):e("span",{class:"el-tree-node__label"},[n.label]);var a=n.expanded?"收起":"展开",l=n.expanded?"close el-icon-caret-bottom":"el-icon-caret-bottom";return e("span",{class:"el-tree-node__label"},[e("span",{class:"title"},[n.label]),e("em",{class:"mp-el-tree-node-collapse-btn",on:{click:function(e){return s.expandLevel1(n,i,a,e)}}},[a]),e("span",{class:"icon-box",on:{click:function(e){return e.stopPropagation()}}},[e("em",{on:{click:function(e){return s.expandLevel1(n,i,a,e)}}},[e("i",{class:l})])])])},expandLevel1:function(e,t,s,n){n.stopPropagation(),e.expanded=!e.expanded},handleCheckAllChange:function(){if(this.checkAll){this.$refs.treeComp.setCheckedNodes(this.treeData),this.selectKeys=this.AllKeys;var e=this.$refs.treeComp.getCheckedNodes(),t=this.$refs.treeComp.getCheckedKeys();this.handleChangeFunc(e,t)}else this.$refs.treeComp.setCheckedKeys([]),this.selectKeys=[],this.handleChangeFunc([],[])},setCheckAllListAndStatus:function(e){this.selectKeys=e,this.selectKeys.length===this.AllKeys.length?this.checkAll=!0:!0===this.checkAll&&(this.checkAll=!1)}},data:function(){return{checkAll:!1,selectKeys:[],localDisabled2CheckAll:!0,canFalse:!0}},watch:{watchValue:{handler:function(e){var t=this;this.localDisabled2CheckAll=!0,this.$nextTick((function(){if("number"==typeof e)t.$refs.treeComp.setCheckedKeys([]),t.selectKeys=[],t.checkAll=!1;else if(Array.isArray(e)){t.$refs.treeComp.setCheckedKeys(e);var s=t.$refs.treeComp.getCheckedKeys();t.setCheckAllListAndStatus(s);var n=t.$refs.treeComp.getCheckedNodes();t.handleChangeFunc(n,s)}}))},immediate:!0},defaultCheckedKeys:function(e){e&&Array.isArray(e)&&0===e.length&&this.selectKeys.length>0&&(this.$refs.treeComp.setCheckedKeys([]),this.selectKeys=[],this.checkAll=!1),e&&Array.isArray(e)&&e.length>0&&0===this.selectKeys.length&&(this.$refs.treeComp.setCheckedKeys(e),this.selectKeys=e)}}},c=(s("69c6"),s("2877")),u={components:{TreeCompTwoLevels:Object(c.a)(r,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"mp-common-comps-two-level-tree-comp-wrap",class:e.isProduct?"isProduct":""},[s("header",[e._v(" "+e._s(e.title)),e.title?s("span",[e._v("：")]):e._e()]),s("div",{staticClass:"content mp-scroll-wrap"},[s("el-checkbox",{attrs:{disabled:e.isCheckAllDisabled,indeterminate:e.checkAllIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAllComputed,callback:function(t){e.checkAllComputed=t},expression:"checkAllComputed"}},[e._v(" "+e._s(e.checkAllTitle)+" ")]),s("el-tree",{ref:"treeComp",staticClass:"mp-scroll-wrap",attrs:{data:e.treeData,"show-checkbox":"","icon-class":"","node-key":e.defaultNodeKey,"default-checked-keys":e.defaultCheckedKeys,props:e.defaultProps,"expand-on-click-node":!1,"check-on-click-node":!0,"render-content":e.renderContent},on:{check:e.check}})],1)])}),[],!1,null,null,null).exports},computed:Object(a.a)({},Object(l.c)("common",["twoLevelsProductClassify"]),{},Object(l.e)("deposit",["objForDepositAdd"]),{defaultCheckedKeys:function(){return this.objForDepositAdd.ProductList.map((function(e){return e.SecondLevelID}))}}),methods:Object(a.a)({},Object(l.b)("common",["getProductList"]),{handleChangeFunc:function(e){var t=e.filter((function(e){return 2===e.Level})).map((function(e){return{FirstLevelID:e.ParentID,SecondLevelID:e.ID,ClassName:e.ClassName}}));this.$store.commit("deposit/setObjForDepositAdd",[["ProductList",""],t])}}),mounted:function(){this.getProductList()}},d=(s("3bef"),Object(c.a)(u,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mp-deposit-add-page-content-left-comp-wrap mp-scroll-wrap"},[s("tree-comp-two-levels",{attrs:{title:"选择产品",isProduct:"",treeList:e.twoLevelsProductClassify,defaultCheckedKeys:e.defaultCheckedKeys,handleChangeFunc:e.handleChangeFunc,checkAllTitle:"所有产品"}})],1)}),[],!1,null,null,null)).exports,p=s("d06f"),h=s("2e4d"),f=(s("c740"),{model:{props:"value",event:"change"},props:{list:{type:Array,default:function(){return["备选项1","备选项2"]}},value:{},defaultProps:{type:Object,default:function(){return{label:"name",value:"ID"}}}},computed:{radio:{get:function(){var e=this;return this.list.findIndex((function(t){return t[e.defaultProps.value]===e.value}))},set:function(e){this.$emit("change",this.list[e][this.defaultProps.value])}}}}),m=(s("8810"),Object(c.a)(f,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"mp-single-radio-wrap"},e._l(e.list,(function(t,n){return s("el-radio",{key:t[e.defaultProps.value]+""+n,attrs:{disabled:t.disabled,label:n},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v(" "+e._s(t[e.defaultProps.label])+" ")])})),1)}),[],!1,null,null,null)).exports,b={components:{SingleBottomLineInputComp:p.a,CheckboxGroupComp:h.a,SingleRadioNew:m},computed:Object(a.a)({},Object(l.e)("common",["userTypeList","userRankList"]),{},Object(l.c)("common",["subExpressList"]),{},Object(l.e)("deposit",["objForDepositAdd"]),{MinAmount:{get:function(){return this.objForDepositAdd.MinAmount},set:function(e){this.$store.commit("deposit/setObjForDepositAdd",[["MinAmount",""],e])}},Percent:{get:function(){return this.objForDepositAdd.Percent},set:function(e){this.$store.commit("deposit/setObjForDepositAdd",[["Percent",""],e])}},IsChargeFreight:{get:function(){return this.objForDepositAdd.IsChargeFreight},set:function(e){this.$store.commit("deposit/setObjForDepositAdd",[["IsChargeFreight",""],e])}},filterUserTypeList:function(){return this.userTypeList?this.userTypeList.filter((function(e){return e.Value||0===e.Value})):[]},selectUserTypeList:function(){return this.objForDepositAdd.CustomerTypeList.map((function(e){return{CategoryID:e.ID}}))},selectSubExpressList:function(){return this.objForDepositAdd.LogisticsList.map((function(e){return{ID:e.ID}}))},selectUserRankList:function(){return this.objForDepositAdd.CustomerGradeList.map((function(e){return{CategoryID:e.ID}}))},filterUserRankList:function(){return this.userRankList?this.userRankList.filter((function(e){return e.Value||0===e.Value})):[]}}),data:function(){return{val1:"",radioList:[{name:"是",ID:!0},{name:"否",ID:!1}]}},methods:{onUserTypeListChange:function(e){var t=e.map((function(e){return{ID:e.CategoryID}}));this.$store.commit("deposit/setObjForDepositAdd",[["CustomerTypeList",""],t])},onUserRankListChange:function(e){var t=e.map((function(e){return{ID:e.CategoryID}}));this.$store.commit("deposit/setObjForDepositAdd",[["CustomerGradeList",""],t])},onSubExpressListChange:function(e){var t=e.map((function(e){return{ID:e.ID}}));this.$store.commit("deposit/setObjForDepositAdd",[["LogisticsList",""],t])}},mounted:function(){this.$store.dispatch("common/getUserClassify"),this.$store.dispatch("common/getExpressList")}},v=(s("fb6c"),Object(c.a)(b,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mp-deposit-add-page-content-right-comp-wrap"},[s("SingleBottomLineInputComp",{attrs:{title:"单笔订单大于等于"},model:{value:e.MinAmount,callback:function(t){e.MinAmount=t},expression:"MinAmount"}}),s("SingleBottomLineInputComp",{staticClass:"second-line",attrs:{title:"定金百分比",remark:"%"},model:{value:e.Percent,callback:function(t){e.Percent=t},expression:"Percent"}}),s("checkbox-group-comp",{attrs:{title:"客户类型",itemList:e.filterUserTypeList,selectList:e.selectUserTypeList},on:{change:e.onUserTypeListChange}}),s("checkbox-group-comp",{attrs:{title:"客户等级",itemList:e.filterUserRankList,selectList:e.selectUserRankList},on:{change:e.onUserRankListChange}}),s("checkbox-group-comp",{attrs:{title:"物流方式",itemList:e.subExpressList,selectList:e.selectSubExpressList,defaultProps:{label:"Name",value:"ID"}},on:{change:e.onSubExpressListChange}}),s("div",[s("span",{staticClass:"mp-head-page-title"},[e._v("是否扣物流费用：")]),s("SingleRadioNew",{attrs:{list:e.radioList},model:{value:e.IsChargeFreight,callback:function(t){e.IsChargeFreight=t},expression:"IsChargeFreight"}})],1)],1)}),[],!1,null,null,null)).exports,C={components:{normalBtn:i.a,normalBtnFull:n.a,DepositAddPageLeftComp:d,DepositAddPageRightComp:v},data:function(){return{title:"添加定金设置"}},methods:{onSubmitClick:function(){this.$store.dispatch("deposit/SaveDeposit",this.handleSuccess)},handleSuccess:function(){var e=this,t=this.$route.params.type,s="add"===t?"添加成功":"edit"===t?"修改成功":"";this.messageBox.successSingle(s,(function(){e.$store.commit("deposit/setListData",[]),e.onReturnClick()}))},onReturnClick:function(){this.$store.commit("deposit/clearObjForDepositAdd"),this.$router.replace("/depositList")}},mounted:function(){var e=this.$route.params.type,t=this.$store.state.deposit.objForDepositAdd.ID;"edit"!==e||t?("add"===e&&(this.title="添加定金设置"),"edit"===e&&(this.title="编辑定金设置")):this.onReturnClick()}},g=(s("f08e"),Object(c.a)(C,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mp-deposit-add-page-comp-wrap"},[s("header",{staticClass:"mp-common-title-wrap"},[e._v(e._s(e.title))]),s("div",{staticClass:"content"},[s("div",{staticClass:"left"},[s("deposit-add-page-left-comp")],1),s("div",{staticClass:"right"},[s("deposit-add-page-right-comp")],1)]),s("footer",[s("normal-btn-full",{attrs:{title:"保存"},nativeOn:{click:function(t){return e.onSubmitClick(t)}}}),s("normal-btn",{attrs:{title:"返回"},nativeOn:{click:function(t){return e.onReturnClick(t)}}})],1)])}),[],!1,null,null,null));t.default=g.exports},d06f:function(e,t,s){"use strict";var n={props:{title:{type:String,default:"金额"},remark:{type:String,default:"元"},value:{},isNum:{type:Boolean,default:!1}},model:{prop:"value",event:"change"},computed:{inpVal:{get:function(){return this.value},set:function(e){var t=e;this.isNum&&(t=this.$utils.filterNumber(t)),this.$emit("change",t)}}}},i=(s("1d08"),s("2877")),a=Object(i.a)(n,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mp-common-comp-single-bottom-line-input-wrap"},[s("span",{staticClass:"title"},[e._v(e._s(e.title)+"：")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.inpVal,expression:"inpVal"}],attrs:{type:"text"},domProps:{value:e.inpVal},on:{input:function(t){t.target.composing||(e.inpVal=t.target.value)}}}),s("span",{staticClass:"remark is-gray"},[e._v(e._s(e.remark))])])}),[],!1,null,null,null);t.a=a.exports},e548:function(e,t,s){},f08e:function(e,t,s){"use strict";var n=s("af7e");s.n(n).a},fb6c:function(e,t,s){"use strict";var n=s("b00d");s.n(n).a}}]);